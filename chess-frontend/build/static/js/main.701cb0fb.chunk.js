(this["webpackJsonpchess-frontend"]=this["webpackJsonpchess-frontend"]||[]).push([[0],{195:function(e,n,t){e.exports=t.p+"static/media/ranking.78f675e7.svg"},197:function(e,n,t){e.exports=t.p+"static/media/spinner.e9a76a3f.svg"},203:function(e,n,t){e.exports=t(376)},213:function(e,n,t){},242:function(e,n){},270:function(e,n){},272:function(e,n){},304:function(e,n){},305:function(e,n){},376:function(e,n,t){"use strict";t.r(n);var r=t(7),a=t.n(r),c=t(19),o=t(1),i=t.n(o),u=t(80),l=t.n(u),s=t(39),b=t(8),f=t(46),d=t(186),p=t(187),x=t(83),m=t(31),v=(t(213),t(2)),h=t(48),O=t(3);function g(){var e=Object(v.a)(["\n    position: absolute;\n    top: 10%;\n    left: 0%;\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.4);\n"]);return g=function(){return e},e}function j(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    margin-right: 8%;\n"]);return j=function(){return e},e}function E(){var e=Object(v.a)(["\n        display: none;\n        visibility: hidden;\n    "]);return E=function(){return e},e}function y(){var e=Object(v.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    font-size: 16px;\n    cursor: pointer;\n    color: rgb(0, 0, 0, 0.4);\n    margin-left: 20px;\n    text-decoration: none;\n    \n    ",";\n"]);return y=function(){return e},e}function k(){var e=Object(v.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    font-size: 16px;\n    cursor: pointer;\n    color: rgb(0, 0, 0, 0.4);\n    margin-left: 20px;\n"]);return k=function(){return e},e}function w(){var e=Object(v.a)(["\n    margin-left: 30px;\n    display: flex;\n"]);return w=function(){return e},e}function C(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    margin-left: 8%;\n"]);return C=function(){return e},e}function I(){var e=Object(v.a)(["\n    ","\n    color: rgb(0, 0, 0, 0.4);\n"]);return I=function(){return e},e}function S(){var e=Object(v.a)(["\n    ","\n    color: rgb(0, 0, 0, 0.6);\n"]);return S=function(){return e},e}function A(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    height: 40px;\n    background-color: transparent;\n    cursor: pointer;\n    font-size: 30px;\n    text-decoration: none;\n    text-shadow: 2px 2px 2px rgb(0, 0, 0, 0.2);\n    font-style: italic;\n"]);return A=function(){return e},e}function T(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 50px;\n"]);return T=function(){return e},e}var _=O.b.div(T()),L=Object(O.a)(A()),N=Object(O.b)(s.b)(S(),L),z=Object(O.b)(s.b)(I(),L),R=O.b.div(C()),B=O.b.div(w()),D=O.b.div(k()),K=Object(O.b)(s.b)(y(),(function(e){return e.hidden&&Object(O.a)(E())})),U=function(e){return e.to?i.a.createElement(K,e,e.children):i.a.createElement(D,e,e.children)},M=O.b.div(j()),V=O.b.div(g()),P=i.a.memo((function(e){var n,t=e.onRecord,r=e.onLogout,a=e.onLogin,c=e.tempAuth,o=e.auth;return c&&(n=c.nickname),o&&(n=o.username),i.a.createElement(i.a.Fragment,null,i.a.createElement(_,null,i.a.createElement(R,null,i.a.createElement(N,{to:"/"},"chesssup"),i.a.createElement(z,{to:"/"},".com"),i.a.createElement(B,null,i.a.createElement(U,{to:"/game"},"Play"),i.a.createElement(U,{to:"/community"},"Community"))),i.a.createElement(M,null,i.a.createElement(U,{onClick:t},"Search"),o?i.a.createElement(i.a.Fragment,null,i.a.createElement(U,{onClick:t},"Setting"),i.a.createElement(U,{onClick:t},"Record"),i.a.createElement(U,{onClick:r},"Logout",i.a.createElement(V,null,n))):i.a.createElement(U,{onClick:a},"Login",i.a.createElement(V,null,n)))))})),F=t(5),W=t(4),G=t(20),Z=t(10),H=t(378),q=t(377),J=t(193),X=t.n(J),Q=t(9),Y=a.a.mark(ee),$=a.a.mark(ne);function ee(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(x.b)((function(n){return e.on("connect",(function(t){n({type:"socket",socket:e.id})})),e.on("reconnect",(function(){console.dir("socketio reconnect")})),e.on("message",(function(e){n(e)})),function(){e.close()}})));case 1:case"end":return n.stop()}}),Y)}function ne(e){var n,t,r,c,o,i,u,l,s,b,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,r=e.query,c=e.initializeSocket,o=e.initializeValue,i=e.changeValue,u=e.updateValue,l=e.clearValue,s=e.notifyRequest,a.prev=1,b=X()(t,{query:r,secure:!0}),a.next=5,Object(Q.b)(ee,b);case 5:n=a.sent;case 6:return a.next=9,Object(Q.g)(n);case 9:f=a.sent,a.t0=f.type,a.next="socket"===a.t0?13:"initialize"===a.t0?18:"change"===a.t0?21:"update"===a.t0?24:"clear"===a.t0?27:"notify"===a.t0?30:33;break;case 13:if(!c){a.next=16;break}return a.next=16,Object(Q.f)(c(f));case 16:return a.abrupt("break",34);case 18:return a.next=20,Object(Q.f)(o(f));case 20:return a.abrupt("break",34);case 21:return a.next=23,Object(Q.f)(i(f));case 23:return a.abrupt("break",34);case 24:return a.next=26,Object(Q.f)(u(f));case 26:return a.abrupt("break",34);case 27:return a.next=29,Object(Q.f)(l(f));case 29:return a.abrupt("break",34);case 30:return a.next=32,Object(Q.f)(s(f));case 32:return a.abrupt("break",34);case 33:console.dir(f);case 34:a.next=6;break;case 36:a.next=41;break;case 38:a.prev=38,a.t1=a.catch(1),console.dir(a.t1);case 41:return a.prev=41,a.next=44,Object(Q.d)();case 44:if(!a.sent){a.next=46;break}n.close();case 46:return a.finish(41);case 47:case"end":return a.stop()}}),$,null,[[1,38,41,47]])}var te=t(194),re=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function ae(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return function(e){return function(){var o=Object(c.a)(a.a.mark((function c(o){var i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n(e);case 3:return i=a.sent,o({type:t,payload:i.data}),a.abrupt("return",i.data);case 8:throw a.prev=8,a.t0=a.catch(0),console.dir(a.t0),o({type:r,payload:a.t0,error:!0}),a.t0;case 13:case"end":return a.stop()}}),c,null,[[0,8]])})));return function(e){return o.apply(this,arguments)}}()}}var ce,oe=t(22),ie=t.n(oe),ue=function(e){var n=Object.assign({},e);try{Object.keys(n).forEach((function(e){localStorage.setItem(e,JSON.stringify(n[e]))}))}catch(t){console.dir("Set localStorage failed"),console.dir(t)}},le=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(n){console.dir("Get localStorage failed"),console.dir(n)}},se=function(e){try{localStorage.removeItem(e)}catch(n){console.dir("Remove localStorage failed"),console.dir(n)}},be=function(){try{localStorage.clear()}catch(e){console.dir("Clear localStorage failed"),console.dir(e)}},fe=a.a.mark(Qe),de=a.a.mark(Ye),pe=Object(H.a)("sessionAuth/CONNECT_WEBSOCKET"),xe=Object(H.a)("sessionAuth/DISCONNECT_WEBSOCKET"),me=Object(H.a)("sessionAuth/INITIALIZE_VALUE",(function(e){return e})),ve=Object(H.a)("sessionAuth/CLEAR_VALUE"),he=re("sessionAuth/SET_SESSION"),Oe=Object(Z.a)(he,3),ge=Oe[0],je=Oe[1],Ee=Oe[2],ye=ae(ge,(function(){return ie.a.get("/api/auth/getSession")})),ke=re("sessionAuth/LOGIN"),we=Object(Z.a)(ke,3),Ce=we[0],Ie=we[1],Se=we[2],Ae=re("sessionAuth/REGISTER"),Te=Object(Z.a)(Ae,3),_e=Te[0],Le=Te[1],Ne=Te[2],ze=re("sessionAuth/LOGOUT"),Re=Object(Z.a)(ze,3),Be=Re[0],De=Re[1],Ke=Re[2],Ue=re("sessionAuth/CHECK"),Me=Object(Z.a)(Ue,3),Ve=Me[0],Pe=Me[1],Fe=Me[2],We=ae(Ce,(function(e){var n=e.username,t=e.password;return ie.a.post("/api/auth/login",{username:n,password:t})})),Ge=ae(_e,(function(e){var n=e.username,t=e.password;return ie.a.post("/api/auth/register",{username:n,password:t})})),Ze=ae(Be,(function(){return ie.a.post("/api/auth/logout")})),He=ae(Ve,(function(){return ie.a.get("/api/auth/check")})),qe=Object(H.a)("sessionAuth/CHANGE_FIELD",(function(e){return e})),Je=Object(H.a)("sessionAuth/CLEAR_FIELD",(function(e){return e})),Xe=Object(H.a)("sessionAuth/CLEAR_SPECIFIC_FIELD",(function(e){return e}));function Qe(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Q.e)(ne,{url:"/sessionAuth",initializeValue:me,clearValue:ve});case 2:return e=n.sent,n.next=5,Object(Q.g)("sessionAuth/DISCONNECT_WEBSOCKET");case 5:return n.next=7,Object(Q.c)(e);case 7:case"end":return n.stop()}}),fe)}function Ye(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("sessionAuth/CONNECT_WEBSOCKET",Qe);case 2:case"end":return e.stop()}}),de)}var $e={tempAuth:null,auth:null,authError:null,login:{username:"",password:""},register:{username:"",password:"",passwordConfirm:""}},en=Object(q.a)((ce={},Object(F.a)(ce,"sessionAuth/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(W.a)({},e,{auth:Object(W.a)({},r)})})),Object(F.a)(ce,"sessionAuth/CLEAR_VALUE",(function(e){return Object(W.a)({},$e,{tempAuth:e.tempAuth})})),Object(F.a)(ce,je,(function(e,n){var t=n.payload;return Object(W.a)({},e,{tempAuth:t})})),Object(F.a)(ce,Ee,(function(e,n){var t=n.payload;return Object(W.a)({},e,{tempAuth:null,error:t})})),Object(F.a)(ce,"sessionAuth/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,c=t.value;return Object(te.a)(e,(function(e){e[r][a]=c}))})),Object(F.a)(ce,"sessionAuth/CLEAR_FIELD",(function(e,n){var t,r=n.payload.form;return Object(W.a)({},e,(t={},Object(F.a)(t,r,$e[r]),Object(F.a)(t,"authError",$e.authError),t))})),Object(F.a)(ce,"sessionAuth/CLEAR_SPECIFIC_FIELD",(function(e,n){var t,r=n.payload,a=r.form,c=r.key;return Object(W.a)({},e,(t={},Object(F.a)(t,a,Object(W.a)({},e[a],Object(F.a)({},c,$e[a][c]))),Object(F.a)(t,"authError",$e.authError),t))})),Object(F.a)(ce,Ie,(function(e,n){var t=n.payload;return Object(W.a)({},e,{auth:t,authError:null})})),Object(F.a)(ce,Se,(function(e,n){var t=n.payload;return Object(W.a)({},e,{auth:null,authError:t})})),Object(F.a)(ce,Le,(function(e,n){var t=n.payload;return Object(W.a)({},e,{auth:t,authError:null})})),Object(F.a)(ce,Ne,(function(e,n){var t=n.payload;return Object(W.a)({},e,{auth:null,authError:t})})),Object(F.a)(ce,De,(function(e){return Object(W.a)({},e,{auth:null,authError:null})})),Object(F.a)(ce,Ke,(function(e,n){var t=n.payload;return Object(W.a)({},e,{auth:null,authError:t})})),Object(F.a)(ce,Pe,(function(e,n){var t=n.payload;return Object(W.a)({},e,{auth:t,authError:null})})),Object(F.a)(ce,Fe,(function(e,n){var t=n.payload;return Object(W.a)({},e,{auth:null,authError:t})})),ce),$e),nn=Object(h.f)((function(e){var n=e.history,t=Object(b.c)((function(e){var n=e.sessionAuth;return{tempAuth:n.tempAuth,auth:n.auth}})),r=t.tempAuth,u=t.auth,l=Object(b.b)(),s=Object(o.useCallback)((function(){l(function(){var e=Object(c.a)(a.a.mark((function e(n,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Ze());case 3:se("auth"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.dir("Logout failed");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}())}),[l]),f=Object(o.useCallback)((function(){alert("onRecord")}),[]),d=Object(o.useCallback)((function(){l(Je({form:"login"})),n.push("/login")}),[l,n]);return Object(o.useEffect)((function(){return l(pe()),function(){l(xe())}}),[l]),i.a.createElement(P,{onRecord:f,onLogout:s,onLogin:d,tempAuth:r,auth:u})}));function tn(e,n){switch(n.type){case"LOADING":return{loading:!0,data:null,error:null};case"SUCCESS":return{loading:!1,data:n.data,error:null};case"FAILURE":return{loading:!1,data:null,error:n.error};default:throw new Error("Unhandled action type Error")}}var rn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(o.useReducer)(tn,{loading:!1,data:null,error:!1}),r=Object(Z.a)(t,2),i=r[0],u=r[1],l=function(){var n=Object(c.a)(a.a.mark((function n(){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u({type:"LOADING"}),n.prev=1,n.next=4,e();case 4:t=n.sent,u({type:"SUCCESS",data:t}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),u({type:"FAILURE",error:n.t0});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();return Object(o.useEffect)((function(){l()}),n),[i,l]},an=t(12),cn=t(195),on=t.n(cn);function un(){var e=Object(v.a)(["\n    position: absolute;\n    display: flex;\n    height: 40px;\n    width: 100%;\n    border-bottom: 2px solid rgba(0, 0, 0, 0.7);\n    top: 0;\n    left: 0;\n"]);return un=function(){return e},e}function ln(){var e=Object(v.a)(["\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    background-color: #ccc;\n    top: ",";\n    left: 0;\n"]);return ln=function(){return e},e}function sn(){var e=Object(v.a)(["\n        justify-content: center;\n    "]);return sn=function(){return e},e}function bn(){var e=Object(v.a)(["\n        width: 240px;\n        justify-content: flex-start;\n    "]);return bn=function(){return e},e}function fn(){var e=Object(v.a)(["\n        width: 120px;\n    "]);return fn=function(){return e},e}function dn(){var e=Object(v.a)(["\n    width: 100px;\n    font-size: 13px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ","\n\n    ","\n\n    ",";\n\n"]);return dn=function(){return e},e}function pn(){var e=Object(v.a)(["\n    position: absolute;\n    height: 40px;\n    width: 100%;\n    display: flex;\n    cursor: pointer;\n    transition: 1s top;\n    top: ",";\n    left: 0;\n\n    &:hover {\n        background-color: rgba(255, 255, 255, 0.8);\n    }\n    \n"]);return pn=function(){return e},e}function xn(){var e=Object(v.a)(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    z-index: 10;\n"]);return xn=function(){return e},e}var mn=O.b.div(xn()),vn=O.b.div(pn(),(function(e){return 41*e.index+42+"px"})),hn=O.b.div(dn(),(function(e){return e.elo&&Object(O.a)(fn())}),(function(e){return e.mail&&Object(O.a)(bn())}),(function(e){return e.header&&Object(O.a)(sn())})),On=i.a.memo((function(e){var n=e.cell;return i.a.createElement(vn,{index:n.index},i.a.createElement(hn,null,n.index+1),i.a.createElement(hn,{mail:!0},n.username),i.a.createElement(hn,{elo:!0},n.elo),i.a.createElement(hn,null,n.ratio),i.a.createElement(hn,null,n.win),i.a.createElement(hn,null,n.lose))})),gn=O.b.div(ln(),(function(e){return 41*e.index-1+42+"px"})),jn=i.a.memo((function(){return i.a.createElement(En,null,i.a.createElement(hn,null,"Rank"),i.a.createElement(hn,{mail:!0,header:!0},"Email"),i.a.createElement(hn,{elo:!0},"Elo"),i.a.createElement(hn,null,"Ratio"),i.a.createElement(hn,null,"Win"),i.a.createElement(hn,null,"Lose"))})),En=O.b.div(un()),yn=i.a.memo((function(e){var n=e.list,t=n&&n.map((function(e){return i.a.createElement(On,{key:e.username,cell:e})})),r=[];if(n)for(var a=n.reduce((function(e,n){return e+(n.index<15?1:0)}),0),c=1;c<a;++c)r.push(i.a.createElement(gn,{key:"border_".concat(c),index:c}));return i.a.createElement(mn,null,i.a.createElement(jn,null),t,r)})),kn=function(e){var n=e.list;return i.a.createElement(yn,{list:n})};function wn(){var e=Object(v.a)(["\n    position: absolute;\n    top: 10%;\n    left: 10%;\n    width: 80%;\n    height: 80%;\n    opacity: 0.1;\n    z-index: -1;\n"]);return wn=function(){return e},e}function Cn(){var e=Object(v.a)(["\n    position: relative;\n    width: 720px;\n    height: 720px;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    padding: 30px;\n    background-color: rgba(255,255,255,0.5);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Cn=function(){return e},e}var In=O.b.div(Cn()),Sn=O.b.img(wn()),An=i.a.memo((function(e){var n=e.rank;return i.a.createElement(In,null,i.a.createElement(Sn,{src:on.a}),i.a.createElement(kn,{list:n}))})),Tn=function(){var e=Object(b.c)((function(e){return{ranking:e.ranking.ranking}})).ranking,n=Object(o.useState)(),t=Object(Z.a)(n,2),r=t[0],a=t[1];return Object(o.useEffect)((function(){e&&a((function(n){if(!n)return e.map((function(e,n){return Object(W.a)({},e,{index:n})}));var t=[],r=n.filter((function(e){return 15!==e.index})).map((function(n){var r=e.findIndex((function(e){return e.username===n.username}));return r>=0?(t.push(r),JSON.stringify(Object(W.a)({},e[r],{index:r}))==JSON.stringify(n)?n:Object(W.a)({},e[r],{index:r})):Object(W.a)({},n,{index:15})})),c=0,o=[];return t.sort((function(e,n){return e-n})).reduce((function(e,n){for(var t=c;t<n;++t)e.push(t);return c=n+1,e}),[]).forEach((function(n){r.push(Object(W.a)({},e[n],{index:15})),o.push(Object(W.a)({},e[n],{index:n}))})),t.length>0&&setTimeout((function(){a((function(e){var n=Object(an.a)(e);return o.forEach((function(e){var t=n.findIndex((function(n){return n.username===e.username}));t&&n.splice(t,1,Object(W.a)({},e))})),n}))}),0),r}))}),[e]),Object(o.useEffect)((function(){return function(){a(null)}}),[]),i.a.createElement(An,{rank:r})},_n=t(0),Ln=t(51),Nn={pawn:Ln.d,king:Ln.b,queen:Ln.e,bishop:Ln.a,knight:Ln.c,rook:Ln.f,covered:Ln.g},zn={white:{color:"white",style:{filter:"drop-shadow(1px 1px 1px white)",width:"80%",height:"80%"}},black:{color:"black",style:{filter:"drop-shadow(1px 1px 1px black)",width:"80%",height:"80%"}},covered0:{style:{filter:"drop-shadow(1px 1px 1px black)",width:"30%",height:"30%",color:"rgb(130, 151, 105)"}},covered1:{style:{filter:"drop-shadow(1px 1px 1px black)",width:"30%",height:"30%",color:"rgb(100, 111, 64)"}}};function Rn(){var e=Object(v.a)(["\n        visibility: visible;\n        opacity: 1;\n    "]);return Rn=function(){return e},e}function Bn(){var e=Object(v.a)(["\n    position: absolute;\n    top: 0;\n    left: calc(100% + 17px);\n    width: 60px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    font-size: 12px;\n    visibility: hidden;\n    opacity: 0;\n    transition: 0.5s;\n    font-weight: bold;\n\n    ","\n"]);return Bn=function(){return e},e}function Dn(){var e=Object(v.a)(["\n        pointer-events: none;\n    "]);return Dn=function(){return e},e}function Kn(){var e=Object(v.a)(["\n    ","\n"]);return Kn=function(){return e},e}function Un(){var e=Object(v.a)(["\n            background-color: rgb(132, 121, 78);\n        "]);return Un=function(){return e},e}function Mn(){var e=Object(v.a)(["\n            background-color: rgb(174, 177, 135);\n        "]);return Mn=function(){return e},e}function Vn(){var e=Object(v.a)(["\n        background-color: rgb(170, 162, 58);\n    "]);return Vn=function(){return e},e}function Pn(){var e=Object(v.a)(["\n        background-color: rgb(205, 210, 106);\n    "]);return Pn=function(){return e},e}function Fn(){var e=Object(v.a)(["\n        background-color: rgb(100, 111, 64);\n    "]);return Fn=function(){return e},e}function Wn(){var e=Object(v.a)(["\n        background-color: rgb(130, 151, 105);\n    "]);return Wn=function(){return e},e}function Gn(){var e=Object(v.a)(["\n        background-color: rgb(181, 136, 99);\n    "]);return Gn=function(){return e},e}function Zn(){var e=Object(v.a)(["\n        background-color: rgb(240, 217, 181);\n    "]);return Zn=function(){return e},e}function Hn(){var e=Object(v.a)(["\n    display: flex;\n    cursor: pointer;\n    justify-content: center;\n    align-items: center;\n    /* width: 90px;\n    height: 90px; */\n    \n    width: ",";\n\n    height: ",";\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    &:hover {\n        ","\n\n        ","  \n    }\n"]);return Hn=function(){return e},e}function qn(){var e=Object(v.a)(["\n    display: flex;\n"]);return qn=function(){return e},e}function Jn(){var e=Object(v.a)(["\n        opacity: 0.8;\n    "]);return Jn=function(){return e},e}function Xn(){var e=Object(v.a)(["\n    position: relative;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    transition: 0.5s;\n\n    ","\n"]);return Xn=function(){return e},e}var Qn=function(e){var n=e.piece,t=e.owner,r=e.covered,a=e.cellNum,c=null;if(r){var o=Nn.covered;c=i.a.createElement(_n.b.Provider,{value:zn["covered".concat(a)]},i.a.createElement(o,null))}if(!n||!t)return c;var u=Nn[n],l=c?{opacity:.5,filter:"black"===t?"drop-shadow(1px 1px 1px white)":"drop-shadow(1px 1px 1px black)"}:null,s=Object(W.a)({},zn[t],{style:Object(W.a)({},zn[t].style,{},l)});return i.a.createElement(_n.b.Provider,{value:s},i.a.createElement(u,null))},Yn=O.b.div(Xn(),(function(e){return e.replayMode&&Object(O.a)(Jn())})),$n=O.b.div(qn()),et=O.b.div(Hn(),(function(e){return e.cellSize?e.cellSize:"90px"}),(function(e){return e.cellSize?e.cellSize:"90px"}),(function(e){return 0===e.cellNum&&Object(O.a)(Zn())}),(function(e){return 1===e.cellNum&&Object(O.a)(Gn())}),(function(e){return 0===e.cellNum&&e.clicked&&Object(O.a)(Wn())}),(function(e){return 1===e.cellNum&&e.clicked&&Object(O.a)(Fn())}),(function(e){return 0===e.cellNum&&e.tracked&&Object(O.a)(Pn())}),(function(e){return 1===e.cellNum&&e.tracked&&Object(O.a)(Vn())}),(function(e){return 0===e.cellNum&&e.covered&&Object(O.a)(Mn())}),(function(e){return 1===e.cellNum&&e.covered&&Object(O.a)(Un())})),nt=i.a.memo((function(e){var n=e.row,t=e.y,r=e.cellSize,a=e.onClickCell,c=e.pieceConverter;return i.a.createElement($n,null,n.map((function(e,n){return i.a.createElement(tt,{key:"cell_".concat(t,"_").concat(n),onClick:a.bind(null,{y:t,x:n}),pieceConverter:c,cellNum:(n+t)%2,cellSize:r,cell:e,y:t,x:n})})))}),(function(e,n){return e.row===n.row})),tt=i.a.memo((function(e){var n=e.cell,t=e.cellSize,r=e.cellNum,a=e.onClick,c=e.pieceConverter;e.y,e.x;return i.a.createElement(et,Object.assign({onClick:a,cellNum:r,cellSize:t},n),c({piece:n.piece,owner:n.owner,covered:n.covered,cellNum:r}))}),(function(e,n){return e.cell===n.cell})),rt=O.b.div(Kn(),(function(e){return e.blocked&&Object(O.a)(Dn())})),at=function(e){var n=e.board,t=e.blocked,r=e.cellSize,a=e.onClick,c=Object(o.useCallback)((function(e){var n=e.y,t=e.x;a(n,t)}),[a]);return i.a.createElement(rt,{blocked:t},n&&n.map((function(e,n){return i.a.createElement(nt,{key:"row_".concat(n),row:e,y:n,cellSize:r,onClickCell:c,pieceConverter:Qn})})))},ct=O.b.div(Bn(),(function(e){return e.replayMode&&Object(O.a)(Rn())})),ot=i.a.memo((function(e){var n=e.onContextMenu,t=e.replayMode,r=(e.billBoard,Object(G.a)(e,["onContextMenu","replayMode","billBoard"]));return i.a.createElement(i.a.Fragment,null,i.a.createElement(Yn,{replayMode:t,onContextMenu:n},i.a.createElement(at,r),i.a.createElement(ct,{replayMode:t},"Replay")))})),it=function(e){var n=e.roomKey,t=e.cellSize,r=Object(b.c)((function(e){return{board:e.billBoard.boards[n]}})).board,a=Object(o.useCallback)((function(e){e.preventDefault()}),[]);return i.a.createElement(ot,{board:r,billBoard:!0,blocked:!0,onContextMenu:a,cellSize:t})};function ut(){var e=Object(v.a)(["\n  font-size: 10px;\n"]);return ut=function(){return e},e}function lt(){var e=Object(v.a)(["\n    height: 40px;\n    width: 100px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n\n    & + & {\n        margin-left: 12px;\n    }\n"]);return lt=function(){return e},e}function st(){var e=Object(v.a)(["\n    margin-top: 4px;\n    height: 60px;\n    width: 216px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return st=function(){return e},e}function bt(){var e=Object(v.a)(["\n    width: 216px;\n    height: 216px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transform: scale(0.3);\n"]);return bt=function(){return e},e}function ft(){var e=Object(v.a)(["\n    /* display: flex;\n    width: 216px;\n    height: 280px; */\n    /* flex-direction: column; */\n    justify-content: flex-start;\n    align-items: center;\n\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    padding: 10px;\n    box-sizing: border-box;\n    background: rgba(255,255,255,0.5);\n    width: 236px;\n    height: 300px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    z-index: -10;\n"]);return ft=function(){return e},e}var dt=O.b.div(ft()),pt=O.b.div(bt()),xt=O.b.div(st()),mt=O.b.div(lt()),vt=O.b.div(ut()),ht=function(e){var n=e.roomKey,t=e.inform;return i.a.createElement(dt,null,i.a.createElement(pt,null,i.a.createElement(it,{roomKey:n})),i.a.createElement(xt,null,t&&t.map((function(e,t){return i.a.createElement(mt,{key:n+"_"+t+"_"+e.username},i.a.createElement(vt,null,e.username.split("@")[0]),i.a.createElement(vt,null,e.elo))}))))},Ot=function(e){var n=e.roomKey,t=Object(b.c)((function(e){return{inform:e.billBoard.informs[n]}})).inform;return i.a.createElement(ht,{roomKey:n,inform:t})};function gt(){var e=Object(v.a)(["\n    ","\n    margin-left: 1%;\n"]);return gt=function(){return e},e}function jt(){var e=Object(v.a)(["\n    ","\n    margin-right: 1%;\n"]);return jt=function(){return e},e}function Et(){var e=Object(v.a)(["\n    height: 90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    width: 20%;\n    align-items: center;\n"]);return Et=function(){return e},e}function yt(){var e=Object(v.a)(["\n    height: 800px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return yt=function(){return e},e}var kt,wt=O.b.div(yt()),Ct=Object(O.a)(Et()),It=O.b.div(jt(),Ct),St=O.b.div(gt(),Ct),At=i.a.memo((function(){return i.a.createElement(wt,null,i.a.createElement(It,null,i.a.createElement(Ot,{roomKey:0}),i.a.createElement(Ot,{roomKey:1})),i.a.createElement(Tn,null),i.a.createElement(St,null,i.a.createElement(Ot,{roomKey:2}),i.a.createElement(Ot,{roomKey:3})))})),Tt=a.a.mark(Dt),_t=a.a.mark(Kt),Lt=Object(H.a)("ranking/CONNECT_WEBSOCKET"),Nt=Object(H.a)("ranking/DISCONNECT_WEBSOCKET"),zt=Object(H.a)("ranking/INITIALIZE_SOCKET"),Rt=Object(H.a)("ranking/INITIALIZE_VALUE"),Bt=Object(H.a)("ranking/CLEAR_VALUE");function Dt(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Q.e)(ne,{url:"/ranking",initializeSocket:zt,initializeValue:Rt});case 2:return e=n.sent,n.next=5,Object(Q.g)("ranking/DISCONNECT_WEBSOCKET");case 5:return n.next=7,Object(Q.c)(e);case 7:case"end":return n.stop()}}),Tt)}function Kt(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("ranking/CONNECT_WEBSOCKET",Dt);case 2:case"end":return e.stop()}}),_t)}var Ut,Mt={socket:null,ranking:null,error:null},Vt=Object(q.a)((kt={},Object(F.a)(kt,"ranking/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(kt,"ranking/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(W.a)({},e,{},r)})),Object(F.a)(kt,"ranking/CLEAR_VALUE",(function(e){return Mt})),kt),Mt),Pt=t(54),Ft=t.n(Pt),Wt=function(e,n,t){var r=Ft.a.cloneDeep(e),a=Object(W.a)({},r[n.y][n.x]);r[n.y][n.x]={covered:!1},r[t.y][t.x]=Object(W.a)({},a,{dirty:!0});var c=r[t.y][t.x],o=c.owner,i=c.piece;if(("white"===o&&"pawn"===i&&0===t.y||"black"===o&&"pawn"===i&&7===t.y)&&(r[t.y][t.x]=Object(W.a)({},r[t.y][t.x],{piece:"queen"})),"king"===r[t.y][t.x].piece){if(t.x-n.x===2){var u=Object(W.a)({},r[n.y][n.x+3]);r[n.y][n.x+3]={covered:!1},r[n.y][n.x+1]=Object(W.a)({},u,{dirty:!0})}if(t.x-n.x===-2){var l=Object(W.a)({},r[n.y][n.x-4]);r[n.y][n.x-4]={covered:!1},r[n.y][n.x-1]=Object(W.a)({},l,{dirty:!0})}}return r},Gt=function(e,n){for(var t=[],r=e.length,a=function(a){for(var c=function(r){var c=!1;n.forEach((function(n){c|=e[a][r][n]})),c&&t.push({y:a,x:r})},o=0;o<r;++o)c(o)},c=0;c<r;++c)a(c);return t.forEach((function(t){e[t.y]=Object(an.a)(e[t.y]);var r=e[t.y][t.x],a=Object(W.a)({},r);n.forEach((function(e){a[e]=!1})),e[t.y].splice(t.x,1,a)})),e},Zt=a.a.mark(nr),Ht=a.a.mark(tr),qt=Object(H.a)("billBoard/CONNECT_WEBSOCKET"),Jt=Object(H.a)("billBoard/DISCONNECT_WEBSOCKET"),Xt=Object(H.a)("billBoard/INITIALIZE_SOCKET",(function(e){return e})),Qt=Object(H.a)("billBoard/INITIALIZE_VALUE",(function(e){return e})),Yt=Object(H.a)("billBoard/CLEAR_VALUE"),$t=Object(H.a)("billBoard/CHANGE_VALUE"),er=function(e){var n=e.roomKey,t=e.move;return function(e,r){var a=t.prev,c=t.next,o=r().billBoard.boards,i=o[n];if(i){var u=i[a.y][a.x],l=Gt(Object(an.a)(i),["tracked"]);l[c.y]=Object(an.a)(l[c.y]),l[c.y][c.x]=Object(W.a)({},u,{tracked:!0,dirty:!0}),l[a.y]=Object(an.a)(l[a.y]),l[a.y][a.x]={tracked:!0};var s=l[c.y][c.x],b=s.owner,f=s.piece;if(("white"===b&&"pawn"===f&&0===c.y||"black"===b&&"pawn"===f&&7===c.y)&&(l[c.y][c.x]=Object(W.a)({},l[c.y][c.x],{piece:"queen"})),"king"===l[c.y][c.x].piece){if(c.x-a.x===2){l[a.y]=Object(an.a)(l[a.y]);var d=Object(W.a)({},l[a.y][a.x+3]);l[a.y][a.x+3]={},l[a.y][a.x+1]=Object(W.a)({},d,{dirty:!0})}if(c.x-a.x===-2){l[a.y]=Object(an.a)(l[a.y]);var p=Object(W.a)({},l[a.y][a.x-4]);l[a.y][a.x-4]={},l[a.y][a.x-1]=Object(W.a)({},p,{dirty:!0})}}var x=[].concat(Object(an.a)(o.slice(0,n)),[l],Object(an.a)(o.slice(n+1)));e($t({boards:x}))}}};function nr(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ne,{url:"/billBoard",initializeSocket:Xt,initializeValue:Qt,changeValue:er,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)("billBoard/DISCONNECT_WEBSOCKET");case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),Zt)}function tr(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("billBoard/CONNECT_WEBSOCKET",nr);case 2:case"end":return e.stop()}}),Ht)}var rr={boards:[null,null,null,null],informs:[null,null,null,null]},ar=Object(q.a)((Ut={},Object(F.a)(Ut,"billBoard/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(Ut,"billBoard/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,t.roomKey),a=t.inform,c=t.board;return Object(W.a)({},e,{boards:[].concat(Object(an.a)(e.boards.slice(0,r)),[c],Object(an.a)(e.boards.slice(r+1))),informs:[].concat(Object(an.a)(e.informs.slice(0,r)),[a],Object(an.a)(e.informs.slice(r+1)))})})),Object(F.a)(Ut,"billBoard/CHANGE_VALUE",(function(e,n){var t=n.payload.boards;return Object(W.a)({},e,{boards:t})})),Object(F.a)(Ut,"billBoard/CLEAR_VALUE",(function(e){return rr})),Ut),rr),cr=function(){var e=Object(b.b)(),n=function(){var n=Object(c.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(ye());case 2:return e(Nt()),e(Jt()),n.next=6,Promise.resolve().then((function(){e(Lt()),e(qt())}));case 6:return n.abrupt("return",!0);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(o.useEffect)((function(){return function(){e(Nt()),e(Jt()),e(Bt()),e(Yt())}}),[e]);var t=rn(n,[e]),r=Object(Z.a)(t,1)[0];r.loading,r.data,r.error;return i.a.createElement(At,null)};function or(){var e=Object(v.a)(["\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.3);\n"]);return or=function(){return e},e}function ir(){var e=Object(v.a)(["\n    /* position: absolute;\n    top: 850px; */\n    width: 100%;\n    height: 66px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n"]);return ir=function(){return e},e}var ur=O.b.div(ir()),lr=O.b.div(or()),sr=function(){return i.a.createElement(ur,null,i.a.createElement(lr,null,"COPYRIGHT \xa9 SJCorp ALL RIGHTS RESERVED."),i.a.createElement(lr,null,"Powered by SJCorp. Designs \xa9 2019 - 2020 SJCorp"))},br=function(){return i.a.createElement(sr,null)},fr=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(nn,null),i.a.createElement(cr,null),i.a.createElement(br,null))},dr=t(34),pr=t.n(dr),xr=t(60),mr=t(21);function vr(){var e=Object(v.a)(["\n    position: absolute;\n    top: 0;\n    left: 48%;\n    width: 50%;\n    display: flex;\n    justify-content: flex-end;\n    font-size: 12px;\n    @keyframes fontOpacity {\n        0%{\n            color: rgb(0, 0, 0, 0);\n        }\n        100%{\n            color: rgb(0, 0, 0, 0.4);\n        }\n      }\n    animation: fontOpacity 1s 1;\n    color: rgb(0, 0, 0, 0.4);\n"]);return vr=function(){return e},e}function hr(){var e=Object(v.a)(["\n    outline: none;\n    border: none;\n    font-size: 10px;\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n    margin-left: 5px;\n    background-color: transparent;\n"]);return hr=function(){return e},e}function Or(){var e=Object(v.a)(["\n    color: rgb(0, 0, 0, 0.5);\n    font-size: 10px;\n"]);return Or=function(){return e},e}function gr(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n    height: 40px;\n"]);return gr=function(){return e},e}function jr(){var e=Object(v.a)(["\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    border: none;\n    outline: none;\n    width: 30%;\n    cursor: pointer;\n    height: 40px;\n    background-color: transparent;\n\n    &:hover, :active {\n        background-color: rgb(0, 0, 0, 0.05);\n    }\n"]);return jr=function(){return e},e}function Er(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 150px;\n"]);return Er=function(){return e},e}function yr(){var e=Object(v.a)(["\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.5);\n    cursor: pointer;\n"]);return yr=function(){return e},e}function kr(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    height: 100%;\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.5);\n    cursor: pointer;\n    margin-left: 5px;\n"]);return kr=function(){return e},e}function wr(){var e=Object(v.a)(["\n    height: 100%;\n    outline: none;\n    margin: 0px;\n"]);return wr=function(){return e},e}function Cr(){var e=Object(v.a)(["\n    display: flex;\n    align-content: center;\n    width: 30%;\n    height: 100%;\n"]);return Cr=function(){return e},e}function Ir(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    width: 60%;\n    height: 20px;\n"]);return Ir=function(){return e},e}function Sr(){var e=Object(v.a)(["\n    ","\n"]);return Sr=function(){return e},e}function Ar(){var e=Object(v.a)(["\n    ","\n"]);return Ar=function(){return e},e}function Tr(){var e=Object(v.a)(["\n    outline: none;\n    border: none;\n    height: 40px;\n    width: 80%;\n    padding-left: 5%;\n"]);return Tr=function(){return e},e}function _r(){var e=Object(v.a)(["\n        animation: blinking 1s 2;\n    "]);return _r=function(){return e},e}function Lr(){var e=Object(v.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding-left: 1%;\n    width: 60%;\n\n    &+& {\n        margin-top: 10px;\n    }\n\n    @keyframes blinking {\n        0%{\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n        }\n        50% {\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.56), 0 3px 1px -2px rgba(0,0,0,0.8), 0 1px 5px 0 rgba(0,0,0,0.48);\n        }\n        100%{\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n        }\n      }\n\n    ","\n"]);return Lr=function(){return e},e}function Nr(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 150px;\n"]);return Nr=function(){return e},e}function zr(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    font-size: 20px;\n    height: 100px;\n    text-shadow: 2px 2px 2px rgba(0,0,0,0.14);\n"]);return zr=function(){return e},e}function Rr(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 30%;\n    height: 400px;\n    background-color: rgba(255, 255, 255);\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Rr=function(){return e},e}function Br(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 800px;\n"]);return Br=function(){return e},e}var Dr,Kr=O.b.form(Br()),Ur=O.b.div(Rr()),Mr=O.b.div(zr()),Vr=O.b.div(Nr()),Pr=O.b.div(Lr(),(function(e){return e.blink&&Object(O.a)(_r())})),Fr=Object(O.a)(Tr()),Wr=O.b.input(Ar(),Fr),Gr=O.b.input(Sr(),Fr),Zr=O.b.div(Ir()),Hr=O.b.div(Cr()),qr=O.b.input(wr()),Jr=O.b.div(kr()),Xr=O.b.div(yr()),Qr=O.b.div(Er()),Yr=O.b.button(jr()),$r=O.b.div(gr()),ea=O.b.div(Or()),na=O.b.button(hr()),ta=O.b.div(vr()),ra=i.a.memo((function(e){var n=e.login,t=e.register,r=e.form,a=e.error,c=e.onSubmit,u=e.onChange,l=e.onRegister,s=Object(o.useRef)({}),b=Object(o.useCallback)((function(e){s.current[e].focus()}),[]);return i.a.createElement(Kr,{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onSubmit:c},i.a.createElement(Ur,null,i.a.createElement(Mr,null,n?"Sign In":t?"Sign Up":null),i.a.createElement(Vr,null,i.a.createElement(Pr,{onClick:b.bind(null,"username"),blink:a.username,key:"username_".concat(a.count)},i.a.createElement(_n.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},i.a.createElement(xr.c,null)),i.a.createElement(Wr,{type:"text",name:"username",placeholder:"Email",onChange:u,value:r.username,ref:function(e){return s.current.username=e}}),i.a.createElement(ta,null,a.username)),i.a.createElement(Pr,{onClick:b.bind(null,"password"),blink:a.password,key:"password_".concat(a.count)},i.a.createElement(_n.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},i.a.createElement(mr.i,null)),i.a.createElement(Gr,{type:"password",name:"password",placeholder:"Password",onChange:u,value:r.password,ref:function(e){return s.current.password=e}}),i.a.createElement(ta,null,a.password)),t?i.a.createElement(Pr,{onClick:b.bind(null,"passwordConfirm"),blink:a.passwordConfirm,key:"passwordConfirm_".concat(a.count)},i.a.createElement(_n.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},i.a.createElement(mr.i,null)),i.a.createElement(Gr,{type:"password",name:"passwordConfirm",placeholder:"Confirm Password",onChange:u,value:r.passwordConfirm,ref:function(e){return s.current.passwordConfirm=e}}),i.a.createElement(ta,null,a.passwordConfirm)):null,n?i.a.createElement(Zr,null,i.a.createElement(Hr,null,i.a.createElement(qr,{type:"checkbox"}),i.a.createElement(Jr,null,"Remember Me")),i.a.createElement(Xr,null,"Forget password?")):null),i.a.createElement(Qr,null,i.a.createElement(Yr,{type:"submit"},"Submit"),n?i.a.createElement($r,null,i.a.createElement(ea,null,"Don't have an account?"),i.a.createElement(na,{type:"button",onClick:l},"Create")):i.a.createElement($r,null,i.a.createElement(ea,null,"Don't have an account?"),i.a.createElement(na,{type:"button"},"Create")))))})),aa=Object(h.f)((function(e){var n=e.history,t=Object(b.c)((function(e){var n=e.sessionAuth;return{form:n.login,auth:n.auth,authError:n.authError}})),r=t.form,u=t.auth,l=t.authError,s=Object(b.b)(),f=Object(o.useState)({username:"",password:""}),d=Object(Z.a)(f,2),p=d[0],x=d[1],m=Object(o.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;""!==p[t]&&x((function(e){return Object(W.a)({},e,Object(F.a)({},t,""))})),s(qe({form:"login",key:t,value:r}))}),[s,p]),v=Object(o.useCallback)((function(e){e.preventDefault();var n=r.username,t=r.password,o=Object.keys(r).reduce((function(e,n){return Object(W.a)({},e,Object(F.a)({},n,!1))}),{});Object.keys(o).filter((function(e){return""===r[e]})).forEach((function(e){o=Object(W.a)({},o,Object(F.a)({},e,"Required field"))}));var i,u=pr.a.object().keys({username:pr.a.string().max(80).email({minDomainAtoms:2}).required().error((function(){return{message:"Wrong format"}})),password:pr.a.string().min(4).max(16).required().error((function(){return{message:"4 ~ 16 digits"}}))}),l=pr.a.validate(r,u,{abortEarly:!1});if(l.error&&l.error.details.forEach((function(e){o[e.path[0]]||(o=Object(W.a)({},o,Object(F.a)({},e.path[0],e.message)))})),Object.keys(o).filter((function(e){return o[e]})).length>0)return x((function(e){return Object(W.a)({},o,{count:e.count+1})})),void Object.keys(o).forEach((function(e){o[e]&&s(Xe({form:"login",key:e}))}));s((i={username:n,password:t},function(){var e=Object(c.a)(a.a.mark((function e(n,t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(We(i));case 3:(r=e.sent)&&ue({auth:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.dir("Login failed");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}())),s(Je({form:"login"}))}),[s,r]);Object(o.useEffect)((function(){if(l){var e={},t=l.response.data;return Object.keys(t).forEach((function(n){e=Object(W.a)({},e,Object(F.a)({},n,t[n]))})),void x(e)}u&&n.push("/")}),[n,u,l]),Object(o.useEffect)((function(){return function(){s(Je({form:"login"}))}}),[s]);var h=Object(o.useCallback)((function(){s(Je({form:"register"})),n.push("/register")}),[s,n]);return i.a.createElement(ra,{login:!0,onSubmit:v,onChange:m,form:r,error:p,onRegister:h})})),ca=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("title",null,"Sign In \u2022 Chesssup.com")),i.a.createElement(nn,null),i.a.createElement(aa,null),i.a.createElement(br,null))},oa=Object(h.f)((function(e){var n=e.history,t=Object(b.c)((function(e){var n=e.sessionAuth;return{form:n.register,auth:n.auth,authError:n.authError}})),r=t.form,u=t.auth,l=t.authError,s=Object(b.b)(),f=Object(o.useState)({username:"",password:"",passwordConfirm:""}),d=Object(Z.a)(f,2),p=d[0],x=d[1],m=Object(o.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;""!==p[t]&&x((function(e){return Object(W.a)({},e,Object(F.a)({},t,""))})),s(qe({form:"register",key:t,value:r}))}),[s,p]),v=Object(o.useCallback)((function(e){e.preventDefault();var n=r.username,t=r.password,o=Object.keys(r).reduce((function(e,n){return Object(W.a)({},e,Object(F.a)({},n,!1))}),{});Object.keys(o).filter((function(e){return""===r[e]})).forEach((function(e){o=Object(W.a)({},o,Object(F.a)({},e,"Required field"))}));var i,u=pr.a.object().keys({username:pr.a.string().max(80).email({minDomainAtoms:2}).required().error((function(){return{message:"Wrong format"}})),password:pr.a.string().min(4).max(16).required().error((function(){return{message:"4 ~ 16 digits"}})),passwordConfirm:pr.a.any().valid(pr.a.ref("password")).required().error((function(){return{message:"Password mismatch"}}))}),l=pr.a.validate(r,u,{abortEarly:!1});if(l.error&&l.error.details.forEach((function(e){o[e.path[0]]||(o=Object(W.a)({},o,Object(F.a)({},e.path[0],e.message)))})),Object.keys(o).filter((function(e){return o[e]})).length>0)return x((function(e){return Object(W.a)({},o,{count:e.count+1})})),void Object.keys(o).forEach((function(e){o[e]&&s(Xe({form:"register",key:e}))}));s((i={username:n,password:t},function(){var e=Object(c.a)(a.a.mark((function e(n,t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Ge(i));case 3:(r=e.sent)&&ue({auth:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.dir("Register failed");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}())),s(Je({form:"register"}))}),[s,r]);return Object(o.useEffect)((function(){if(l){var e={},t=l.response.data;return Object.keys(t).forEach((function(n){e=Object(W.a)({},e,Object(F.a)({},n,t[n]))})),void x(e)}u&&n.push("/")}),[n,u,l]),Object(o.useEffect)((function(){return function(){s(Je({form:"register"}))}}),[s]),i.a.createElement(ra,{register:!0,onSubmit:v,onChange:m,form:r,error:p})})),ia=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("title",null,"Sign Up \u2022 Chesssup.com")),i.a.createElement(nn,null),i.a.createElement(oa,null),i.a.createElement(br,null))},ua=[[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}]],la={pawn:{type:"onetime",move:[{dy:-1,dx:0,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!n[t][r].piece}},{dy:-2,dx:0,except:function(e){var n=e.board,t=e.y,r=e.x,a=e.owner;return!("black"===a&&1!==t||"white"===a&&6!==t)&&(!("black"===a&&n[2][r].piece||"white"===a&&n[5][r].piece)&&!("black"===a&&n[3][r].piece||"white"===a&&n[4][r].piece))}},{dy:-1,dx:-1,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!!n[t][r].piece}},{dy:-1,dx:1,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!!n[t][r].piece}}]},knight:{type:"onetime",move:[{dy:-2,dx:-1},{dy:-2,dx:1},{dy:2,dx:-1},{dy:2,dx:1},{dy:-1,dx:-2},{dy:-1,dx:2},{dy:1,dx:-2},{dy:1,dx:2}]},king:{type:"onetime",move:[{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:1},{dy:0,dx:-1},{dy:-1,dx:1},{dy:-1,dx:-1},{dy:1,dx:-1},{dy:1,dx:1},{dy:0,dx:2,except:function(e){var n=e.board,t=e.y,r=e.x,a="white"===e.owner?"black":"white";if(!n[t][r].piece||n[t][r].dirty)return!1;if(!n[t][r+3].piece||n[t][r+3].dirty)return!1;if(n[t][r+1].piece||n[t][r+2].piece)return!1;for(var c=ba(a,n,!0),o=c.length,i=0;i<o;++i){var u=c[i];if(u.dy===t&&(u.dx===r||u.dx===r+1||u.dx===r+2))return!1}return!0}},{dy:0,dx:-2,except:function(e){var n=e.board,t=e.y,r=e.x,a="white"===e.owner?"black":"white";if(!n[t][r].piece||n[t][r].dirty)return!1;if(!n[t][r-4].piece||n[t][r-4].dirty)return!1;if(n[t][r-1].piece||n[t][r-2].piece||n[t][r-3].piece)return!1;for(var c=ba(a,n,!0),o=c.length,i=0;i<o;++i){var u=c[i];if(u.dy===t&&(u.dx===r||u.dx===r-1||u.dx===r-2))return!1}return!0}}]},bishop:{type:"multitime",move:[{dy:1,dx:-1},{dy:1,dx:1},{dy:-1,dx:-1},{dy:-1,dx:1}]},rook:{type:"multitime",move:[{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:-1},{dy:0,dx:1}]},queen:{type:"multitime",move:[{dy:1,dx:-1},{dy:1,dx:1},{dy:-1,dx:-1},{dy:-1,dx:1},{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:-1},{dy:0,dx:1}]}},sa=function(e){if(0===e.length)return e;var n=new Set;return e.forEach((function(e){return n.add(10*e.dy+e.dx)})),Object(an.a)(n).map((function(e){return{dy:parseInt(e/10),dx:e%10}}))},ba=function(e,n,t){for(var r=[],a=0;a<8;++a)for(var c=0;c<8;++c)if(n[a][c].owner===e){var o=da(n,a,c,t);r=[].concat(Object(an.a)(r),Object(an.a)(o))}return sa(r)},fa=function(e,n){var t="white"===e?"black":"white",r=Ft.a.cloneDeep(n),a=function(e,n){for(var t=0;t<8;++t)for(var r=0;r<8;++r)if(n[t][r].owner===e&&"king"===n[t][r].piece)return{y:t,x:r}}(e,r);return ba(t,r).forEach((function(e){r[e.dy][e.dx]=Object(W.a)({},r[e.dy][e.dx],{movable:!0})})),!r[a.y][a.x].movable},da=function(e,n,t,r){var a=e[n][t],c=a.piece,o=a.owner,i={board:e,y:n,x:t,owner:o};if(c){var u=la[c],l=u.type,s=u.move,b=[];return b="onetime"===l?s.reduce((function(a,u){var l=n+("black"===o?-u.dy:+u.dy),s=t+u.dx;return l<0||s<0||l>7||s>7||(i=Object(W.a)({},i,{dy:l,dx:s}),u.except&&("king"===c&&r||!u.except||!u.except(i))||e[l][s].owner&&e[n][t].owner===e[l][s].owner||a.push({dy:l,dx:s})),a}),[]):s.flatMap((function(r){for(var a=0,c=[];;){++a;var i=n+a*("black"===o?-r.dy:+r.dy),u=t+a*r.dx;if(i<0||u<0||i>7||u>7)break;if(e[i][u].owner&&e[i][u].owner===o)break;if(c.push({dy:i,dx:u}),e[i][u].owner&&e[i][u].owner!==o)break}return c})),sa(b)}},pa=a.a.mark(Fa),xa=a.a.mark(Wa),ma=Object(H.a)("record/CONNECT_WEBSOCKET"),va=Object(H.a)("record/DISCONNECT_WEBSOCKET"),ha=Object(H.a)("record/INITIALIZE_SOCKET",(function(e){return e})),Oa=Object(H.a)("record/INITIALIZE_VALUE",(function(e){return e})),ga=Object(H.a)("record/CHANGE_VALUE",(function(e){return e})),ja=Object(H.a)("record/UPDATE_VALUE",(function(e){return e})),Ea=Object(H.a)("record/CLEAR_VALUE"),ya=Object(H.a)("record/CHANGE_REVERSE",(function(e){return e})),ka=Object(H.a)("record/CLEAR_TOOLTIP"),wa=Object(H.a)("record/SET_REQUEST_MODAL",(function(e){return e})),Ca=Object(H.a)("record/SET_REQUEST_MESSAGE",(function(e){return e})),Ia=Object(H.a)("record/SET_BANCLICK"),Sa=Object(H.a)("record/SET_SHOWINDEX",(function(e){return e})),Aa=re("record/ASKING"),Ta=Object(Z.a)(Aa,3),_a=Ta[0],La=Ta[1],Na=Ta[2],za=re("record/ANSWERING"),Ra=Object(Z.a)(za,3),Ba=Ra[0],Da=Ra[1],Ka=Ra[2],Ua=ae(_a,(function(e){return ie.a.post("/api/record/asking",e)})),Ma=ae(Ba,(function(e){return ie.a.post("/api/record/answering",e)})),Va=function(e){var n=e.genre,t=e.modal,r=e.open,a=e.message;return function(e,c){e(r?a?Ca({type:n,message:a}):wa({type:n,modal:t}):ka())}},Pa=function(e){return function(n,t){var r=t().record,a=Object(W.a)({},r);Object.keys(e).forEach((function(n){"object"===typeof e[n]&&(a=Object(W.a)({},a,Object(F.a)({},n,[].concat(Object(an.a)(a[n]),[e[n]]))))})),n(ja({record:a}))}};function Fa(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ne,{url:"/record",initializeSocket:ha,initializeValue:Oa,changeValue:ga,updateValue:Pa,notifyRequest:Va,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)("record/DISCONNECT_WEBSOCKET");case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),pa)}function Wa(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("record/CONNECT_WEBSOCKET",Fa);case 2:case"end":return e.stop()}}),xa)}var Ga,Za={socket:null,error:null,startTime:null,endTime:null,blackTime:null,whiteTime:null,blackMaxTime:null,whiteMaxTime:null,whiteRatio:0,blackRatio:0,pieceMove:[],reversed:!1,blocked:!1,banClick:!1,showIndex:null,replayMode:!1,undo:{message:null,modal:null},draw:{message:null,modal:null},surrender:{message:null,modal:null}},Ha=Object(q.a)((Dr={},Object(F.a)(Dr,"record/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(Dr,"record/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(W.a)({},e,{},r,{showIndex:r.pieceMove.length-1})})),Object(F.a)(Dr,"record/CHANGE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(W.a)({},e,{},r)})),Object(F.a)(Dr,"record/UPDATE_VALUE",(function(e,n){var t=n.payload.record;return Object(W.a)({},t)})),Object(F.a)(Dr,"record/CLEAR_VALUE",(function(e){return Za})),Object(F.a)(Dr,"record/CHANGE_REVERSE",(function(e,n){var t=n.payload.reversed;return Object(W.a)({},e,{reversed:t})})),Object(F.a)(Dr,"record/SET_SHOWINDEX",(function(e,n){var t=n.payload,r=t.showIndex,a=t.replayMode;return Object(W.a)({},e,{showIndex:r,replayMode:a})})),Object(F.a)(Dr,_a,(function(e){return e})),Object(F.a)(Dr,La,(function(e){return e})),Object(F.a)(Dr,Na,(function(e){return e})),Object(F.a)(Dr,Ba,(function(e){return e})),Object(F.a)(Dr,Da,(function(e){return e})),Object(F.a)(Dr,Ka,(function(e){return e})),Object(F.a)(Dr,"record/CLEAR_TOOLTIP",(function(e){return Object(W.a)({},e,{undo:Za.undo,draw:Za.draw,surrender:Za.surrender,blocked:!1,banClick:!1})})),Object(F.a)(Dr,"record/SET_BANCLICK",(function(e){return Object(W.a)({},e,{banClick:!0})})),Object(F.a)(Dr,"record/SET_REQUEST_MODAL",(function(e,n){var t,r=n.payload,a=r.type,c=r.modal;return Object(W.a)({},e,(t={},Object(F.a)(t,a,Object(W.a)({},e[a],{modal:c})),Object(F.a)(t,"blocked",!0),t))})),Object(F.a)(Dr,"record/SET_REQUEST_MESSAGE",(function(e,n){var t,r=n.payload,a=r.type,c=r.message;return Object(W.a)({},e,(t={},Object(F.a)(t,a,Object(W.a)({},e[a],{message:c})),Object(F.a)(t,"blocked",!0),t))})),Dr),Za),qa=a.a.mark(dc),Ja=a.a.mark(pc),Xa=Object(H.a)("canvas/CONNECT_WEBSOCKET",(function(e){return e})),Qa=Object(H.a)("canvas/DISCONNECT_WEBSOCKET"),Ya=Object(H.a)("canvas/INITIALIZE_SOCKET",(function(e){return e})),$a=Object(H.a)("canvas/INITIALIZE_VALUE",(function(e){return e})),ec=Object(H.a)("canvas/CHANGE_VALUE",(function(e){return e})),nc=Object(H.a)("canvas/CLEAR_VALUE"),tc=Object(H.a)("canvas/INITIALIZE_BLOCKED",(function(e){return e})),rc=Object(H.a)("canvas/CHANGE_BLOCKED",(function(e){return e})),ac=re("canvas/SET_MOVE_PIECE"),cc=Object(Z.a)(ac,3),oc=cc[0],ic=cc[1],uc=cc[2],lc=ae(oc,(function(e){return ie.a.post("/api/canvas/movePiece",e)})),sc=function(e,n){var t=function(e){var n=Ft.a.cloneDeep(e);return n.reverse(),n.forEach((function(e){e.reverse()})),n}(n);e=Object(an.a)(e);for(var r=function(n){for(var r=function(r){var a=t[n][r],c=e[n][r];Object.keys(a).every((function(t){return!(!c[t]||c[t]!==a[t])||(e[n]=Object(an.a)(e[n]),e[n][r]=Object(W.a)({},a),!1)}))},a=0;a<8;++a)r(a)},a=0;a<8;++a)r(a);return e},bc=function(e){var n=e.diff,t=e.index;return function(e,r){var a=r(),c=a.canvas,o=c.board,i=c.reverseBoard,u=a.record,l=u.showIndex,s=u.pieceMove,b=a.socketAuth.role,f=a.game.turn;if(n||(n=t-l),0!==n&&!(l+n<-1||l+n>=s.length)){var d=function(e,n,t,r){var a=Gt(Object(an.a)(e),["covered","clicked","tracked"]);if(t<r)for(var c=t+1;c<=r;++c){var o=n[c].prev,i=n[c].prevPiece,u=n[c].next;n[c].nextPiece;a[o.y]=Object(an.a)(a[o.y]),a[o.y][o.x]={covered:!1},a[u.y]=Object(an.a)(a[u.y]),a[u.y][u.x]=Object(W.a)({},i,{dirty:!0});var l=a[u.y][u.x],s=l.owner,b=l.piece;if(("white"===s&&"pawn"===b&&0===u.y||"black"===s&&"pawn"===b&&7===u.y)&&(a[u.y][u.x]=Object(W.a)({},a[u.y][u.x],{piece:"queen"})),"king"===a[u.y][u.x].piece){if(u.x-o.x===2){a[o.y]=Object(an.a)(a[o.y]);var f=Object(W.a)({},a[o.y][o.x+3]);a[o.y][o.x+3]={covered:!1},a[o.y][o.x+1]=Object(W.a)({},f,{dirty:!0})}if(u.x-o.x===-2){a[o.y]=Object(an.a)(a[o.y]);var d=Object(W.a)({},a[o.y][o.x-4]);a[o.y][o.x-4]={covered:!1},a[o.y][o.x-1]=Object(W.a)({},d,{dirty:!0})}}}else for(var p=t;p>r;--p){var x=n[p].prev,m=n[p].prevPiece,v=n[p].next,h=n[p].nextPiece;if(a[x.y]=Object(an.a)(a[x.y]),a[x.y][x.x]=Object(W.a)({},m),a[v.y]=Object(an.a)(a[v.y]),a[v.y][v.x]=Object(W.a)({},h),"king"===a[x.y][x.x].piece){if(x.x-v.x===-2){a[x.y]=Object(an.a)(a[x.y]);var O=Object(W.a)({},a[x.y][x.x+1]);a[x.y][x.x+3]=Object(W.a)({},O,{dirty:!1}),a[x.y][x.x+1]={covered:!1}}if(x.x-v.x===2){a[x.y]=Object(an.a)(a[x.y]);var g=Object(W.a)({},a[x.y][x.x-1]);a[x.y][x.x-4]=Object(W.a)({},g,{dirty:!1}),a[x.y][x.x-1]={covered:!1}}}}if(0<=r&&r<n.length){var j=n[r],E=j.prev,y=E.y,k=E.x,w=j.next,C=w.y,I=w.x;a[y]=Object(an.a)(a[y]),a[y][k]=Object(W.a)({},a[y][k],{tracked:!0}),a[C]=Object(an.a)(a[C]),a[C][I]=Object(W.a)({},a[C][I],{tracked:!0})}return console.dir(a),a}(o,s,l,l+n),p=sc(i,d);l+n+1===s.length?(e(rc(("white"===b||"spectator"===b)&&f%2===0||"black"===b&&f%2===1?{blocked:!1}:{blocked:!0})),e(Sa({showIndex:l+n,replayMode:!1}))):(e(rc({blocked:!0})),e(Sa({showIndex:l+n,replayMode:!0}))),e(ec({board:d,reverseBoard:p,clicked:null}))}}},fc=function(e){var n=e.move;return function(e,t){var r=n.prev,a=n.next,c=t(),o=c.canvas,i=o.board,u=o.reverseBoard,l=c.record,s=l.showIndex;if(!l.replayMode){var b=i[r.y][r.x],f=Gt(Object(an.a)(i),["covered","clicked","tracked"]);f[a.y]=Object(an.a)(f[a.y]),f[a.y][a.x]=Object(W.a)({},b,{tracked:!0,dirty:!0}),f[r.y]=Object(an.a)(f[r.y]),f[r.y][r.x]={covered:!1,tracked:!0};var d=f[a.y][a.x],p=d.owner,x=d.piece;if(("white"===p&&"pawn"===x&&0===a.y||"black"===p&&"pawn"===x&&7===a.y)&&(f[a.y][a.x]=Object(W.a)({},f[a.y][a.x],{piece:"queen"})),"king"===f[a.y][a.x].piece){if(a.x-r.x===2){f[r.y]=Object(an.a)(f[r.y]);var m=Object(W.a)({},f[r.y][r.x+3]);f[r.y][r.x+3]={covered:!1},f[r.y][r.x+1]=Object(W.a)({},m,{dirty:!0})}if(a.x-r.x===-2){f[r.y]=Object(an.a)(f[r.y]);var v=Object(W.a)({},f[r.y][r.x-4]);f[r.y][r.x-4]={covered:!1},f[r.y][r.x-1]=Object(W.a)({},v,{dirty:!0})}}var h=sc(u,f);e(ec({board:f,reverseBoard:h,clicked:null})),e(Sa({showIndex:s+1}))}}};function dc(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ne,{url:"/canvas",initializeSocket:Ya,initializeValue:$a,changeValue:fc,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)("canvas/DISCONNECT_WEBSOCKET");case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),qa)}function pc(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("canvas/CONNECT_WEBSOCKET",dc);case 2:case"end":return e.stop()}}),Ja)}var xc=Ft.a.cloneDeep(ua);xc.reverse(),xc.forEach((function(e){e.reverse()}));var mc={socket:null,error:null,board:ua,reverseBoard:xc,clicked:null,blocked:!0,reversed:!1},vc=Object(q.a)((Ga={},Object(F.a)(Ga,"canvas/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(Ga,"canvas/INITIALIZE_VALUE",(function(e,n){var t=n.payload.board;return Object(W.a)({},e,{board:t,reverseBoard:sc(e.reverseBoard,t)})})),Object(F.a)(Ga,"canvas/CHANGE_VALUE",(function(e,n){var t=n.payload,r=t.board,a=t.reverseBoard,c=t.clicked;return Object(W.a)({},e,{board:r,reverseBoard:a,clicked:c})})),Object(F.a)(Ga,"canvas/CLEAR_VALUE",(function(e){return mc})),Object(F.a)(Ga,"canvas/INITIALIZE_BLOCKED",(function(e,n){var t=n.payload.blocked;return Object(W.a)({},e,{blocked:t})})),Object(F.a)(Ga,"canvas/CHANGE_BLOCKED",(function(e,n){var t=n.payload.blocked;return Object(W.a)({},e,{blocked:t})})),Object(F.a)(Ga,ic,(function(e){return e})),Object(F.a)(Ga,uc,(function(e){return e})),Ga),mc),hc=function(e){var n=e.cellSize,t=e.glanceAt,r=Object(b.c)((function(e){var n=e.canvas,t=e.socketAuth,r=e.game,a=e.record;return{board:n.board,reverseBoard:n.reverseBoard,blocked:n.blocked,reversed:a.reversed,replayMode:a.replayMode,turn:r.turn,role:t.role}})),a=r.board,c=r.reverseBoard,u=r.blocked,l=r.reversed,s=r.replayMode,f=r.turn,d=r.role,p=Object(b.b)(),x=Object(o.useState)(!1),m=Object(Z.a)(x,2),v=m[0],h=m[1];Object(o.useEffect)((function(){(d&&!v||t&&!v)&&h(!0)}),[v,d,t]),Object(o.useEffect)((function(){s||p(tc(("white"===d||"spectator"===d)&&f%2===0||"black"===d&&f%2===1?{blocked:!1}:{blocked:!0}))}),[p,f,d,s]),Object(o.useEffect)((function(){return function(){p(nc())}}),[p]);var O=Object(o.useCallback)((function(e,n){p(function(e){var n=e.y,t=e.x;return function(e,r){var a=r(),c=a.canvas,o=c.board,i=c.reverseBoard,u=c.clicked,l=a.record.reversed,s=a.socketAuth.role,b=!1;("white"===s&&l||"black"===s&&!l)&&(b=!0);var f=n,d=t;if(b&&(f=7-n,d=7-t),(u||o[f][d].owner===s)&&(!u||o[f][d].covered||o[f][d].owner===s))if(u&&o[f][d].covered){var p=r().canvas.socket;e(lc({socket:p,move:{prev:u,next:{y:f,x:d}}}))}else{var x=da(o,f,d),m=Gt(Object(an.a)(o),["covered","clicked"]);x.forEach((function(e){var n=Wt(m,{y:f,x:d},{y:e.dy,x:e.dx});if(fa(o[f][d].owner,n)){m[e.dy]=Object(an.a)(m[e.dy]);var t=m[e.dy][e.dx];m[e.dy].splice(e.dx,1,Object(W.a)({},t,{covered:!0}))}})),m[f]=Object(an.a)(m[f]),m[f][d]=Object(W.a)({},m[f][d],{clicked:!0});var v=sc(i,m);e(ec({board:m,reverseBoard:v,clicked:{y:f,x:d}}))}}}({y:e,x:n}))}),[p]),g=Object(o.useCallback)((function(e){e.preventDefault(),p((function(e,n){var t=n().canvas,r=t.board,a=t.reverseBoard,c=Gt(Object(an.a)(r),["covered","clicked"]),o=sc(a,c);e(ec({board:c,reverseBoard:o,clicked:null}))}))}),[p]),j=!1;(("white"===d||"spectator"===d)&&l||"black"===d&&!l)&&(j=!0);var E=a;return j&&(E=c),v||(E=Object(an.a)(ua)),i.a.createElement(ot,{board:E,blocked:u,onClick:O,onContextMenu:g,cellSize:n,replayMode:s})};function Oc(){var e=Object(v.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    /* pointer-events: none; */\n"]);return Oc=function(){return e},e}function gc(){var e=Object(v.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: 0.5s;\n    opacity: 0;\n\n    &:hover {\n        opacity: 1;\n    }\n"]);return gc=function(){return e},e}var jc=O.b.div(gc()),Ec=O.b.div(Oc()),yc=i.a.memo((function(e){var n=e.cellSize;e.glanceAt;return i.a.createElement(jc,null,i.a.createElement(Ec,null,i.a.createElement(hc,{cellSize:n,glanceAt:!0})))})),kc=function(e){var n=e.gameKey,t=e.cellSize,r=Object(b.b)(),u=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Qa()),e.next=3,Promise.resolve().then((function(){r(Xa({gameKey:n}))}));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return function(){r(Qa())}}),[r]);var l=rn(u,[r]),s=Object(Z.a)(l,1)[0];s.loading,s.data,s.error;return i.a.createElement(yc,{cellSize:t,glanceAt:!0})};function wc(){var e=Object(v.a)(["\n    \n"]);return wc=function(){return e},e}function Cc(){var e=Object(v.a)(["\n    \n"]);return Cc=function(){return e},e}function Ic(){var e=Object(v.a)(["\n    z-index: 1;\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 216px;\n    height: 216px;\n    background-color: rgb(255,255,255, 0.6);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    cursor: pointer;\n    transition: 0.5s;\n\n    &:hover {\n        background-color: rgb(255,255,255, 0.1);\n    }\n\n    &:first-child {\n        margin-left: 18px;\n    }\n\n    & + & {\n        margin-left: 18px;\n    }\n"]);return Ic=function(){return e},e}var Sc=O.b.div(Ic()),Ac=O.b.div(Cc()),Tc=O.b.div(wc()),_c=i.a.memo((function(e){var n=e.game,t=e.canvas,r=e.onClick,a=e.onMouseEnter,c=e.onMouseLeave,o=Object(G.a)(e,["game","canvas","onClick","onMouseEnter","onMouseLeave"]);return console.dir("game~"),i.a.createElement(Sc,Object.assign({onClick:function(){return r(n.key)},onMouseEnter:a,onMouseLeave:c},o),i.a.createElement(Ac,null,n.name),i.a.createElement(Tc,null,n.participant),t?i.a.createElement(kc,{gameKey:n.key,cellSize:"27px"}):null)})),Lc=Object(h.f)((function(e){var n=e.history,t=Object(G.a)(e,["history"]),r=Object(o.useState)(!1),a=Object(Z.a)(r,2),c=a[0],u=a[1],l=Object(o.useCallback)((function(){u(!0)}),[]),s=Object(o.useCallback)((function(){u(!1)}),[]),b=Object(o.useCallback)((function(e){n.push("/game/".concat(e))}),[n]);return i.a.createElement(_c,Object.assign({},t,{canvas:c,onClick:b,onMouseEnter:l,onMouseLeave:s}))}));function Nc(){var e=Object(v.a)(["\n    width: 720px;\n    height: 720px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    overflow-y: overlay;\n    padding-right: 20px;\n"]);return Nc=function(){return e},e}function zc(){var e=Object(v.a)(["\n    width: 720px;\n    height: 720px;\n    overflow: hidden;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return zc=function(){return e},e}function Rc(){var e=Object(v.a)(["\n    position: relative;\n    background-color: rgba(255, 255, 255, 0.5);\n"]);return Rc=function(){return e},e}function Bc(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n\n    &:first-child {\n        margin-top: 18px;\n    }\n\n    &:last-child {\n        margin-bottom: 18px;\n    }\n\n    & + & {\n        margin-top: 18px;\n    }\n"]);return Bc=function(){return e},e}var Dc=O.b.div(Bc()),Kc=O.b.div(Rc()),Uc=O.b.div(zc()),Mc=O.b.div(Nc()),Vc=i.a.memo((function(e){var n=e.games,t=e.onGameClick,r=[];n&&(r=Object(an.a)(n));for(var a=[],c=Math.floor(r.length/3),o=0;o<=c;++o)a.push(i.a.createElement(Dc,{key:"GridRowBlock_".concat(o)},r.splice(0,3).map((function(e){return i.a.createElement(Lc,{key:"GridBox".concat(e.name),game:e,onClick:function(n){return t(n,e.key)}})}))));return i.a.createElement(Kc,null,i.a.createElement(Uc,null,i.a.createElement(Mc,null,a)),i.a.createElement(_n.b.Provider,{value:{style:{position:"absolute",top:"0",left:"0",width:"720px",height:"720px",opacity:"0.2",zIndex:-1}}},i.a.createElement(mr.a,null)))})),Pc=function(){var e=Object(b.c)((function(e){return{games:e.games.games}})).games;return i.a.createElement(Vc,{games:e})};function Fc(){var e=Object(v.a)(["\n    padding: 30px;\n    box-sizing: border-box;\n    width: 100%;\n    height: 400px;\n    background-color: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Fc=function(){return e},e}var Wc=O.b.div(Fc()),Gc=i.a.memo((function(){return i.a.createElement(Wc,null)})),Zc=function(){return i.a.createElement(Gc,null)},Hc=function(e){var n=Object(o.useState)(e),t=Object(Z.a)(n,2),r=t[0],a=t[1],c=Object(o.useRef)(null),i=Object(o.useCallback)((function(e){c.current&&!c.current.contains(e.target)&&a(!1)}),[]);return Object(o.useEffect)((function(){return document.addEventListener("click",i),function(){document.removeEventListener("click",i)}}),[i]),{ref:c,componentState:r,setComponentState:a}};function qc(){var e=Object(v.a)(["\n    width: 100%;\n    box-sizing: border-box;\n    height: 30px;\n    padding-left: 10px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    font-size: 13px;\n\n    &:hover {\n        background-color: rgba(0,0,0,0.1);\n    }\n"]);return qc=function(){return e},e}function Jc(){var e=Object(v.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    margin-top: 40px;\n    z-index: 10;\n    background-color: white;\n    display: flex;\n    flex-direction: column;\n    width: 130px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Jc=function(){return e},e}function Xc(){var e=Object(v.a)(["\n    width: 130px;\n    height: 30px;\n    box-sizing: border-box;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding-left: 10px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    font-size: 13px;\n    \n    cursor: pointer;\n    &:active {\n        background-color: rgba(0,0,0,0.1);\n    }\n"]);return Xc=function(){return e},e}function Qc(){var e=Object(v.a)(["\n    position: absolute;\n    top: -10px;\n    left: 70%;\n    width: 30%;\n    display: flex;\n    justify-content: flex-end;\n    font-weight: 500;\n    font-size: 12px;\n    color: rgba(0,0,0,0.3);\n"]);return Qc=function(){return e},e}function Yc(){var e=Object(v.a)(["\n    position: relative;\n"]);return Yc=function(){return e},e}var $c,eo=O.b.div(Yc()),no=O.b.div(Qc()),to=O.b.div(Xc()),ro=O.b.div(Jc()),ao=O.b.div(qc()),co=i.a.memo((function(e){var n=e.kind,t=e.name,r=e.list,a=e.reference,c=e.componentState,o=e.onClickSelection,u=e.onClickOption;return i.a.createElement(eo,null,i.a.createElement(no,null,n),i.a.createElement(to,{ref:a,onClick:o},t),c&&i.a.createElement(ro,null,r.map((function(e){return i.a.createElement(ao,{key:e,onClick:function(){return u(e)}},e)}))))})),oo=Object(H.a)("create/CHANGE_FIELD",(function(e){return e})),io=Object(H.a)("create/CLEAR_FIELD",(function(e){return e})),uo={map:"Classical",mapList:["Classical","Crazy House","Racing Kings"],mode:"Normal",modeList:["Normal","Rank"],defaultTime:15,extraTime:30,config:{defaultTime:{min:1,max:30,step:1},extraTime:{min:0,max:60,step:5}},piece:"white"},lo=Object(q.a)(($c={},Object(F.a)($c,"create/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(W.a)({},e,Object(F.a)({},r,a))})),Object(F.a)($c,"create/CLEAR_FIELD",(function(e){return uo})),$c),uo),so=function(e){var n=e.kind,t=Object(b.c)((function(e){var t=e.create;return{name:t[n],list:t["".concat(n,"List")]}})),r=t.name,a=t.list,c=Object(b.b)(),u=Hc(!1),l=u.ref,s=u.componentState,f=u.setComponentState,d=Object(o.useCallback)((function(){f((function(e){return!e}))}),[f]),p=Object(o.useCallback)((function(e){c(oo({key:n,value:e}))}),[c,n]);return i.a.createElement(co,{kind:n,name:r,list:a,reference:l,componentState:s,onClickSelection:d,onClickOption:p})};function bo(){var e=Object(v.a)(["\n    display: flex;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    font-size: 15px;\n    width: 60px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return bo=function(){return e},e}function fo(){var e=Object(v.a)(["\n    position: absolute;\n    top: -10px;\n    left: 70%;\n    width: 30%;\n    display: flex;\n    justify-content: flex-end;\n    font-weight: 500;\n    font-size: 12px;\n    color: rgba(0,0,0,0.3);\n"]);return fo=function(){return e},e}function po(){var e=Object(v.a)(["\n    -webkit-appearance: none;\n    width: 150px;\n    height: 30px;\n    cursor: pointer;\n    background: ",";\n    background-size: 140px 5px;\n    background-position: center;\n    background-repeat: no-repeat;\n    overflow: hidden;\n    outline: none;\n    /* zoom: 100%; */\n    display: block;\n\n    &::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        width: 10px;\n        height: 10px;\n        box-shadow: 0 2px 2px 0 rgba(0,0,0,0.36), 0 3px 1px -2px rgba(0,0,0,0.6), 0 1px 5px 0 rgba(0,0,0,0.36);\n        position: relative;\n        background-color: rgba(255,255,255, 0.8);\n        z-index: 3;\n    };\n"]);return po=function(){return e},e}function xo(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 200px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return xo=function(){return e},e}function mo(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    & + & {\n        margin-top: 15px;\n    }\n"]);return mo=function(){return e},e}var vo=O.b.div(mo()),ho=O.b.div(xo()),Oo=O.b.input(po(),(function(e){return e.kind,"linear-gradient(to right, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.6) 100%)"})),go=O.b.div(fo()),jo=O.b.div(bo()),Eo=i.a.memo((function(e){var n=e.onChange,t=e.kind,r=e.value,a=e.config,c=t.substring(0,t.length-4);return i.a.createElement(vo,null,i.a.createElement(ho,null,i.a.createElement(Oo,Object.assign({type:"range",onChange:n},a,{kind:t,value:r}))),i.a.createElement(jo,null,i.a.createElement(go,null,c),r))})),yo=function(e){var n=e.kind,t=Object(b.c)((function(e){var t=e.create;return{value:t[n],config:t.config[n]}})),r=t.value,a=t.config,c=Object(b.b)(),u=Object(o.useCallback)((function(e){c(oo({key:n,value:e.target.value}))}),[c,n]);return i.a.createElement(Eo,{onChange:u,kind:n,value:r,config:a})};function ko(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n\n    background-color: ",";\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.1);\n    }\n"]);return ko=function(){return e},e}var wo=O.b.div(ko(),(function(e){return e.checked&&"rgba(0,0,0,0.1)"})),Co=i.a.memo((function(e){var n=e.checked,t=e.kind,r=e.onClick,a={style:{color:t,filter:"drop-shadow(1px 1px 1px ".concat("white"===t?"black":"white",")"),width:"30px",height:"30px"}};return i.a.createElement(wo,{checked:n?1:0,onClick:function(){return r(t)}},i.a.createElement(_n.b.Provider,{value:a},i.a.createElement(mr.b,null)))})),Io=function(e){var n=e.white,t=e.black,r=Object(b.c)((function(e){return{piece:e.create.piece}})).piece,a=Object(b.b)(),c=Object(o.useCallback)((function(e){a(oo({key:"piece",value:e}))}),[a]),u=n?"white":t?"black":null,l=r===u;return i.a.createElement(Co,{kind:u,checked:l,onClick:c})};function So(){var e=Object(v.a)(["\n    position: absolute;\n    top: -10px;\n    left: 70%;\n    width: 30%;\n    display: flex;\n    justify-content: flex-end;\n    font-weight: 500;\n    font-size: 12px;\n    color: rgba(0,0,0,0.3);\n"]);return So=function(){return e},e}function Ao(){var e=Object(v.a)(["\n    cursor: pointer;\n    position: absolute;\n    border: none;\n    outline: none;\n    margin: 0;\n    padding: 0;\n    font-size: 20px;\n    font-weight: 700;\n    top: 0px;\n    left: 0px;\n    display: flex;\n    justify-content: flex-end;\n    width: 65px;\n    height: 40px;\n    color: rgba(0, 0, 0, 0.3);\n    transition: 0.5s;\n    background-color: transparent;\n\n    @keyframes jump {\n        0%, 100% {\n            top: 0;\n        }\n        50% {\n            top: -3px;\n        }\n    }\n\n    &:hover {\n        animation: jump 0.5s 1;\n        color: rgba(0, 0, 0, 0.6);\n    }\n"]);return Ao=function(){return e},e}function To(){var e=Object(v.a)(["\n    position: relative;\n    width: 65px;\n    height: 40px;\n"]);return To=function(){return e},e}function _o(){var e=Object(v.a)(["\n    margin-top: 30px;\n    position: relative;\n    display: flex;\n    justify-content: flex-end;\n    width: 100%;\n"]);return _o=function(){return e},e}function Lo(){var e=Object(v.a)(["\n    position: relative;\n    height: 60px;\n    margin-top: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Lo=function(){return e},e}function No(){var e=Object(v.a)(["\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n"]);return No=function(){return e},e}function zo(){var e=Object(v.a)(["\n    margin-top: 40px;\n    display: flex;\n    justify-content: space-between;\n"]);return zo=function(){return e},e}function Ro(){var e=Object(v.a)(["\n    font-size: 24px;\n    font-weight: 700;\n"]);return Ro=function(){return e},e}function Bo(){var e=Object(v.a)(["\n    padding: 30px;\n    box-sizing: border-box;\n    width: 100%;\n    height: 400px;\n    background-color: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Bo=function(){return e},e}var Do,Ko=O.b.form(Bo()),Uo=O.b.div(Ro()),Mo=O.b.div(zo()),Vo=O.b.div(No()),Po=O.b.div(Lo()),Fo=O.b.div(_o()),Wo=O.b.div(To()),Go=O.b.button(Ao()),Zo=O.b.div(So()),Ho=i.a.memo((function(e){var n=e.onSubmit;return i.a.createElement(Ko,{onSubmit:n},i.a.createElement(Uo,null,"New Game"),i.a.createElement(Mo,null,i.a.createElement(so,{kind:"map"}),i.a.createElement(so,{kind:"mode"})),i.a.createElement(Vo,null,i.a.createElement(yo,{kind:"defaultTime"}),i.a.createElement(yo,{kind:"extraTime"})),i.a.createElement(Po,null,i.a.createElement(Zo,null,"Piece"),i.a.createElement(Io,{white:!0}),i.a.createElement(Io,{black:!0})),i.a.createElement(Fo,null,i.a.createElement(Wo,null,i.a.createElement(Go,{type:"submit"},"Create"))))})),qo=a.a.mark(ii),Jo=a.a.mark(ui),Xo=Object(H.a)("games/CONNECT_WEBSOCKET"),Qo=Object(H.a)("games/DISCONNECT_WEBSOCKET"),Yo=Object(H.a)("games/INITIALIZE_SOCKET",(function(e){return e})),$o=Object(H.a)("games/INITIALIZE_VALUE",(function(e){return e})),ei=Object(H.a)("games/CLEAR_VALUE"),ni=re("games/CREATE_GAME"),ti=Object(Z.a)(ni,3),ri=ti[0],ai=ti[1],ci=ti[2],oi=ae(ri,(function(e){return ie.a.post("/api/games",e)}));function ii(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Q.e)(ne,{url:"/games",initializeSocket:Yo,initializeValue:$o});case 2:return e=n.sent,n.next=5,Object(Q.g)("games/DISCONNECT_WEBSOCKET");case 5:return n.next=7,Object(Q.c)(e);case 7:case"end":return n.stop()}}),qo)}function ui(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("games/CONNECT_WEBSOCKET",ii);case 2:case"end":return e.stop()}}),Jo)}var li={socket:null,games:null,error:null},si=Object(q.a)((Do={},Object(F.a)(Do,"games/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(Do,"games/INITIALIZE_VALUE",(function(e,n){var t=n.payload.games;return Object(W.a)({},e,{games:t})})),Object(F.a)(Do,"games/CLEAR_VALUE",(function(e){return li})),Object(F.a)(Do,ai,(function(e){return e})),Object(F.a)(Do,ci,(function(e,n){var t=n.payload;return Object(W.a)({},e,{error:t})})),Do),li),bi=Object(h.f)((function(e){var n=e.history,t=Object(b.c)((function(e){var n=e.create;return{map:n.map,mode:n.mode,defaultTime:n.defaultTime,extraTime:n.extraTime,piece:n.piece}})),r=t.map,u=t.mode,l=t.defaultTime,s=t.extraTime,f=t.piece,d=Object(b.b)(),p=Object(o.useCallback)((function(e){e.preventDefault(),Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(oi({map:r,mode:u,defaultTime:l,extraTime:s,piece:f}));case 2:t=e.sent,n.push("/game/".concat(t));case 4:case"end":return e.stop()}}),e)})))()}),[d,n,r,u,l,s,f]);return Object(o.useEffect)((function(){return function(){d(io())}}),[d]),i.a.createElement(Ho,{onSubmit:p})}));function fi(){var e=Object(v.a)(["\n    ","\n    margin-left: 1%;\n"]);return fi=function(){return e},e}function di(){var e=Object(v.a)(["\n    ","\n    margin-right: 1%;\n"]);return di=function(){return e},e}function pi(){var e=Object(v.a)(["\n    height: 90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 20%;\n"]);return pi=function(){return e},e}function xi(){var e=Object(v.a)(["\n    height: 800px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return xi=function(){return e},e}var mi,vi=O.b.div(xi()),hi=Object(O.a)(pi()),Oi=O.b.div(di(),hi),gi=O.b.div(fi(),hi),ji=i.a.memo((function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(vi,null,i.a.createElement(Oi,null,i.a.createElement(Zc,null)),i.a.createElement(Pc,null),i.a.createElement(gi,null,i.a.createElement(bi,null))))})),Ei=function(){var e=Object(b.b)(),n=function(){var n=Object(c.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(ye());case 2:return e(Qo()),n.next=5,Promise.resolve().then((function(){e(Xo())}));case 5:return n.abrupt("return",!0);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(o.useEffect)((function(){return function(){e(ei())}}),[e]);var t=rn(n,[e]),r=Object(Z.a)(t,1)[0];r.loading,r.data,r.error;return i.a.createElement(ji,null)},yi=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("title",null,"Game \u2022 Chesssup.com")),i.a.createElement(nn,null),i.a.createElement(Ei,null),i.a.createElement(br,null))},ki=t(196),wi=t.n(ki),Ci=a.a.mark(Pi),Ii=a.a.mark(Fi),Si=Object(H.a)("chat/CONNECT_WEBSOCKET",(function(e){return e})),Ai=Object(H.a)("chat/DISCONNECT_WEBSOCKET"),Ti=Object(H.a)("chat/INITIALIZE_SOCKET",(function(e){return e})),_i=Object(H.a)("chat/INITIALIZE_VALUE",(function(e){return e})),Li=Object(H.a)("chat/CHANGE_VALUE",(function(e){return e})),Ni=Object(H.a)("chat/CLEAR_VALUE"),zi=Object(H.a)("chat/CHANGE_TEXTFIELD",(function(e){return e})),Ri=Object(H.a)("chat/INITIALIZE_TEXTFIELD"),Bi=re("chat/SEND_MESSAGE"),Di=Object(Z.a)(Bi,3),Ki=Di[0],Ui=Di[1],Mi=Di[2],Vi=ae(Ki,(function(e){return ie.a.post("/api/chat/sendMessage",e)}));function Pi(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ne,{url:"/chat",initializeSocket:Ti,initializeValue:_i,changeValue:Li,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)("chat/DISCONNECT_WEBSOCKET");case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),Ci)}function Fi(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("chat/CONNECT_WEBSOCKET",Pi);case 2:case"end":return e.stop()}}),Ii)}var Wi={socket:null,messages:[],text:""},Gi=Object(q.a)((mi={},Object(F.a)(mi,"chat/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(mi,"chat/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=t.nickname,a=t.color,c=t.message;return Object(W.a)({},e,{messages:[{nickname:r,color:a,message:c}]})})),Object(F.a)(mi,"chat/CHANGE_VALUE",(function(e,n){var t=n.payload,r=t.nickname,a=t.color,c=t.message;return Object(W.a)({},e,{messages:[].concat(Object(an.a)(e.messages),[{nickname:r,color:a,message:c}])})})),Object(F.a)(mi,Ui,(function(e){return e})),Object(F.a)(mi,Mi,(function(e){return e})),Object(F.a)(mi,"chat/INITIALIZE_TEXTFIELD",(function(e){return Object(W.a)({},e,{text:""})})),Object(F.a)(mi,"chat/CHANGE_TEXTFIELD",(function(e,n){var t=n.payload;return Object(W.a)({},e,{text:t})})),Object(F.a)(mi,"chat/CLEAR_VALUE",(function(e){return Wi})),mi),Wi);function Zi(){var e=Object(v.a)(["\n        background: rgb(247,246,245);\n\n        &:after {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 50%;\n            width: 0;\n            height: 0;\n            border: 8px solid transparent;\n            border-top: 0;\n            margin-top: -5px;\n            border-right-color: rgb(247,246,245);\n            border-left: 0;\n            margin-left: -8px;\n        }\n    "]);return Zi=function(){return e},e}function Hi(){var e=Object(v.a)(["\n    position: relative;\n    background: #ffff80;\n    padding: 5px;\n\n    &:after {\n        content: '';\n        position: absolute;\n        right: 0;\n        top: 50%;\n        width: 0;\n        height: 0;\n        border: 8px solid transparent;\n        border-left-color: #ffff80;\n        border-right: 0;\n        border-top: 0;\n        margin-top: -5px;\n        margin-right: -8px;\n    }\n\n    \n    ","\n"]);return Hi=function(){return e},e}function qi(){var e=Object(v.a)(["\n        justify-content: center;\n    "]);return qi=function(){return e},e}function Ji(){var e=Object(v.a)(["\n        justify-content: flex-start;\n    "]);return Ji=function(){return e},e}function Xi(){var e=Object(v.a)(["\n        justify-content: flex-end;\n    "]);return Xi=function(){return e},e}function Qi(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    width: 90%;\n    height : 36px;\n    min-height : 36px;\n    font-size : 12px;\n    background-color: white;\n\n    ",";\n\n    ",";\n\n    ",";\n"]);return Qi=function(){return e},e}function Yi(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 20%;\n    font-size: 12px;\n    background-color: rgb(247,246,245);\n    border: none;\n    cursor: pointer;\n\n    &:hover, &:focus {\n        background-color: #D3D3D3;\n    } \n"]);return Yi=function(){return e},e}function $i(){var e=Object(v.a)(["\n    outline: none;\n    border: none;\n    align-items : center;\n    color: black;\n    background-color: transparent;\n    font-size: 12px;\n    width: 80%;\n    height : 30px;\n    padding-left: 10px;\n"]);return $i=function(){return e},e}function eu(){var e=Object(v.a)(["\n    position: absolute;\n    width: 100%;\n    display: flex;\n    background-color: white;\n    top: 365px;\n    /* box-shadow: rgba(0,0,0,0.05) 0px -2px 2px 0px, rgba(0,0,0,0.08) 0px -3px 1px -2px, rgba(0,0,0,0.04) 0px -1px 5px 0px; */\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;\n"]);return eu=function(){return e},e}function nu(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 360px;\n    width: 100%;\n    padding-right: 20px;\n    overflow-y: overlay;\n"]);return nu=function(){return e},e}function tu(){var e=Object(v.a)(["\n    height: 360px;\n    width: 100%;\n    overflow: hidden;\n"]);return tu=function(){return e},e}function ru(){var e=Object(v.a)(["\n    position: relative;\n    background-color: white;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return ru=function(){return e},e}function au(){var e=Object(v.a)(["\n    width: 100%;\n"]);return au=function(){return e},e}var cu=O.b.form(au()),ou=O.b.div(ru()),iu=O.b.div(tu()),uu=O.b.div(nu()),lu=O.b.div(eu()),su=O.b.input($i()),bu=O.b.button(Yi()),fu=O.b.div(Qi(),(function(e){return"my"===e.owner&&Object(O.a)(Xi())}),(function(e){return"other"===e.owner&&Object(O.a)(Ji())}),(function(e){return"server"===e.owner&&Object(O.a)(qi())})),du=O.b.div(Hi(),(function(e){return"other"===e.owner&&Object(O.a)(Zi())})),pu=function(e){var n,t=e.owner,r=e.children;return"my"===t||"other"===t?n=i.a.createElement(du,{owner:t},r):"server"===t&&(n=i.a.createElement(i.a.Fragment,null,r)),i.a.createElement(i.a.Fragment,null,n)},xu=i.a.memo((function(e){var n=e.message,t=e.myName,r=Object(G.a)(e,["message","myName"]),a=n.nickname?n.nickname===t?"my":"other":"server",c="other"===a?n.nickname+" : "+n.message:n.message;return i.a.createElement(fu,Object.assign({},r,{color:n.color,owner:a}),i.a.createElement(pu,{owner:a},c))})),mu=i.a.memo((function(e){var n=e.messages,t=e.onSubmit,r=e.onChange,a=e.text,c=e.nickname,u=Object(o.useRef)();return Object(o.useEffect)((function(){u.current.scrollTop=u.current.scrollHeight}),[n]),i.a.createElement(i.a.Fragment,null,i.a.createElement(cu,{onSubmit:t},i.a.createElement(ou,null,i.a.createElement(iu,null,i.a.createElement(uu,{ref:u},n.map((function(e,n){return i.a.createElement(xu,{key:n,myName:c,message:e})})))),i.a.createElement(lu,null,i.a.createElement(su,{onChange:r,value:a}),i.a.createElement(bu,{onSubmit:t},i.a.createElement(_n.b.Provider,{value:{style:{width:"40%",height:"40%"}}},i.a.createElement(xr.b,null)))))))})),vu=function(){var e=Object(b.b)(),n=Object(b.c)((function(e){var n=e.chat,t=e.socketAuth;return{socket:n.socket,messages:n.messages,text:n.text,nickname:t.nickname}})),t=n.socket,r=n.messages,a=n.text,c=n.nickname,u=Object(o.useCallback)((function(n){n.preventDefault(),e(Vi({socket:t,message:a})),e(Ri())}),[e,a,t]),l=Object(o.useCallback)((function(n){e(zi(n.target.value))}),[e]);return Object(o.useEffect)((function(){return function(){e(Ni())}}),[e]),i.a.createElement(mu,{messages:r,onSubmit:u,onChange:l,text:a,nickname:c})};function hu(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    height: 100%;\n    width: 6%;\n    color: black;\n    opacity: 0.5;\n    font-size: 50px;\n"]);return hu=function(){return e},e}function Ou(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 47%;\n    color: black;\n    font-size: 50px;\n"]);return Ou=function(){return e},e}function gu(){var e=Object(v.a)(["\n        background-color: rgb(230, 153, 153);\n    "]);return gu=function(){return e},e}function ju(){var e=Object(v.a)(["\n        background-color: rgb(208, 224, 189);\n    "]);return ju=function(){return e},e}function Eu(){var e=Object(v.a)(["\n    width: 50%;\n    height: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    background-color: white;\n    ","\n    ","\n"]);return Eu=function(){return e},e}var yu=O.b.div(Eu(),(function(e){return e.color&&Object(O.a)(ju())}),(function(e){return e.time<=1e4&&Object(O.a)(gu())})),ku=O.b.div(Ou()),wu=O.b.div(hu()),Cu=function(e){var n="";return n+=String(Math.floor(e/10)),n+=String(Math.floor(e%10))},Iu=function(e){var n=e.time,t=e.color,r=Math.floor(n/6e4),a=Math.floor(n%6e4/1e3);return void 0==n||null===n?i.a.createElement(yu,null):i.a.createElement(yu,{time:n,color:t?1:0},i.a.createElement(ku,null,Cu(r)),i.a.createElement(wu,null,":"),i.a.createElement(ku,null,Cu(a)))},Su=function(e){var n=e.white,t=e.init,r=Object(b.c)((function(e){var n=e.record,t=e.game;return{whiteTime:n.whiteTime,blackTime:n.blackTime,start:t.start,order:t.order}})),a=r.whiteTime,c=r.blackTime,o=r.start,u=r.order,l=n?a:c,s=n?o&&"white"===u:o&&"black"===u;return t?i.a.createElement(Iu,{time:l,color:s}):i.a.createElement(Iu,null)};function Au(){var e=Object(v.a)(["\n    font-size: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Au=function(){return e},e}function Tu(){var e=Object(v.a)(["\n        margin-top: 30px;\n    "]);return Tu=function(){return e},e}function _u(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 30px;\n    background-color: white;\n\n    ","\n"]);return _u=function(){return e},e}var Lu=O.b.div(_u(),(function(e){return e.beneath&&Object(O.a)(Tu())})),Nu=O.b.div(Au()),zu=i.a.memo((function(e){var n=e.light,t=e.name,r=e.beneath,a={style:{height:"15px",width:"10%",color:"green",display:"flex",justifyContent:"center",alignItems:"center"}};return i.a.createElement(Lu,{beneath:r?1:0},n?i.a.createElement(_n.b.Provider,{value:a},i.a.createElement(mr.c,null)):i.a.createElement(_n.b.Provider,{value:{style:Object(W.a)({},a.style,{color:"black"})}},i.a.createElement(mr.k,null)),i.a.createElement(Nu,null,t))})),Ru=function(e){var n=e.black,t=e.white,r=e.beneath,a=e.init,c=Object(b.c)((function(e){var n=e.game;return{blackNick:n.black,whiteNick:n.white,participant:n.participant}})),o=c.blackNick,u=c.whiteNick,l=c.participant,s=new Set(l),f=t&&s.has(u)||n&&s.has(o),d=t&&u||n&&o;return a?i.a.createElement(zu,{light:f,name:d,beneath:r}):i.a.createElement(zu,{beneath:r})};function Bu(){var e=Object(v.a)(["\n    width: 20%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    background-color: rgb(247, 246, 245);\n"]);return Bu=function(){return e},e}function Du(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 20%;\n    font-size: 18px;\n"]);return Du=function(){return e},e}function Ku(){var e=Object(v.a)(["\n        &:hover {\n            background-color: rgba(209, 228, 246, 0.5);\n        }\n    "]);return Ku=function(){return e},e}function Uu(){var e=Object(v.a)(["\n        background-color: rgba(209, 228, 246, 1);\n    "]);return Uu=function(){return e},e}function Mu(){var e=Object(v.a)(["\n    width: 80%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    ","\n\n    ","\n"]);return Mu=function(){return e},e}function Vu(){var e=Object(v.a)(["\n    width: 100%;\n    height: 30px;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    &:first-child {\n        margin-top: 30px;\n    }\n"]);return Vu=function(){return e},e}function Pu(){var e=Object(v.a)(["\n    height: 270px;\n    width: 100%;\n    overflow-y: overlay;\n    padding-right: 20px;\n"]);return Pu=function(){return e},e}function Fu(){var e=Object(v.a)(["\n    height: 270px;\n    width: 100%;\n    overflow: hidden;\n"]);return Fu=function(){return e},e}var Wu=O.b.div(Fu()),Gu=O.b.div(Pu()),Zu=O.b.div(Vu()),Hu=function(e){var n=e.x,t=e.y;return String.fromCharCode(97+n)+(8-t)},qu=O.b.div(Mu(),(function(e){return e.checked&&Object(O.a)(Uu())}),(function(e){return!e.checked&&Object(O.a)(Ku())})),Ju=O.b.div(Du()),Xu=O.b.div(Bu()),Qu=i.a.memo((function(e){var n=e.move,t=e.index,r=e.onClick,a=e.checked;console.dir("PieceMove"),console.dir(n);var c,o,u=Nn[n.prevPiece.piece],l={color:n.prevPiece.owner,style:{width:"10%",filter:"drop-shadow(1px 1px 1px ".concat("white"===n.prevPiece.owner?"black":"white",")")}},s=i.a.createElement(_n.b.Provider,{value:l},i.a.createElement(u,null)),b=i.a.createElement("div",{style:{width:"10%"}});return n.nextPiece.piece&&(c=Nn[n.nextPiece.piece],o={color:n.nextPiece.owner,style:{width:"10%",filter:"drop-shadow(1px 1px 1px ".concat("white"===n.nextPiece.owner?"black":"white",")")}},b=i.a.createElement(_n.b.Provider,{value:o},i.a.createElement(c,null))),i.a.createElement(Zu,null,i.a.createElement(Xu,null,t+1),i.a.createElement(qu,{onClick:function(){return r(t)},checked:a},s,i.a.createElement(Ju,null,Hu(n.prev)),i.a.createElement(_n.b.Provider,{value:{style:{color:"rgb(169,169,169)"}}},i.a.createElement(xr.a,null)),i.a.createElement(Ju,null,Hu(n.next)),b))})),Yu=i.a.memo((function(e){var n=e.pieceMove,t=e.onClick,r=e.showIndex,a=e.listRef;return i.a.createElement(Wu,null,i.a.createElement(Gu,{ref:a},n.map((function(e,n){return i.a.createElement(Qu,{onClick:t,move:e,index:n,checked:n===r})}))))})),$u=function(){var e=Object(b.b)(),n=Object(b.c)((function(e){var n=e.record;return{pieceMove:n.pieceMove,showIndex:n.showIndex}})),t=n.pieceMove,r=n.showIndex,a=Object(o.useRef)();Object(o.useEffect)((function(){r>=0?(a.current.scrollTop>30*r&&(a.current.scrollTop=30*r),30*r>a.current.scrollTop+210&&(a.current.scrollTop=30*r-210)):a.current.scrollTop=0}),[t,r]);var c=Object(o.useCallback)((function(n){e(bc({index:n}))}),[e]);return i.a.createElement(Yu,{onClick:c,pieceMove:t,showIndex:r,listRef:a})};function el(){var e=Object(v.a)(["\n        background-color: red;\n    "]);return el=function(){return e},e}function nl(){var e=Object(v.a)(["\n    position: absolute;\n    height: 2px;\n    background-color: green;\n    transition-duration: 1s;\n    transition-timing-function: linear;\n\n    width: ",";\n    ","\n"]);return nl=function(){return e},e}var tl=O.b.div(nl(),(function(e){return 100*e.time+"%"}),(function(e){return e.time<=.1&&Object(O.a)(el())})),rl=i.a.memo((function(e){var n=e.time;return i.a.createElement(tl,{time:n})})),al=function(e){var n=e.white,t=e.black,r=e.init,a=Object(b.c)((function(e){var n=e.record,t=e.game;return{whiteRatio:n.whiteRatio,blackRatio:n.blackRatio,whiteNick:t.white,blackNick:t.black,participant:t.participant}})),c=a.whiteRatio,u=a.blackRatio,l=a.whiteNick,s=a.blackNick,f=a.participant,d=Object(o.useState)(0),p=Object(Z.a)(d,2),x=p[0],m=p[1];return Object(o.useEffect)((function(){var e=new Set(f);if(r&&n&&e.has(l)||r&&t&&e.has(s)){var a=n?c:u;a=Math.min(a,1),m(a)}else m(0)}),[r,n,t,l,s,c,u,f]),i.a.createElement(rl,{time:x})};function cl(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 25%;\n    height: 100%;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #D3D3D3;\n    }\n"]);return cl=function(){return e},e}function ol(){var e=Object(v.a)(["\n    position: absolute;\n    top: 300px;\n    display: flex;\n    width: 100%;\n    height: 30px;\n    background-color: rgb(247, 246, 245);\n    z-index: 10;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px -2px 2px 0px, rgba(0, 0, 0, 0.2) 0px -3px 1px -2px, rgba(0, 0, 0, 0.12) 0px -1px 5px 0px;\n"]);return ol=function(){return e},e}var il=O.b.div(ol()),ul=O.b.div(cl()),ll={style:{color:"#4d4d4d",width:"50%",height:"50%",backgroundColor:"transparent"}},sl=i.a.memo((function(e){var n=e.onStepUndo,t=e.onStepRedo,r=e.onFastUndo,a=e.onFastRedo;return i.a.createElement(il,null,i.a.createElement(ul,{onClick:r},i.a.createElement(_n.b.Provider,{value:ll},i.a.createElement(mr.e,null))),i.a.createElement(ul,{onClick:n},i.a.createElement(_n.b.Provider,{value:ll},i.a.createElement(mr.l,null))),i.a.createElement(ul,{onClick:t},i.a.createElement(_n.b.Provider,{value:ll},i.a.createElement(mr.m,null))),i.a.createElement(ul,{onClick:a},i.a.createElement(_n.b.Provider,{value:ll},i.a.createElement(mr.f,null))))})),bl=function(){var e=Object(b.c)((function(e){return{pieceMove:e.record.pieceMove}})).pieceMove,n=Object(b.b)(),t=Object(o.useCallback)((function(){n(bc({index:-1}))}),[n]),r=Object(o.useCallback)((function(){n(bc({diff:-1}))}),[n]),a=Object(o.useCallback)((function(){n(bc({diff:1}))}),[n]),c=Object(o.useCallback)((function(){n(bc({index:e.length-1}))}),[n,e]);return i.a.createElement(sl,{onStepUndo:r,onStepRedo:a,onFastUndo:t,onFastRedo:c})},fl=t(82),dl=t(197),pl=t.n(dl);function xl(){var e=Object(v.a)(["\n        visibility: visible;\n        transition: all 5s linear;\n        width: 0px;\n    "]);return xl=function(){return e},e}function ml(){var e=Object(v.a)(["\n    position: absolute;\n    top: -2px;\n    left: 0px;\n    width: 84px;\n    height: 2px;\n    background-color: blue;\n    visibility: hidden;\n    ","\n"]);return ml=function(){return e},e}function vl(){var e=Object(v.a)(["\n        pointer-events: none;\n    "]);return vl=function(){return e},e}function hl(){var e=Object(v.a)(["\n    background-color: transparent;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    width: 30px;\n    height: 30px;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;\n\n    ","\n\n    &+& {\n        margin-left: 10px;\n    }\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]);return hl=function(){return e},e}function Ol(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 12px;\n    height: 20px;\n    width: 100%;\n"]);return Ol=function(){return e},e}function gl(){var e=Object(v.a)(["\n    height: 30px;\n    width: 30px;\n"]);return gl=function(){return e},e}function jl(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 40px;\n    width: 100%;\n"]);return jl=function(){return e},e}function El(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 40px;\n    font-size: 11px;\n"]);return El=function(){return e},e}function yl(){var e=Object(v.a)(["\n        transition: all 3s cubic-bezier(1.000, 0.015, 1.000, 0.030);\n        top: -90px;\n        opacity: 0;\n    "]);return yl=function(){return e},e}function kl(){var e=Object(v.a)(["\n        top: -70px;\n        opacity: 1;\n        visibility: visible;\n    "]);return kl=function(){return e},e}function wl(){var e=Object(v.a)(["\n    position: absolute;\n    top: -90px;\n    left: 0px;\n    height: 60px;\n    width: 84px;\n    opacity: 0;\n    visibility: hidden;\n    ","\n    ","\n    transition: 1s;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index: 10;\n    background-color: white;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;\n"]);return wl=function(){return e},e}var Cl=O.b.div(wl(),(function(e){return e.modal&&Object(O.a)(kl())}),(function(e){return e.message&&Object(O.a)(yl())})),Il=O.b.div(El()),Sl=O.b.div(jl()),Al=O.b.img(gl()),Tl=O.b.div(Ol()),_l=O.b.button(hl(),(function(e){return e.restrict&&Object(O.a)(vl())})),Ll=O.b.div(ml(),(function(e){return e.race&&Object(O.a)(xl())})),Nl=function(e){var n,t=e.type,r=e.message,a=e.modal,c=e.race,o=e.restrict,u=e.onClick;return"answer"===a?n=i.a.createElement(Il,null,i.a.createElement(_l,{restrict:o,onClick:function(){return u(!0)}},"Y"),i.a.createElement(_l,{restrict:o,onClick:function(){return u(!1)}},"N")):"ask"===a&&(n=r?i.a.createElement(Il,null,r):i.a.createElement(Sl,null,i.a.createElement(Al,{src:pl.a}))),i.a.createElement(Cl,{message:r,modal:a},i.a.createElement(Ll,{race:c}),i.a.createElement(Tl,null,t),n)},zl=function(e){var n=e.type,t=Object(b.c)((function(e){var t=e.record,r=e.game;return{socket:t.socket,suggestion:t[n],start:r.start}})),r=t.socket,a=t.suggestion,c=t.start,u=Object(b.b)(),l=Object(o.useState)(!1),s=Object(Z.a)(l,2),f=s[0],d=s[1],p=Object(o.useState)(!1),x=Object(Z.a)(p,2),m=x[0],v=x[1];Object(o.useEffect)((function(){a.modal&&(v(!1),d(!0))}),[u,a.modal]),Object(o.useEffect)((function(){a.message&&d(!1)}),[a.message]),Object(o.useEffect)((function(){!c&&a.modal&&(d(!1),u(ka()))}),[u,c,a.modal,n]),Object(o.useEffect)((function(){return function(){u(ka())}}),[u,n]);var h=Object(o.useCallback)((function(e){u(Ma({socket:r,type:n,response:e})),v(!0)}),[u,r,n]);return i.a.createElement(Nl,{type:n,modal:a.modal,message:a.message,race:f,restrict:m,onClick:h})};function Rl(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    width: 25%;\n    height: 100%;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #D3D3D3;\n    }\n"]);return Rl=function(){return e},e}function Bl(){var e=Object(v.a)(["\n    position: absolute;\n    top: 30px;\n    display: flex;\n    width: 100%;\n    height: 30px;\n    z-index: 10;\n    background-color: rgb(247, 246, 245);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Bl=function(){return e},e}var Dl=O.b.div(Bl()),Kl=O.b.div(Rl()),Ul={style:{color:"#4d4d4d",width:"50%",height:"50%",backgroundColor:"transparent"}},Ml=i.a.memo((function(e){var n=e.onReverse,t=e.onClick;return i.a.createElement(Dl,null,i.a.createElement(Kl,{onClick:n},i.a.createElement(_n.b.Provider,{value:{style:Object(W.a)({},Ul.style,{width:"60%",height:"60%"})}},i.a.createElement(mr.d,null))),i.a.createElement(Kl,{onClick:function(){return t("undo")}},i.a.createElement(_n.b.Provider,{value:{style:Object(W.a)({},Ul.style,{width:"80%",height:"80%"})}},i.a.createElement(fl.a,null)),i.a.createElement(zl,{type:"undo"})),i.a.createElement(Kl,{onClick:function(){return t("draw")}},i.a.createElement(_n.b.Provider,{value:Ul},i.a.createElement(mr.h,null)),i.a.createElement(zl,{type:"draw"})),i.a.createElement(Kl,{onClick:function(){return t("surrender")}},i.a.createElement(_n.b.Provider,{value:Ul},i.a.createElement(mr.g,null)),i.a.createElement(zl,{type:"surrender"})))})),Vl=function(){var e=Object(b.c)((function(e){var n=e.record,t=e.game;return{socket:n.socket,reversed:n.reversed,start:t.start,blocked:n.blocked,banClick:n.banClick}})),n=e.reversed,t=e.socket,r=e.start,a=e.blocked,c=e.banClick,u=Object(b.b)(),l=Object(o.useCallback)((function(){u(ya({reversed:!n}))}),[u,n]),s=Object(o.useCallback)((function(e){!r||a||c||(u(Ua({socket:t,type:e})),u(Ia()))}),[u,r,t,a,c]);return i.a.createElement(Ml,{onReverse:l,onClick:s})};function Pl(){var e=Object(v.a)(["\n    position: relative;\n    width: 100%;\n    height: 360px;\n    background-color: white;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Pl=function(){return e},e}var Fl=O.b.div(Pl()),Wl=i.a.memo((function(e){var n=e.reversal,t=e.init;return i.a.createElement(i.a.Fragment,null,n?i.a.createElement(i.a.Fragment,null,i.a.createElement(Su,{init:t,white:!0})):i.a.createElement(i.a.Fragment,null,i.a.createElement(Su,{init:t,black:!0})),i.a.createElement(Fl,null,n?i.a.createElement(i.a.Fragment,null,i.a.createElement(al,{init:t,white:!0}),i.a.createElement(Ru,{init:t,white:!0})):i.a.createElement(i.a.Fragment,null,i.a.createElement(al,{init:t,black:!0}),i.a.createElement(Ru,{init:t,black:!0})),i.a.createElement(Vl,null),i.a.createElement($u,null),i.a.createElement(bl,null),n?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ru,{init:t,black:!0,beneath:!0}),i.a.createElement(al,{init:t,black:!0})):i.a.createElement(i.a.Fragment,null,i.a.createElement(Ru,{init:t,white:!0,beneath:!0}),i.a.createElement(al,{init:t,white:!0}))),n?i.a.createElement(i.a.Fragment,null,i.a.createElement(Su,{init:t,black:!0})):i.a.createElement(i.a.Fragment,null,i.a.createElement(Su,{init:t,white:!0})))})),Gl=function(){var e=Object(b.c)((function(e){var n=e.socketAuth,t=e.record;return{role:n.role,reversed:t.reversed}})),n=e.role,t=e.reversed,r=Object(b.b)(),a=Object(o.useState)(!1),c=Object(Z.a)(a,2),u=c[0],l=c[1];Object(o.useEffect)((function(){n&&!u&&l(!0)}),[u,n]),Object(o.useEffect)((function(){return function(){r(Ea())}}),[r]);var s=!1;return(("white"===n||"spectator"===n)&&t||"black"===n&&!t)&&(s=!0),i.a.createElement(Wl,{init:u,reversal:s})};function Zl(){var e=Object(v.a)(["\n    ","\n    margin-left: 1%;\n"]);return Zl=function(){return e},e}function Hl(){var e=Object(v.a)(["\n    ","\n    margin-right: 1%;\n"]);return Hl=function(){return e},e}function ql(){var e=Object(v.a)(["\n    height: 90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 20%;\n"]);return ql=function(){return e},e}function Jl(){var e=Object(v.a)(["\n    height: 800px;\n    width: 100%;\n    background-color: rgb(237, 235, 233);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Jl=function(){return e},e}var Xl,Ql=O.b.div(Jl()),Yl=Object(O.a)(ql()),$l=O.b.div(Hl(),Yl),es=O.b.div(Zl(),Yl),ns=i.a.memo((function(){return i.a.createElement(Ql,null,i.a.createElement($l,null,i.a.createElement(vu,null)),i.a.createElement(hc,null),i.a.createElement(es,null,i.a.createElement(Gl,null)))})),ts=a.a.mark(ls),rs=a.a.mark(ss),as=Object(H.a)("socketAuth/CONNECT_WEBSOCKET"),cs=Object(H.a)("socketAuth/DISCONNECT_WEBSOCKET"),os=Object(H.a)("socketAuth/INITIALIZE_SOCKET",(function(e){return e})),is=Object(H.a)("socketAuth/INITIALIZE_VALUE",(function(e){return e})),us=Object(H.a)("socketAuth/CLEAR_VALUE");function ls(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ne,{url:"/socketAuth",initializeSocket:os,initializeValue:is,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)("socketAuth/DISCONNECT_WEBSOCKET");case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),ts)}function ss(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("socketAuth/CONNECT_WEBSOCKET",ls);case 2:case"end":return e.stop()}}),rs)}var bs,fs={socket:null,nickname:null,role:null,error:null},ds=Object(q.a)((Xl={},Object(F.a)(Xl,"socketAuth/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(Xl,"socketAuth/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(W.a)({},e,{},r)})),Object(F.a)(Xl,"socketAuth/CLEAR_VALUE",(function(e){return fs})),Xl),fs),ps=a.a.mark(js),xs=a.a.mark(Es),ms=Object(H.a)("game/CONNECT_WEBSOCKET"),vs=Object(H.a)("game/DISCONNECT_WEBSOCKET"),hs=Object(H.a)("game/INITIALIZE_SOCKET",(function(e){return e})),Os=Object(H.a)("game/INITIALIZE_VALUE",(function(e){return e})),gs=Object(H.a)("game/CLEAR_VALUE");function js(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ne,{url:"/game",initializeSocket:hs,initializeValue:Os,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)("game/DISCONNECT_WEBSOCKET");case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),ps)}function Es(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)("game/CONNECT_WEBSOCKET",js);case 2:case"end":return e.stop()}}),xs)}var ys={socket:null,error:null,participant:[]},ks=Object(q.a)((bs={},Object(F.a)(bs,"game/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(W.a)({},e,{socket:t})})),Object(F.a)(bs,"game/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(W.a)({},e,{},r)})),Object(F.a)(bs,"game/CLEAR_VALUE",(function(e){return ys})),bs),ys),ws=function(e){var n=e.gameKey,t=Object(b.b)(),r=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ye());case 2:return t(vs()),t(cs()),t(Ai()),t(Qa()),t(va()),e.next=9,Promise.resolve().then((function(){var e=wi()(),r={gameKey:n,tabKey:e};t(ms(r)),t(as(r)),t(Si(r)),t(Xa(r)),t(ma(r))}));case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return function(){t(vs()),t(cs()),t(Ai()),t(Qa()),t(va())}}),[t]),Object(o.useEffect)((function(){return function(){t(us()),t(gs())}}),[t]);var u=rn(r,[t,n]),l=Object(Z.a)(u,1)[0];l.loading,l.data,l.error;return i.a.createElement(ns,null)},Cs=Object(h.f)((function(e){var n=e.history,t=e.match;if(Object(o.useEffect)((function(){t.params.id||n.push("/")}),[n,t]),!t.params.id)return null;var r=t.params.id;return r?i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("title",null,"GamePlay \u2022 Chesssup.com")),i.a.createElement(nn,null),i.a.createElement(ws,{gameKey:r}),i.a.createElement(br,null)):null})),Is=t(199),Ss=t(117);function As(){var e=Object(v.a)(["\n        background: rgba(102, 204, 255, 0.1);\n\n        &:hover {\n            background: rgba(102, 204, 255, 0.2);\n        }\n\n        &:active {\n            background: rgba(102, 204, 255, 0.3);\n        }\n    }\n\n    "]);return As=function(){return e},e}function Ts(){var e=Object(v.a)(["\n    width: 30px;\n    height: 30px;\n    font-size: 10px;\n    background: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding: 0px;\n    border: none;\n    margin: 0px;\n    outline: none;\n    cursor: pointer;\n    \n    &:hover {\n        background: rgba(0, 0, 0, 0.05);\n    }\n\n    &:active {\n        background: rgba(0, 0, 0, 0.1);\n    }\n\n    ","\n\n    & + & {\n        margin-left: 5px;\n    }\n"]);return Ts=function(){return e},e}function _s(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-end;\n    width: 100%;\n    height: 100%;\n"]);return _s=function(){return e},e}var Ls,Ns=O.b.div(_s()),zs=O.b.button(Ts(),(function(e){return e.page&&Object(O.a)(As())})),Rs=i.a.memo((function(e){for(var n=e.page,t=e.size,r=e.onClick,a=e.onForwardClick,c=e.onBackwardClick,o=5*parseInt((n-1)/5)+1,u=o+4,l=[],s=function(e){l.push(i.a.createElement(zs,{page:e===n,onClick:function(){return r(e)},disabled:e>t},e))},b=o;b<=u;++b)s(b);return i.a.createElement(Ns,null,i.a.createElement(zs,{onClick:c},i.a.createElement(_n.b.Provider,{value:{style:{width:"15px",height:"15px"}}},i.a.createElement(Ss.a,null))),l,i.a.createElement(zs,{onClick:a},i.a.createElement(_n.b.Provider,{value:{style:{width:"15px",height:"15px"}}},i.a.createElement(Ss.b,null))))})),Bs=t(198),Ds=t.n(Bs),Ks=re("community/CREATE_POST"),Us=Object(Z.a)(Ks,3),Ms=Us[0],Vs=Us[1],Ps=Us[2],Fs=re("community/LIST_POST"),Ws=Object(Z.a)(Fs,3),Gs=Ws[0],Zs=Ws[1],Hs=Ws[2],qs=re("community/READ_POST"),Js=Object(Z.a)(qs,3),Xs=Js[0],Qs=Js[1],Ys=Js[2],$s=re("community/DELETE_POST"),eb=Object(Z.a)($s,3),nb=eb[0],tb=eb[1],rb=eb[2],ab=re("community/UPDATE_POST"),cb=Object(Z.a)(ab,3),ob=cb[0],ib=cb[1],ub=cb[2],lb=Object(H.a)("community/CLEAR_ALL"),sb=Object(H.a)("community/SET_MENU",(function(e){return e})),bb=Object(H.a)("community/SET_STATUS",(function(e){return e})),fb=Object(H.a)("community/SET_FORM",(function(e){return e})),db=Object(H.a)("community/CLEAR_FORM",(function(e){return e})),pb=Object(H.a)("community/CLEAR_FORM_ALL",(function(e){return e})),xb=ae(Ms,(function(e){return ie.a.post("/api/community",e)})),mb=ae(Gs,(function(e){var n=e.kind,t=e.page,r=Ds.a.stringify({kind:n,page:t});return ie.a.get("/api/community?".concat(r))})),vb=ae(Xs,(function(e){var n=e.id;return ie.a.get("/api/community/".concat(n))})),hb=ae(nb,(function(e){var n=e.id;return ie.a.delete("/api/community/".concat(n))})),Ob=ae(ob,(function(e){var n=e.id,t=Object(G.a)(e,["id"]);return ie.a.patch("/api/community/".concat(n),t)})),gb={status:"list",menu:[{name:"All Posts",checked:!0},{name:"Small Talk",checked:!1},{name:"Know How",checked:!1},{name:"Notice",checked:!1}],list:{page:1,size:1,posts:[]},post:{id:null,post:null},write:{modify:!1,title:"",content:""}},jb=Object(q.a)((Ls={},Object(F.a)(Ls,"community/CLEAR_ALL",(function(e){return gb})),Object(F.a)(Ls,"community/SET_MENU",(function(e,n){var t=n.payload.menu;return Object(W.a)({},e,{menu:t})})),Object(F.a)(Ls,"community/SET_STATUS",(function(e,n){var t=n.payload.status;return Object(W.a)({},e,{status:t})})),Object(F.a)(Ls,"community/SET_FORM",(function(e,n){var t=n.payload,r=t.status,a=t.key,c=t.value;return Object(W.a)({},e,Object(F.a)({},r,Object(W.a)({},e[r],Object(F.a)({},a,c))))})),Object(F.a)(Ls,"community/CLEAR_FORM",(function(e,n){var t=n.payload,r=t.status,a=t.key;return Object(W.a)({},e,Object(F.a)({},r,Object(W.a)({},e[r],Object(F.a)({},a,gb[r][a]))))})),Object(F.a)(Ls,"community/CLEAR_FORM_ALL",(function(e,n){var t=n.payload.status;return Object(W.a)({},e,Object(F.a)({},t,Object(W.a)({},gb[t])))})),Object(F.a)(Ls,Vs,(function(e){return e})),Object(F.a)(Ls,Ps,(function(e){return e})),Object(F.a)(Ls,Zs,(function(e,n){var t=n.payload,r=t.posts,a=t.size;return Object(W.a)({},e,{list:Object(W.a)({},e.list,{posts:r,size:a})})})),Object(F.a)(Ls,Hs,(function(e){return e})),Object(F.a)(Ls,Qs,(function(e,n){var t=n.payload.post;return Object(W.a)({},e,{post:Object(W.a)({},e.post,{post:t})})})),Object(F.a)(Ls,Ys,(function(e){return e})),Object(F.a)(Ls,tb,(function(e){return e})),Object(F.a)(Ls,rb,(function(e){return e})),Object(F.a)(Ls,ib,(function(e){return e})),Object(F.a)(Ls,ub,(function(e){return e})),Ls),gb),Eb=function(){var e=Object(b.c)((function(e){var n=e.community;return{page:n.list.page,size:n.list.size}})),n=e.page,t=e.size,r=Object(b.b)(),a=Object(o.useCallback)((function(e){n!==e&&r(fb({status:"list",key:"page",value:e}))}),[r,n]),c=Object(o.useCallback)((function(){n<t&&r(fb({status:"list",key:"page",value:n+1}))}),[r,n,t]),u=Object(o.useCallback)((function(){n>1&&r(fb({status:"list",key:"page",value:n-1}))}),[r,n]);return i.a.createElement(Rs,{page:n,size:t,onClick:a,onForwardClick:c,onBackwardClick:u})};function yb(){var e=Object(v.a)(["\n    margin-top: 5px;\n    width: 90%;\n    height: 30px;\n"]);return yb=function(){return e},e}function kb(){var e=Object(v.a)(["\n    height: 50%;\n    font-size: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return kb=function(){return e},e}function wb(){var e=Object(v.a)(["\n    height: 50%;\n    font-size: 10px;\n    padding-right: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return wb=function(){return e},e}function Cb(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: flex-end;\n    height: 100%;\n    width: 50%;\n    padding-right: 30px;\n"]);return Cb=function(){return e},e}function Ib(){var e=Object(v.a)(["\n    font-size: 10px;\n    margin-left: 3px;\n    height: 30px;\n    padding-top: 5px;\n    color: rgba(0, 51, 204, 0.5);\n"]);return Ib=function(){return e},e}function Sb(){var e=Object(v.a)(["\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: 300px;\n    margin-left: 20px;\n"]);return Sb=function(){return e},e}function Ab(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    font-size: 10px;\n    width: 50px;\n    height: 14px;\n    padding: 2px 5px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Ab=function(){return e},e}function Tb(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    height: 100%;\n    width: 50%;\n    padding-left: 30px;\n"]);return Tb=function(){return e},e}function _b(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    height: 31px;\n    background: white;\n    cursor: pointer;\n    font-size: 12px;\n\n    &+& {\n        border-top: 1px solid rgba(0, 0, 0, 0.2);\n    }\n\n    &:last-child {\n        border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n    }\n\n    &:nth-child(15) {\n        border-bottom: 0px;\n    }\n    \n    &:hover {\n        background: rgba(0, 0, 0, 0.05);\n    }\n"]);return _b=function(){return e},e}function Lb(){var e=Object(v.a)(["\n    width: 90%;\n    height: 479px;\n    box-sizing: border-box;\n    background: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Lb=function(){return e},e}function Nb(){var e=Object(v.a)(["\n    margin-left: 10px;\n    font-size: 12px;\n"]);return Nb=function(){return e},e}function zb(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 90%;\n    height: 30px;\n    background: rgba(102, 204, 255, 0.1);\n    cursor: pointer;\n    box-sizing: border-box;\n    padding: 0px 20px;\n    margin-bottom: 5px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return zb=function(){return e},e}function Rb(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    box-sizing: border-box;\n    padding-top: 5px;\n    width: 100%;\n    height: 100%;\n"]);return Rb=function(){return e},e}var Bb=O.b.div(Rb()),Db=O.b.div(zb()),Kb=O.b.div(Nb()),Ub=O.b.div(Lb()),Mb=O.b.div(_b()),Vb=O.b.div(Tb()),Pb=O.b.div(Ab()),Fb=O.b.div(Sb()),Wb=O.b.div(Ib()),Gb=O.b.div(Cb()),Zb=O.b.div(wb()),Hb=O.b.div(kb()),qb=O.b.div(yb()),Jb=i.a.memo((function(e){var n=e.post,t=e.onClick,r=new Date(Date.parse(n.createdAt)),a=r.getFullYear()+" / "+r.getMonth()+" / "+r.getDate();return i.a.createElement(Mb,{onClick:function(){return t(n._id)}},i.a.createElement(Vb,null,i.a.createElement(Pb,null,"No.",n.num),i.a.createElement(Fb,null,n.title),i.a.createElement(Wb,null,"15")),i.a.createElement(Gb,null,i.a.createElement(Zb,null,n.user.username),i.a.createElement(Hb,null,a)))})),Xb=i.a.memo((function(e){var n=e.list,t=e.onClick;return i.a.createElement(Bb,null,i.a.createElement(Db,null,i.a.createElement(_n.b.Provider,{value:{style:{width:"20px",height:"20px"}}},i.a.createElement(Is.a,null)),i.a.createElement(Kb,null,"Chesssup ver1 will be released soon.")),i.a.createElement(Ub,null,n&&n.posts.map((function(e){return i.a.createElement(Jb,{key:e._id,post:e,onClick:t})}))),i.a.createElement(qb,null,i.a.createElement(Eb,null)))})),Qb=function(){var e=Object(b.c)((function(e){var n=e.community;return{menu:n.menu,list:n.list}})),n=e.menu,t=e.list,r=Object(b.b)();Object(o.useEffect)((function(){var e=n.find((function(e){return e.checked}));r(mb({kind:e.name,page:t.page}))}),[r,n,t.page]),Object(o.useEffect)((function(){return function(){r(pb({status:"list"}))}}),[r]);var a=Object(o.useCallback)((function(e){r(bb({status:"post"})),r(fb({status:"post",key:"id",value:e}))}),[r]);return i.a.createElement(Xb,{list:t,onClick:a})},Yb=t(200),$b=t.n(Yb);t(375);function ef(){var e=Object(v.a)(["\n    width: 100px;\n    height: 100%;\n    background: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding: 0px;\n    border: none;\n    margin: 0px;\n    outline: none;\n    cursor: pointer;\n\n    & + & {\n        margin-left: 5px;\n    }\n\n    &:hover {\n        background: rgba(0, 0, 0, 0.05);\n    }\n\n    &:active {\n        background: rgba(0, 0, 0, 0.1);\n    }\n"]);return ef=function(){return e},e}function nf(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-end;\n    width: 90%;\n    height: 30px;\n    margin-top: 5px;\n"]);return nf=function(){return e},e}function tf(){var e=Object(v.a)(["\n        font-style: italic;\n    "]);return tf=function(){return e},e}function rf(){var e=Object(v.a)(["\n    width: 90%;\n    height: 30px;\n    padding: 0px 15px;\n    box-sizing: border-box;\n    border: none;\n    outline: none;\n    margin-bottom: 5px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    font-size: 13px;\n    /* font-family: Helvetica, Arial, sans-serif; */\n\n    ","\n"]);return rf=function(){return e},e}function af(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    box-sizing: border-box;\n    padding-top: 5px;\n    width: 100%;\n    height: 100%;\n"]);return af=function(){return e},e}function cf(){var e=Object(v.a)([""]);return cf=function(){return e},e}function of(){var e=Object(v.a)(["\n    width: 90%;\n    height: 479px;\n    background: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return of=function(){return e},e}var uf=O.b.div(of()),lf=O.b.div(cf()),sf=O.b.div(af()),bf=O.b.input(rf(),(function(e){return e.holding&&Object(O.a)(tf())})),ff=O.b.div(nf()),df=O.b.button(ef()),pf=i.a.memo((function(e){var n=e.quillElement,t=e.onChangeTitle,r=e.holding,a=e.write,c=e.onSubmit,o=e.onCancel;return i.a.createElement(sf,null,i.a.createElement(bf,{onChange:t,value:a.title,placeholder:"title",holding:r}),i.a.createElement(uf,null,i.a.createElement(lf,{ref:n})),i.a.createElement(ff,null,i.a.createElement(df,{onClick:c},"Submit"),i.a.createElement(df,{onClick:o},"Cancel")))})),xf=function(){var e=Object(b.c)((function(e){var n=e.community;return{write:n.write,menu:n.menu}})),n=e.write,t=e.menu,r=Object(b.b)(),u=Object(o.useRef)(),l=Object(o.useRef)(),s=Object(o.useRef)(!1),f=Object(o.useState)(!(n&&n.title)),d=Object(Z.a)(f,2),p=d[0],x=d[1];Object(o.useEffect)((function(){l.current=new $b.a(u.current,{theme:"bubble",placeholder:"content",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=l.current;e.on("text-change",(function(n,t,a){"user"===a&&r(fb({status:"write",key:"content",value:e.root.innerHTML}))}))}),[r]),Object(o.useEffect)((function(){s.current||(s.current=!0,l.current.root.innerHTML=n.content)}),[n]),Object(o.useEffect)((function(){return function(){r(pb({status:"write"}))}}),[r]);var m=Object(o.useCallback)((function(e){p&&""!==e.target.value?x(!1):p||""!==e.target.value||x(!0),r(fb({status:"write",key:"title",value:e.target.value}))}),[r,p]),v=Object(o.useCallback)(Object(c.a)(a.a.mark((function e(){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.find((function(e){return e.checked})),n.modify){e.next=6;break}return e.next=4,r(xb({kind:c.name,title:n.title,content:n.content}));case 4:e.next=8;break;case 6:return e.next=8,r(Ob({id:n.modify,kind:c.name,title:n.title,content:n.content}));case 8:r(bb({status:"list"}));case 9:case"end":return e.stop()}}),e)}))),[r,n,t]),h=Object(o.useCallback)((function(){r(bb({status:"list"}))}),[r]);return i.a.createElement(pf,{quillElement:u,onChangeTitle:m,write:n,holding:p,onSubmit:v,onCancel:h})};function mf(){var e=Object(v.a)(["\n    width: 100px;\n    height: 100%;\n    background: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding: 0px;\n    border: none;\n    margin: 0px;\n    outline: none;\n    cursor: pointer;\n\n    & + & {\n        margin-left: 5px;\n    }\n\n    &:hover {\n        background: rgba(0, 0, 0, 0.05);\n    }\n\n    &:active {\n        background: rgba(0, 0, 0, 0.1);\n    }\n"]);return mf=function(){return e},e}function vf(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-end;\n    width: 90%;\n    height: 30px;\n    margin-top: 5px;\n"]);return vf=function(){return e},e}function hf(){var e=Object(v.a)(["\n    width: 90%;\n    height: 479px;\n    font-size: 13px;\n    box-sizing: border-box;\n    background: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    \n    line-height: 1.42;\n    outline: none;\n    overflow-y: auto;\n    padding: 12px 15px;\n    tab-size: 4;\n    -moz-tab-size: 4;\n    text-align: left;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    font-family: Helvetica, Arial, sans-serif;\n\n    p {\n        margin: 0px;\n    }\n"]);return hf=function(){return e},e}function Of(){var e=Object(v.a)(["\n\n"]);return Of=function(){return e},e}function gf(){var e=Object(v.a)(["\n    padding-right: 20px;\n"]);return gf=function(){return e},e}function jf(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    width: 50%;\n    font-size: 11px;\n"]);return jf=function(){return e},e}function Ef(){var e=Object(v.a)(["\n    width: 50%;\n"]);return Ef=function(){return e},e}function yf(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 90%;\n    height: 30px;\n    background: white;\n    box-sizing: border-box;\n    padding: 0px 15px;\n    margin-bottom: 5px;\n    font-size: 13px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return yf=function(){return e},e}function kf(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    box-sizing: border-box;\n    padding-top: 5px;\n    width: 100%;\n    height: 100%;\n"]);return kf=function(){return e},e}var wf=O.b.div(kf()),Cf=O.b.div(yf()),If=O.b.div(Ef()),Sf=O.b.div(jf()),Af=O.b.div(gf()),Tf=O.b.div(Of()),_f=O.b.div(hf()),Lf=O.b.div(vf()),Nf=O.b.button(mf()),zf=i.a.memo((function(e){var n=e.post,t=e.auth,r=e.onUpdate,a=e.onDelete,c=null;if(n){var o=new Date(Date.parse(n.createdAt));c=o.getFullYear()+" / "+o.getMonth()+" / "+o.getDate()}return i.a.createElement(wf,null,i.a.createElement(Cf,null,i.a.createElement(If,null,n&&n.title),i.a.createElement(Sf,null,i.a.createElement(Af,null,n&&n.user.username),i.a.createElement(Tf,null,c))),i.a.createElement(_f,{dangerouslySetInnerHTML:{__html:n?n.content:null}}),i.a.createElement(Lf,null,i.a.createElement(Nf,{disabled:!t||!n||t._id!==n.user._id,onClick:function(){return r(n)}},"Update"),i.a.createElement(Nf,{disabled:!t||!n||t._id!==n.user._id,onClick:function(){return a(n._id)}},"Delete")))})),Rf=function(){var e=Object(b.c)((function(e){var n=e.community,t=e.sessionAuth;return{id:n.post.id,post:n.post.post,auth:t.auth}})),n=e.id,t=e.post,r=e.auth,u=Object(b.b)();Object(o.useEffect)((function(){u(vb({id:n}))}),[u,n]),Object(o.useEffect)((function(){return function(){u(pb({status:"post"}))}}),[u]);var l=Object(o.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(fb({status:"write",key:"title",value:n.title})),u(fb({status:"write",key:"content",value:n.content})),u(fb({status:"write",key:"modify",value:n._id})),u(bb({status:"write"}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u]),s=Object(o.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(hb({id:n}));case 2:u(bb({status:"list"}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u]);return i.a.createElement(zf,{post:t,auth:r,onUpdate:l,onDelete:s})};function Bf(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 10px;\n    font-size: 14px;\n    height: 30px;\n"]);return Bf=function(){return e},e}function Df(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: rgba(0, 0, 0, 0.4);\n    cursor: pointer;\n\n    &:hover {\n        color: rgba(0, 0, 0, 0.8);\n    }\n"]);return Df=function(){return e},e}function Kf(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 10px;\n    font-size: 14px;\n    height: 30px; \n"]);return Kf=function(){return e},e}function Uf(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: rgba(0, 0, 0, 0.4);\n    cursor: pointer;\n\n    &:hover {\n        color: rgba(0, 0, 0, 0.8);\n    }\n"]);return Uf=function(){return e},e}function Mf(){var e=Object(v.a)(["\n        justify-content: flex-end;\n    "]);return Mf=function(){return e},e}function Vf(){var e=Object(v.a)(["\n    width: 900px;\n    margin-top: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: flex-start;\n\n    ","   \n"]);return Vf=function(){return e},e}function Pf(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    width: 1000px;\n    height: 560px;\n    margin-top: 5px;\n    /* box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12); */\n    /* background: white; */\n    background: transparent;\n"]);return Pf=function(){return e},e}function Ff(){var e=Object(v.a)(["\n    position: absolute;\n    top: 30px;\n    left: 0px;\n    width: 125px;\n    height: 2px;\n    background: black;\n    transition: 0.5s;\n    left: ",";\n"]);return Ff=function(){return e},e}function Wf(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 125px;\n    height: 30px;\n    font-size: 15px;\n    cursor: pointer;\n"]);return Wf=function(){return e},e}function Gf(){var e=Object(v.a)(["\n    position: relative;\n    display: flex;\n    margin-top: 20px;\n    width: 500px;\n    height: 30px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    background: white;\n"]);return Gf=function(){return e},e}function Zf(){var e=Object(v.a)(["\n    width: 1200px;\n    height: 720px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: rgba(255, 255, 255, 0.5);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Zf=function(){return e},e}function Hf(){var e=Object(v.a)(["\n    width: 100%;\n    height: 800px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Hf=function(){return e},e}var qf=O.b.div(Hf()),Jf=O.b.div(Zf()),Xf=O.b.div(Gf()),Qf=O.b.div(Wf()),Yf=O.b.div(Ff(),(function(e){return 125*e.checkedIndex+"px"})),$f=O.b.div(Pf()),ed=O.b.div(Vf(),(function(e){return"list"===e.status&&Object(O.a)(Mf())})),nd=O.b.div(Uf()),td=O.b.div(Kf()),rd=O.b.div(Df()),ad=O.b.div(Bf()),cd=i.a.memo((function(e){var n=e.menu,t=e.auth,r=e.status,a=e.onClick,c=e.onCreatePost,o=e.onGoBack,u=n.findIndex((function(e){return e.checked}));return i.a.createElement(qf,null,i.a.createElement(Jf,null,i.a.createElement(Xf,null,n.map((function(e,n){return i.a.createElement(Qf,{checked:e.checked,onClick:function(){return a(n)}},e.name)})),i.a.createElement(Yf,{checkedIndex:u})),i.a.createElement(ed,{status:r},"list"===r&&t&&0!==u&&3!==u&&i.a.createElement(nd,{onClick:c},i.a.createElement(_n.b.Provider,{value:{style:{width:"20px",height:"20px"}}},i.a.createElement(mr.j,null)),i.a.createElement(td,null,"New Post")),("post"===r||"write"===r)&&i.a.createElement(rd,{onClick:o},i.a.createElement(_n.b.Provider,{value:{style:{width:"25px",height:"25px"}}},i.a.createElement(fl.a,null)),i.a.createElement(ad,null,"Go Back"))),i.a.createElement($f,null,r&&"list"===r&&i.a.createElement(Qb,null),r&&"write"===r&&i.a.createElement(xf,null),r&&"post"===r&&i.a.createElement(Rf,null))))})),od=function(){var e=Object(b.c)((function(e){var n=e.community,t=e.sessionAuth;return{menu:n.menu,status:n.status,auth:t.auth}})),n=e.menu,t=e.status,r=e.auth,a=Object(b.b)();Object(o.useEffect)((function(){return function(){a(lb())}}),[a]);var c=Object(o.useCallback)((function(e){e!==n.findIndex((function(e){return e.checked}))&&(a(function(e){return function(n,t){var r=t().community.menu.map((function(e){return e.checked?Object(W.a)({},e,{checked:!1}):e}));r[e]=Object(W.a)({},r[e],{checked:!0}),n(sb({menu:r}))}}(e)),a(db({status:"list",key:"page"})),a(bb({status:"list"})))}),[a,n]),u=Object(o.useCallback)((function(){a(bb({status:"write"}))}),[a]),l=Object(o.useCallback)((function(){a(bb({status:"list"}))}),[a]);return i.a.createElement(cd,{menu:n,auth:r,status:t,onClick:c,onCreatePost:u,onGoBack:l})},id=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("title",null,"Community \u2022 Chesssup.com")),i.a.createElement(nn,null),i.a.createElement(od,null),i.a.createElement(br,null))};function ud(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 200px;\n  font-size: 50px;\n"]);return ud=function(){return e},e}var ld=O.b.div(ud()),sd=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null,i.a.createElement("title",null,"Chesssup.com")),i.a.createElement(h.c,null,i.a.createElement(h.a,{component:fr,path:"/",exact:!0}),i.a.createElement(h.a,{component:ca,path:"/login",exact:!0}),i.a.createElement(h.a,{component:ia,path:"/register",exact:!0}),i.a.createElement(h.a,{component:yi,path:"/game",exact:!0}),i.a.createElement(h.a,{component:Cs,path:"/game/:id",exact:!0}),i.a.createElement(h.a,{component:id,path:"/community",exact:!0}),i.a.createElement(h.a,{render:function(e){e.location;return i.a.createElement(ld,null,i.a.createElement("h1",null,"404 Error"),i.a.createElement("p",null,"\uc694\uccad\ud55c \ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))}})))},bd=a.a.mark(fd);function fd(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)([Ye(),ss(),Es(),ui(),pc(),Fi(),Wa(),Kt(),tr()]);case 2:case"end":return e.stop()}}),bd)}var dd=Object(f.combineReducers)({sessionAuth:en,socketAuth:ds,game:ks,games:si,canvas:vc,chat:Gi,record:Ha,create:lo,ranking:Vt,billBoard:ar,community:jb});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pd(){var e=Object(v.a)(["\n    width: 1680px;\n"]);return pd=function(){return e},e}var xd=O.b.div(pd()),md=function(e){return i.a.createElement(xd,e)},vd=Object(x.a)(),hd=Object(f.createStore)(dd,Object(p.composeWithDevTools)(Object(f.applyMiddleware)(d.a,vd)));vd.run(fd),Object(c.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=le("auth")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,hd.dispatch(He());case 6:if(e.sent.username===n.username){e.next=10;break}throw be(),"Auth mismatch";case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.dir("Check auth failed");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))(),l.a.render(i.a.createElement(b.a,{store:hd},i.a.createElement(s.a,null,i.a.createElement(m.b,null,i.a.createElement(md,null,i.a.createElement(sd,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[203,1,2]]]);
//# sourceMappingURL=main.701cb0fb.chunk.js.map