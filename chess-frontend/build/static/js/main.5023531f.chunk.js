(this["webpackJsonpchess-frontend"]=this["webpackJsonpchess-frontend"]||[]).push([[0],{191:function(e,n,t){e.exports=t.p+"static/media/ranking.78f675e7.svg"},193:function(e,n,t){e.exports=t.p+"static/media/spinner.390a617d.svg"},197:function(e,n,t){e.exports=t(367)},207:function(e,n,t){},236:function(e,n){},264:function(e,n){},266:function(e,n){},298:function(e,n){},299:function(e,n){},367:function(e,n,t){"use strict";t.r(n);var r=t(7),a=t.n(r),c=t(1),o=t.n(c),i=t(79),u=t.n(i),l=t(31),s=t(8),f=t(45),b=t(181),d=t(182),p=t(81),m=t(32),x=(t(207),t(3)),v=t(46),h=t(2);function g(){var e=Object(x.a)(["\n    position: absolute;\n    top: 10%;\n    left: 0%;\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.4);\n"]);return g=function(){return e},e}function O(){var e=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    margin-right: 8%;\n"]);return O=function(){return e},e}function j(){var e=Object(x.a)(["\n        display: none;\n        visibility: hidden;\n    "]);return j=function(){return e},e}function E(){var e=Object(x.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    font-size: 16px;\n    cursor: pointer;\n    color: rgb(0, 0, 0, 0.4);\n    margin-left: 20px;\n    text-decoration: none;\n    \n    ",";\n"]);return E=function(){return e},e}function y(){var e=Object(x.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    font-size: 16px;\n    cursor: pointer;\n    color: rgb(0, 0, 0, 0.4);\n    margin-left: 20px;\n"]);return y=function(){return e},e}function k(){var e=Object(x.a)(["\n    margin-left: 30px;\n    display: flex;\n"]);return k=function(){return e},e}function w(){var e=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    margin-left: 8%;\n"]);return w=function(){return e},e}function C(){var e=Object(x.a)(["\n    ","\n    color: rgb(0, 0, 0, 0.4);\n"]);return C=function(){return e},e}function I(){var e=Object(x.a)(["\n    ","\n    color: rgb(0, 0, 0, 0.6);\n"]);return I=function(){return e},e}function A(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    height: 40px;\n    background-color: transparent;\n    cursor: pointer;\n    font-size: 30px;\n    text-decoration: none;\n    text-shadow: 2px 2px 2px rgb(0, 0, 0, 0.2);\n    font-style: italic;\n"]);return A=function(){return e},e}function S(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 50px;\n"]);return S=function(){return e},e}var L=h.b.div(S()),T=Object(h.a)(A()),N=Object(h.b)(l.b)(I(),T),_=Object(h.b)(l.b)(C(),T),z=h.b.div(w()),R=h.b.div(k()),V=h.b.div(y()),U=Object(h.b)(l.b)(E(),(function(e){return e.hidden&&Object(h.a)(j())})),D=function(e){return e.to?o.a.createElement(U,e,e.children):o.a.createElement(V,e,e.children)},F=h.b.div(O()),P=h.b.div(g()),K=o.a.memo((function(e){var n,t=e.onRecord,r=e.onLogout,a=e.onLogin,c=e.tempAuth,i=e.auth;return c&&(n=c.nickname),i&&(n=i.username),o.a.createElement(o.a.Fragment,null,o.a.createElement(L,null,o.a.createElement(z,null,o.a.createElement(N,{to:"/"},"chesssup"),o.a.createElement(_,{to:"/"},".com"),o.a.createElement(R,null,o.a.createElement(D,{to:"/game"},"Play"),o.a.createElement(D,{to:"/community"},"Community"))),o.a.createElement(F,null,o.a.createElement(D,{onClick:t},"Search"),i?o.a.createElement(o.a.Fragment,null,o.a.createElement(D,{onClick:t},"Setting"),o.a.createElement(D,{onClick:t},"Record"),o.a.createElement(D,{onClick:r},"Logout",o.a.createElement(P,null,n))):o.a.createElement(D,{onClick:a},"Login",o.a.createElement(P,null,n)))))})),B=t(6),M=t(5),G=t(20),Z=t(13),W=t(369),q=t(368),H=t(188),J=t.n(H),Q=t(9),X=a.a.mark($),Y=a.a.mark(ee);function $(e){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(p.b)((function(n){return e.on("connect",(function(t){n({type:"socket",socket:e.id})})),e.on("message",(function(e){n(e)})),function(){e.close()}})));case 1:case"end":return n.stop()}}),X)}function ee(e){var n,t,r,c,o,i,u,l,s,f,b;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,r=e.query,c=e.initializeSocket,o=e.initializeValue,i=e.changeValue,u=e.updateValue,l=e.clearValue,s=e.notifyRequest,a.prev=1,f=J()(t,{query:r,reconnection:!1,secure:!0}),a.next=5,Object(Q.b)($,f);case 5:n=a.sent;case 6:return a.next=9,Object(Q.g)(n);case 9:b=a.sent,a.t0=b.type,a.next="socket"===a.t0?13:"initialize"===a.t0?18:"change"===a.t0?21:"update"===a.t0?24:"clear"===a.t0?27:"notify"===a.t0?30:33;break;case 13:if(!c){a.next=16;break}return a.next=16,Object(Q.f)(c(b));case 16:return a.abrupt("break",34);case 18:return a.next=20,Object(Q.f)(o(b));case 20:return a.abrupt("break",34);case 21:return a.next=23,Object(Q.f)(i(b));case 23:return a.abrupt("break",34);case 24:return a.next=26,Object(Q.f)(u(b));case 26:return a.abrupt("break",34);case 27:return a.next=29,Object(Q.f)(l(b));case 29:return a.abrupt("break",34);case 30:return a.next=32,Object(Q.f)(s(b));case 32:return a.abrupt("break",34);case 33:console.dir(b);case 34:a.next=6;break;case 36:a.next=41;break;case 38:a.prev=38,a.t1=a.catch(1),console.dir(a.t1);case 41:return a.prev=41,a.next=44,Object(Q.d)();case 44:if(!a.sent){a.next=46;break}n.close();case 46:return a.finish(41);case 47:case"end":return a.stop()}}),Y,null,[[1,38,41,47]])}var ne=t(189),te=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function re(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return function(e){return function(c){var o;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,a.a.awrap(n(e));case 3:return o=i.sent,c({type:t,payload:o.data}),i.abrupt("return",o.data);case 8:throw i.prev=8,i.t0=i.catch(0),console.dir(i.t0),c({type:r,payload:i.t0,error:!0}),i.t0;case 13:case"end":return i.stop()}}),null,null,[[0,8]])}}}var ae,ce=t(29),oe=t.n(ce),ie=t(190),ue=function(e){var n=Object(ie.a)({},e);try{Object.keys(n).forEach((function(e){localStorage.setItem(e,JSON.stringify(n[e]))}))}catch(t){console.dir("Set localStorage failed"),console.dir(t)}},le=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(n){console.dir("Get localStorage failed"),console.dir(n)}},se=function(e){try{localStorage.removeItem(e)}catch(n){console.dir("Remove localStorage failed"),console.dir(n)}},fe=function(){try{localStorage.clear()}catch(e){console.dir("Clear localStorage failed"),console.dir(e)}},be=a.a.mark($e),de=a.a.mark(en),pe="sessionAuth/CONNECT_WEBSOCKET",me="sessionAuth/DISCONNECT_WEBSOCKET",xe=Object(W.a)(pe),ve=Object(W.a)(me),he=Object(W.a)("sessionAuth/INITIALIZE_VALUE",(function(e){return e})),ge=Object(W.a)("sessionAuth/CLEAR_VALUE"),Oe=te("sessionAuth/SET_SESSION"),je=Object(Z.a)(Oe,3),Ee=je[0],ye=je[1],ke=je[2],we=re(Ee,(function(){return oe.a.get("/api/auth/getSession")})),Ce=te("sessionAuth/LOGIN"),Ie=Object(Z.a)(Ce,3),Ae=Ie[0],Se=Ie[1],Le=Ie[2],Te=te("sessionAuth/REGISTER"),Ne=Object(Z.a)(Te,3),_e=Ne[0],ze=Ne[1],Re=Ne[2],Ve=te("sessionAuth/LOGOUT"),Ue=Object(Z.a)(Ve,3),De=Ue[0],Fe=Ue[1],Pe=Ue[2],Ke=te("sessionAuth/CHECK"),Be=Object(Z.a)(Ke,3),Me=Be[0],Ge=Be[1],Ze=Be[2],We=re(Ae,(function(e){var n=e.username,t=e.password;return oe.a.post("/api/auth/login",{username:n,password:t})})),qe=re(_e,(function(e){var n=e.username,t=e.password;return oe.a.post("/api/auth/register",{username:n,password:t})})),He=re(De,(function(){return oe.a.post("/api/auth/logout")})),Je=re(Me,(function(){return oe.a.get("/api/auth/check")})),Qe=Object(W.a)("sessionAuth/CHANGE_FIELD",(function(e){return e})),Xe=Object(W.a)("sessionAuth/CLEAR_FIELD",(function(e){return e})),Ye=Object(W.a)("sessionAuth/CLEAR_SPECIFIC_FIELD",(function(e){return e}));function $e(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Q.e)(ee,{url:"/sessionAuth",initializeValue:he,clearValue:ge});case 2:return e=n.sent,n.next=5,Object(Q.g)(me);case 5:return n.next=7,Object(Q.c)(e);case 7:case"end":return n.stop()}}),be)}function en(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(pe,$e);case 2:case"end":return e.stop()}}),de)}var nn={tempAuth:null,auth:null,authError:null,login:{username:"",password:""},register:{username:"",password:"",passwordConfirm:""}},tn=Object(q.a)((ae={},Object(B.a)(ae,"sessionAuth/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(M.a)({},e,{auth:Object(M.a)({},r)})})),Object(B.a)(ae,"sessionAuth/CLEAR_VALUE",(function(e){return Object(M.a)({},nn,{tempAuth:e.tempAuth})})),Object(B.a)(ae,ye,(function(e,n){var t=n.payload;return Object(M.a)({},e,{tempAuth:t})})),Object(B.a)(ae,ke,(function(e,n){var t=n.payload;return Object(M.a)({},e,{tempAuth:null,error:t})})),Object(B.a)(ae,"sessionAuth/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,c=t.value;return Object(ne.a)(e,(function(e){e[r][a]=c}))})),Object(B.a)(ae,"sessionAuth/CLEAR_FIELD",(function(e,n){var t,r=n.payload.form;return Object(M.a)({},e,(t={},Object(B.a)(t,r,nn[r]),Object(B.a)(t,"authError",nn.authError),t))})),Object(B.a)(ae,"sessionAuth/CLEAR_SPECIFIC_FIELD",(function(e,n){var t,r=n.payload,a=r.form,c=r.key;return Object(M.a)({},e,(t={},Object(B.a)(t,a,Object(M.a)({},e[a],Object(B.a)({},c,nn[a][c]))),Object(B.a)(t,"authError",nn.authError),t))})),Object(B.a)(ae,Se,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:t,authError:null})})),Object(B.a)(ae,Le,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:null,authError:t})})),Object(B.a)(ae,ze,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:t,authError:null})})),Object(B.a)(ae,Re,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:null,authError:t})})),Object(B.a)(ae,Fe,(function(e){return Object(M.a)({},e,{auth:null,authError:null})})),Object(B.a)(ae,Pe,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:null,authError:t})})),Object(B.a)(ae,Ge,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:t,authError:null})})),Object(B.a)(ae,Ze,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:null,authError:t})})),ae),nn),rn=Object(v.f)((function(e){var n=e.history,t=Object(s.c)((function(e){var n=e.sessionAuth;return{tempAuth:n.tempAuth,auth:n.auth}})),r=t.tempAuth,i=t.auth,u=Object(s.b)(),l=Object(c.useCallback)((function(){u((function(e,n){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(e(He()));case 3:se("auth"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.dir("Logout failed");case 9:case"end":return n.stop()}}),null,null,[[0,6]])}))}),[u]),f=Object(c.useCallback)((function(){alert("onRecord")}),[]),b=Object(c.useCallback)((function(){u(Xe({form:"login"})),n.push("/login")}),[u,n]);return Object(c.useEffect)((function(){return u(xe()),function(){u(ve())}}),[u]),o.a.createElement(K,{onRecord:f,onLogout:l,onLogin:b,tempAuth:r,auth:i})}));function an(e,n){switch(n.type){case"LOADING":return{loading:!0,data:null,error:null};case"SUCCESS":return{loading:!1,data:n.data,error:null};case"FAILURE":return{loading:!1,data:null,error:n.error};default:throw new Error("Unhandled action type Error")}}var cn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(c.useReducer)(an,{loading:!1,data:null,error:!1}),r=Object(Z.a)(t,2),o=r[0],i=r[1],u=function(){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:"LOADING"}),t.prev=1,t.next=4,a.a.awrap(e());case 4:n=t.sent,i({type:"SUCCESS",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i({type:"FAILURE",error:t.t0});case 11:case"end":return t.stop()}}),null,null,[[1,8]])};return Object(c.useEffect)((function(){u()}),n),[o,u]},on=t(18),un=t(191),ln=t.n(un);function sn(){var e=Object(x.a)(["\n    position: absolute;\n    display: flex;\n    height: 40px;\n    width: 100%;\n    border-bottom: 2px solid rgba(0, 0, 0, 0.7);\n    top: 0;\n    left: 0;\n"]);return sn=function(){return e},e}function fn(){var e=Object(x.a)(["\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    background-color: #ccc;\n    top: ",";\n    left: 0;\n"]);return fn=function(){return e},e}function bn(){var e=Object(x.a)(["\n        justify-content: center;\n    "]);return bn=function(){return e},e}function dn(){var e=Object(x.a)(["\n        width: 240px;\n        justify-content: flex-start;\n    "]);return dn=function(){return e},e}function pn(){var e=Object(x.a)(["\n        width: 120px;\n    "]);return pn=function(){return e},e}function mn(){var e=Object(x.a)(["\n    width: 100px;\n    font-size: 13px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ","\n\n    ","\n\n    ",";\n\n"]);return mn=function(){return e},e}function xn(){var e=Object(x.a)(["\n    position: absolute;\n    height: 40px;\n    width: 100%;\n    display: flex;\n    cursor: pointer;\n    transition: 1s top;\n    top: ",";\n    left: 0;\n\n    &:hover {\n        background-color: rgba(255, 255, 255, 0.8);\n    }\n    \n"]);return xn=function(){return e},e}function vn(){var e=Object(x.a)(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    z-index: 10;\n"]);return vn=function(){return e},e}var hn=h.b.div(vn()),gn=h.b.div(xn(),(function(e){return 41*e.index+42+"px"})),On=h.b.div(mn(),(function(e){return e.elo&&Object(h.a)(pn())}),(function(e){return e.mail&&Object(h.a)(dn())}),(function(e){return e.header&&Object(h.a)(bn())})),jn=o.a.memo((function(e){var n=e.cell;return o.a.createElement(gn,{index:n.index},o.a.createElement(On,null,n.index+1),o.a.createElement(On,{mail:!0},n.username),o.a.createElement(On,{elo:!0},n.elo),o.a.createElement(On,null,100*n.ratio," %"),o.a.createElement(On,null,n.win),o.a.createElement(On,null,n.lose))})),En=h.b.div(fn(),(function(e){return 41*e.index-1+42+"px"})),yn=o.a.memo((function(){return o.a.createElement(kn,null,o.a.createElement(On,null,"Rank"),o.a.createElement(On,{mail:!0,header:!0},"Email"),o.a.createElement(On,{elo:!0},"Elo"),o.a.createElement(On,null,"Ratio"),o.a.createElement(On,null,"Win"),o.a.createElement(On,null,"Lose"))})),kn=h.b.div(sn()),wn=o.a.memo((function(e){var n=e.list,t=n&&n.map((function(e){return o.a.createElement(jn,{key:e.username,cell:e})})),r=[];if(n)for(var a=n.reduce((function(e,n){return e+(n.index<15?1:0)}),0),c=1;c<a;++c)r.push(o.a.createElement(En,{key:"border_".concat(c),index:c}));return o.a.createElement(hn,null,o.a.createElement(yn,null),t,r)})),Cn=function(e){var n=e.list;return o.a.createElement(wn,{list:n})};function In(){var e=Object(x.a)(["\n    position: absolute;\n    top: 10%;\n    left: 10%;\n    width: 80%;\n    height: 80%;\n    opacity: 0.1;\n    z-index: -1;\n"]);return In=function(){return e},e}function An(){var e=Object(x.a)(["\n    position: relative;\n    width: 720px;\n    height: 720px;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    padding: 30px;\n    background-color: rgba(255,255,255,0.5);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return An=function(){return e},e}var Sn=h.b.div(An()),Ln=h.b.img(In()),Tn=o.a.memo((function(e){var n=e.rank;return o.a.createElement(Sn,null,o.a.createElement(Ln,{src:ln.a}),o.a.createElement(Cn,{list:n}))})),Nn=function(){var e=Object(s.c)((function(e){return{ranking:e.ranking.ranking}})).ranking,n=Object(c.useState)(),t=Object(Z.a)(n,2),r=t[0],a=t[1];return Object(c.useEffect)((function(){e&&a((function(n){if(!n)return e.map((function(e,n){return Object(M.a)({},e,{index:n})}));var t=[],r=n.filter((function(e){return 15!==e.index})).map((function(n){var r=e.findIndex((function(e){return e.username===n.username}));return r>=0?(t.push(r),JSON.stringify(Object(M.a)({},e[r],{index:r}))==JSON.stringify(n)?n:Object(M.a)({},e[r],{index:r})):Object(M.a)({},n,{index:15})})),c=0,o=[];return t.sort((function(e,n){return e-n})).reduce((function(e,n){for(var t=c;t<n;++t)e.push(t);return c=n+1,e}),[]).forEach((function(n){r.push(Object(M.a)({},e[n],{index:15})),o.push(Object(M.a)({},e[n],{index:n}))})),t.length>0&&setTimeout((function(){a((function(e){var n=Object(on.a)(e);return o.forEach((function(e){var t=n.findIndex((function(n){return n.username===e.username}));t&&n.splice(t,1,Object(M.a)({},e))})),n}))}),0),r}))}),[e]),Object(c.useEffect)((function(){return function(){a(null)}}),[]),o.a.createElement(Tn,{rank:r})};function _n(){var e=Object(x.a)(["\n    ","\n    margin-left: 1%;\n"]);return _n=function(){return e},e}function zn(){var e=Object(x.a)(["\n    ","\n    margin-right: 1%;\n"]);return zn=function(){return e},e}function Rn(){var e=Object(x.a)(["\n    height: 90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 20%;\n"]);return Rn=function(){return e},e}function Vn(){var e=Object(x.a)(["\n    width: 100%;\n    margin-top: 40px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Vn=function(){return e},e}var Un,Dn=h.b.div(Vn()),Fn=Object(h.a)(Rn()),Pn=h.b.div(zn(),Fn),Kn=h.b.div(_n(),Fn),Bn=o.a.memo((function(){return o.a.createElement(Dn,null,o.a.createElement(Pn,null),o.a.createElement(Nn,null),o.a.createElement(Kn,null))})),Mn=a.a.mark(Yn),Gn=a.a.mark($n),Zn="ranking/CONNECT_WEBSOCKET",Wn="ranking/DISCONNECT_WEBSOCKET",qn=Object(W.a)(Zn),Hn=Object(W.a)(Wn),Jn=Object(W.a)("ranking/INITIALIZE_SOCKET"),Qn=Object(W.a)("ranking/INITIALIZE_VALUE"),Xn=Object(W.a)("ranking/CLEAR_VALUE");function Yn(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Q.e)(ee,{url:"/ranking",initializeSocket:Jn,initializeValue:Qn});case 2:return e=n.sent,n.next=5,Object(Q.g)(Wn);case 5:return n.next=7,Object(Q.c)(e);case 7:case"end":return n.stop()}}),Mn)}function $n(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(Zn,Yn);case 2:case"end":return e.stop()}}),Gn)}var et={socket:null,ranking:null,error:null},nt=Object(q.a)((Un={},Object(B.a)(Un,"ranking/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(B.a)(Un,"ranking/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(M.a)({},e,{},r)})),Object(B.a)(Un,"ranking/CLEAR_VALUE",(function(e){return et})),Un),et),tt=function(){var e=Object(s.b)();Object(c.useEffect)((function(){return function(){e(Hn())}}),[e]),Object(c.useEffect)((function(){e(Xn())}),[e]);var n=cn((function(){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(e(we()));case 2:return e(Hn()),n.next=5,a.a.awrap(Promise.resolve().then((function(){e(qn())})));case 5:return n.abrupt("return",!0);case 6:case"end":return n.stop()}}))}),[e]),t=Object(Z.a)(n,1)[0],r=t.loading,i=t.data,u=t.error;return r?null:u?null:i?o.a.createElement(Bn,null):null},rt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(rn,null),o.a.createElement(tt,null))},at=t(35),ct=t.n(at),ot=t(59),it=t(22),ut=t(0);function lt(){var e=Object(x.a)(["\n    position: absolute;\n    top: 0;\n    left: 48%;\n    width: 50%;\n    display: flex;\n    justify-content: flex-end;\n    font-size: 12px;\n    @keyframes fontOpacity {\n        0%{\n            color: rgb(0, 0, 0, 0);\n        }\n        100%{\n            color: rgb(0, 0, 0, 0.4);\n        }\n      }\n    animation: fontOpacity 1s 1;\n    color: rgb(0, 0, 0, 0.4);\n"]);return lt=function(){return e},e}function st(){var e=Object(x.a)(["\n    outline: none;\n    border: none;\n    font-size: 10px;\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n    margin-left: 5px;\n    background-color: transparent;\n"]);return st=function(){return e},e}function ft(){var e=Object(x.a)(["\n    color: rgb(0, 0, 0, 0.5);\n    font-size: 10px;\n"]);return ft=function(){return e},e}function bt(){var e=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n    height: 40px;\n"]);return bt=function(){return e},e}function dt(){var e=Object(x.a)(["\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    border: none;\n    outline: none;\n    width: 30%;\n    cursor: pointer;\n    height: 40px;\n    background-color: transparent;\n\n    &:hover, :active {\n        background-color: rgb(0, 0, 0, 0.05);\n    }\n"]);return dt=function(){return e},e}function pt(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 150px;\n"]);return pt=function(){return e},e}function mt(){var e=Object(x.a)(["\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.5);\n    cursor: pointer;\n"]);return mt=function(){return e},e}function xt(){var e=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    height: 100%;\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.5);\n    cursor: pointer;\n    margin-left: 5px;\n"]);return xt=function(){return e},e}function vt(){var e=Object(x.a)(["\n    height: 100%;\n    outline: none;\n    margin: 0px;\n"]);return vt=function(){return e},e}function ht(){var e=Object(x.a)(["\n    display: flex;\n    align-content: center;\n    width: 30%;\n    height: 100%;\n"]);return ht=function(){return e},e}function gt(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    width: 60%;\n    height: 20px;\n"]);return gt=function(){return e},e}function Ot(){var e=Object(x.a)(["\n    ","\n"]);return Ot=function(){return e},e}function jt(){var e=Object(x.a)(["\n    ","\n"]);return jt=function(){return e},e}function Et(){var e=Object(x.a)(["\n    outline: none;\n    border: none;\n    height: 40px;\n    width: 80%;\n    padding-left: 5%;\n"]);return Et=function(){return e},e}function yt(){var e=Object(x.a)(["\n        animation: blinking 1s 2;\n    "]);return yt=function(){return e},e}function kt(){var e=Object(x.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding-left: 1%;\n    width: 60%;\n\n    &+& {\n        margin-top: 10px;\n    }\n\n    @keyframes blinking {\n        0%{\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n        }\n        50% {\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.56), 0 3px 1px -2px rgba(0,0,0,0.8), 0 1px 5px 0 rgba(0,0,0,0.48);\n        }\n        100%{\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n        }\n      }\n\n    ","\n"]);return kt=function(){return e},e}function wt(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 150px;\n"]);return wt=function(){return e},e}function Ct(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    font-size: 20px;\n    height: 100px;\n    text-shadow: 2px 2px 2px rgba(0,0,0,0.14);\n"]);return Ct=function(){return e},e}function It(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 30%;\n    height: 400px;\n    background-color: rgba(255, 255, 255);\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return It=function(){return e},e}function At(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 800px;\n"]);return At=function(){return e},e}var St,Lt=h.b.form(At()),Tt=h.b.div(It()),Nt=h.b.div(Ct()),_t=h.b.div(wt()),zt=h.b.div(kt(),(function(e){return e.blink&&Object(h.a)(yt())})),Rt=Object(h.a)(Et()),Vt=h.b.input(jt(),Rt),Ut=h.b.input(Ot(),Rt),Dt=h.b.div(gt()),Ft=h.b.div(ht()),Pt=h.b.input(vt()),Kt=h.b.div(xt()),Bt=h.b.div(mt()),Mt=h.b.div(pt()),Gt=h.b.button(dt()),Zt=h.b.div(bt()),Wt=h.b.div(ft()),qt=h.b.button(st()),Ht=h.b.div(lt()),Jt=o.a.memo((function(e){var n=e.login,t=e.register,r=e.form,a=e.error,i=e.onSubmit,u=e.onChange,l=e.onRegister,s=Object(c.useRef)({}),f=Object(c.useCallback)((function(e){s.current[e].focus()}),[]);return o.a.createElement(Lt,{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onSubmit:i},o.a.createElement(Tt,null,o.a.createElement(Nt,null,n?"Sign In":t?"Sign Up":null),o.a.createElement(_t,null,o.a.createElement(zt,{onClick:f.bind(null,"username"),blink:a.username,key:"username_".concat(a.count)},o.a.createElement(ut.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},o.a.createElement(ot.c,null)),o.a.createElement(Vt,{type:"text",name:"username",placeholder:"Email",onChange:u,value:r.username,ref:function(e){return s.current.username=e}}),o.a.createElement(Ht,null,a.username)),o.a.createElement(zt,{onClick:f.bind(null,"password"),blink:a.password,key:"password_".concat(a.count)},o.a.createElement(ut.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},o.a.createElement(it.i,null)),o.a.createElement(Ut,{type:"password",name:"password",placeholder:"Password",onChange:u,value:r.password,ref:function(e){return s.current.password=e}}),o.a.createElement(Ht,null,a.password)),t?o.a.createElement(zt,{onClick:f.bind(null,"passwordConfirm"),blink:a.passwordConfirm,key:"passwordConfirm_".concat(a.count)},o.a.createElement(ut.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},o.a.createElement(it.i,null)),o.a.createElement(Ut,{type:"password",name:"passwordConfirm",placeholder:"Confirm Password",onChange:u,value:r.passwordConfirm,ref:function(e){return s.current.passwordConfirm=e}}),o.a.createElement(Ht,null,a.passwordConfirm)):null,n?o.a.createElement(Dt,null,o.a.createElement(Ft,null,o.a.createElement(Pt,{type:"checkbox"}),o.a.createElement(Kt,null,"Remember Me")),o.a.createElement(Bt,null,"Forget password?")):null),o.a.createElement(Mt,null,o.a.createElement(Gt,{type:"submit"},"Submit"),n?o.a.createElement(Zt,null,o.a.createElement(Wt,null,"Don't have an account?"),o.a.createElement(qt,{type:"button",onClick:l},"Create")):o.a.createElement(Zt,null,o.a.createElement(Wt,null,"Don't have an account?"),o.a.createElement(qt,{type:"button"},"Create")))))})),Qt=Object(v.f)((function(e){var n=e.history,t=Object(s.c)((function(e){var n=e.sessionAuth;return{form:n.login,auth:n.auth,authError:n.authError}})),r=t.form,i=t.auth,u=t.authError,l=Object(s.b)(),f=Object(c.useState)({username:"",password:""}),b=Object(Z.a)(f,2),d=b[0],p=b[1],m=Object(c.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;""!==d[t]&&p((function(e){return Object(M.a)({},e,Object(B.a)({},t,""))})),l(Qe({form:"login",key:t,value:r}))}),[l,d]),x=Object(c.useCallback)((function(e){e.preventDefault();var n=r.username,t=r.password,c=Object.keys(r).reduce((function(e,n){return Object(M.a)({},e,Object(B.a)({},n,!1))}),{});Object.keys(c).filter((function(e){return""===r[e]})).forEach((function(e){c=Object(M.a)({},c,Object(B.a)({},e,"Required field"))}));var o,i=ct.a.object().keys({username:ct.a.string().max(80).email({minDomainAtoms:2}).required().error((function(){return{message:"Wrong format"}})),password:ct.a.string().min(4).max(16).required().error((function(){return{message:"4 ~ 16 digits"}}))}),u=ct.a.validate(r,i,{abortEarly:!1});if(u.error&&u.error.details.forEach((function(e){c[e.path[0]]||(c=Object(M.a)({},c,Object(B.a)({},e.path[0],e.message)))})),Object.keys(c).filter((function(e){return c[e]})).length>0)return p((function(e){return Object(M.a)({},c,{count:e.count+1})})),void Object.keys(c).forEach((function(e){c[e]&&l(Ye({form:"login",key:e}))}));l((o={username:n,password:t},function(e,n){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(e(We(o)));case 3:(t=n.sent)&&ue({auth:t}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.dir("Login failed");case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),l(Xe({form:"login"}))}),[l,r]);Object(c.useEffect)((function(){if(u){var e={},t=u.response.data;return Object.keys(t).forEach((function(n){e=Object(M.a)({},e,Object(B.a)({},n,t[n]))})),void p(e)}i&&n.push("/")}),[n,i,u]),Object(c.useEffect)((function(){return function(){l(Xe({form:"login"}))}}),[l]);var v=Object(c.useCallback)((function(){l(Xe({form:"register"})),n.push("/register")}),[l,n]);return o.a.createElement(Jt,{login:!0,onSubmit:x,onChange:m,form:r,error:d,onRegister:v})})),Xt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,o.a.createElement("title",null,"Sign In \u2022 Chesssup.com")),o.a.createElement(rn,null),o.a.createElement(Qt,null))},Yt=Object(v.f)((function(e){var n=e.history,t=Object(s.c)((function(e){var n=e.sessionAuth;return{form:n.register,auth:n.auth,authError:n.authError}})),r=t.form,i=t.auth,u=t.authError,l=Object(s.b)(),f=Object(c.useState)({username:"",password:"",passwordConfirm:""}),b=Object(Z.a)(f,2),d=b[0],p=b[1],m=Object(c.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;""!==d[t]&&p((function(e){return Object(M.a)({},e,Object(B.a)({},t,""))})),l(Qe({form:"register",key:t,value:r}))}),[l,d]),x=Object(c.useCallback)((function(e){e.preventDefault();var n=r.username,t=r.password,c=Object.keys(r).reduce((function(e,n){return Object(M.a)({},e,Object(B.a)({},n,!1))}),{});Object.keys(c).filter((function(e){return""===r[e]})).forEach((function(e){c=Object(M.a)({},c,Object(B.a)({},e,"Required field"))}));var o,i=ct.a.object().keys({username:ct.a.string().max(80).email({minDomainAtoms:2}).required().error((function(){return{message:"Wrong format"}})),password:ct.a.string().min(4).max(16).required().error((function(){return{message:"4 ~ 16 digits"}})),passwordConfirm:ct.a.any().valid(ct.a.ref("password")).required().error((function(){return{message:"Password mismatch"}}))}),u=ct.a.validate(r,i,{abortEarly:!1});if(u.error&&u.error.details.forEach((function(e){c[e.path[0]]||(c=Object(M.a)({},c,Object(B.a)({},e.path[0],e.message)))})),Object.keys(c).filter((function(e){return c[e]})).length>0)return p((function(e){return Object(M.a)({},c,{count:e.count+1})})),void Object.keys(c).forEach((function(e){c[e]&&l(Ye({form:"register",key:e}))}));l((o={username:n,password:t},function(e,n){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(e(qe(o)));case 3:(t=n.sent)&&ue({auth:t}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.dir("Register failed");case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),l(Xe({form:"register"}))}),[l,r]);return Object(c.useEffect)((function(){if(u){var e={},t=u.response.data;return Object.keys(t).forEach((function(n){e=Object(M.a)({},e,Object(B.a)({},n,t[n]))})),void p(e)}i&&n.push("/")}),[n,i,u]),Object(c.useEffect)((function(){return function(){l(Xe({form:"register"}))}}),[l]),o.a.createElement(Jt,{register:!0,onSubmit:x,onChange:m,form:r,error:d})})),$t=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,o.a.createElement("title",null,"Sign Up \u2022 Chesssup.com")),o.a.createElement(rn,null),o.a.createElement(Yt,null))},er=t(53),nr=t.n(er),tr=[[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}]],rr={pawn:{type:"onetime",move:[{dy:-1,dx:0,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!n[t][r].piece}},{dy:-2,dx:0,except:function(e){var n=e.board,t=e.y,r=e.x,a=e.owner;return!("black"===a&&1!==t||"white"===a&&6!==t)&&(!("black"===a&&n[2][r].piece||"white"===a&&n[5][r].piece)&&!("black"===a&&n[3][r].piece||"white"===a&&n[4][r].piece))}},{dy:-1,dx:-1,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!!n[t][r].piece}},{dy:-1,dx:1,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!!n[t][r].piece}}]},knight:{type:"onetime",move:[{dy:-2,dx:-1},{dy:-2,dx:1},{dy:2,dx:-1},{dy:2,dx:1},{dy:-1,dx:-2},{dy:-1,dx:2},{dy:1,dx:-2},{dy:1,dx:2}]},king:{type:"onetime",move:[{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:1},{dy:0,dx:-1},{dy:-1,dx:1},{dy:-1,dx:-1},{dy:1,dx:-1},{dy:1,dx:1},{dy:0,dx:2,except:function(e){var n=e.board,t=e.y,r=e.x,a="white"===e.owner?"black":"white";if(!n[t][r].piece||n[t][r].dirty)return!1;if(!n[t][r+3].piece||n[t][r+3].dirty)return!1;if(n[t][r+1].piece||n[t][r+2].piece)return!1;for(var c=or(a,n,!0),o=c.length,i=0;i<o;++i){var u=c[i];if(u.dy===t&&(u.dx===r||u.dx===r+1||u.dx===r+2))return!1}return!0}},{dy:0,dx:-2,except:function(e){var n=e.board,t=e.y,r=e.x,a="white"===e.owner?"black":"white";if(!n[t][r].piece||n[t][r].dirty)return!1;if(!n[t][r-4].piece||n[t][r-4].dirty)return!1;if(n[t][r-1].piece||n[t][r-2].piece||n[t][r-3].piece)return!1;for(var c=or(a,n,!0),o=c.length,i=0;i<o;++i){var u=c[i];if(u.dy===t&&(u.dx===r||u.dx===r-1||u.dx===r-2))return!1}return!0}}]},bishop:{type:"multitime",move:[{dy:1,dx:-1},{dy:1,dx:1},{dy:-1,dx:-1},{dy:-1,dx:1}]},rook:{type:"multitime",move:[{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:-1},{dy:0,dx:1}]},queen:{type:"multitime",move:[{dy:1,dx:-1},{dy:1,dx:1},{dy:-1,dx:-1},{dy:-1,dx:1},{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:-1},{dy:0,dx:1}]}},ar=function(e,n,t){var r=nr.a.cloneDeep(e),a=Object(M.a)({},r[n.y][n.x]);r[n.y][n.x]={covered:!1},r[t.y][t.x]=Object(M.a)({},a,{dirty:!0});var c=r[t.y][t.x],o=c.owner,i=c.piece;if(("white"===o&&"pawn"===i&&0===t.y||"black"===o&&"pawn"===i&&7===t.y)&&(r[t.y][t.x]=Object(M.a)({},r[t.y][t.x],{piece:"queen"})),"king"===r[t.y][t.x].piece){if(t.x-n.x===2){var u=Object(M.a)({},r[n.y][n.x+3]);r[n.y][n.x+3]={covered:!1},r[n.y][n.x+1]=Object(M.a)({},u,{dirty:!0})}if(t.x-n.x===-2){var l=Object(M.a)({},r[n.y][n.x-4]);r[n.y][n.x-4]={covered:!1},r[n.y][n.x-1]=Object(M.a)({},l,{dirty:!0})}}return r},cr=function(e){if(0===e.length)return e;var n=new Set;return e.forEach((function(e){return n.add(10*e.dy+e.dx)})),Object(on.a)(n).map((function(e){return{dy:parseInt(e/10),dx:e%10}}))},or=function(e,n,t){for(var r=[],a=0;a<8;++a)for(var c=0;c<8;++c)if(n[a][c].owner===e){var o=ur(n,a,c,t);r=[].concat(Object(on.a)(r),Object(on.a)(o))}return cr(r)},ir=function(e,n){var t="white"===e?"black":"white",r=nr.a.cloneDeep(n),a=function(e,n){for(var t=0;t<8;++t)for(var r=0;r<8;++r)if(n[t][r].owner===e&&"king"===n[t][r].piece)return{y:t,x:r}}(e,r);return or(t,r).forEach((function(e){r[e.dy][e.dx]=Object(M.a)({},r[e.dy][e.dx],{movable:!0})})),!r[a.y][a.x].movable},ur=function(e,n,t,r){var a=e[n][t],c=a.piece,o=a.owner,i={board:e,y:n,x:t,owner:o};if(c){var u=rr[c],l=u.type,s=u.move,f=[];return f="onetime"===l?s.reduce((function(a,u){var l=n+("black"===o?-u.dy:+u.dy),s=t+u.dx;return l<0||s<0||l>7||s>7?a:(i=Object(M.a)({},i,{dy:l,dx:s}),u.except&&("king"===c&&r||!u.except||!u.except(i))||e[l][s].owner&&e[n][t].owner===e[l][s].owner||a.push({dy:l,dx:s}),a)}),[]):s.flatMap((function(r){for(var a=0,c=[];;){++a;var i=n+a*("black"===o?-r.dy:+r.dy),u=t+a*r.dx;if(i<0||u<0||i>7||u>7)break;if(e[i][u].owner&&e[i][u].owner===o)break;if(c.push({dy:i,dx:u}),e[i][u].owner&&e[i][u].owner!==o)break}return c})),cr(f)}},lr=a.a.mark(Lr),sr=a.a.mark(Tr),fr="canvas/CONNECT_WEBSOCKET",br="canvas/DISCONNECT_WEBSOCKET",dr=Object(W.a)(fr,(function(e){return e})),pr=Object(W.a)(br),mr=Object(W.a)("canvas/INITIALIZE_SOCKET",(function(e){return e})),xr=Object(W.a)("canvas/INITIALIZE_VALUE",(function(e){return e})),vr=Object(W.a)("canvas/CHANGE_VALUE",(function(e){return e})),hr=Object(W.a)("canvas/CLEAR_VALUE"),gr=Object(W.a)("canvas/INITIALIZE_BLOCKED",(function(e){return e})),Or=Object(W.a)("canvas/CHANGE_BLOCKED",(function(e){return e})),jr=te("canvas/SET_MOVE_PIECE"),Er=Object(Z.a)(jr,3),yr=Er[0],kr=Er[1],wr=Er[2],Cr=re(yr,(function(e){return oe.a.post("/api/canvas/movePiece",e)})),Ir=function(e,n){var t=function(e){var n=nr.a.cloneDeep(e);return n.reverse(),n.forEach((function(e){e.reverse()})),n}(n);e=Object(on.a)(e);for(var r=function(n){for(var r=function(r){var a=t[n][r],c=e[n][r];Object.keys(a).every((function(t){return!(!c[t]||c[t]!==a[t])||(e[n]=Object(on.a)(e[n]),e[n][r]=Object(M.a)({},a),!1)}))},a=0;a<8;++a)r(a)},a=0;a<8;++a)r(a);return e},Ar=function(e){var n=e.move;return function(e,t){var r=n.prev,a=n.next,c=t(),o=c.canvas,i=o.board,u=o.reverseBoard,l=c.socketAuth.role,s=c.game.turn;e(Or(("white"===l||"spectator"===l)&&s%2===0||"black"===l&&s%2===1?{blocked:!1}:{blocked:!0}));var f=i[r.y][r.x],b=Sr(Object(on.a)(i),["covered","clicked","tracked"]);b[a.y]=Object(on.a)(b[a.y]),b[a.y][a.x]=Object(M.a)({},f,{tracked:!0,dirty:!0}),b[r.y]=Object(on.a)(b[r.y]),b[r.y][r.x]={covered:!1,tracked:!0};var d=b[a.y][a.x],p=d.owner,m=d.piece;if(("white"===p&&"pawn"===m&&0===a.y||"black"===p&&"pawn"===m&&7===a.y)&&(b[a.y][a.x]=Object(M.a)({},b[a.y][a.x],{piece:"queen"})),"king"===b[a.y][a.x].piece){if(a.x-r.x===2){b[r.y]=Object(on.a)(b[r.y]);var x=Object(M.a)({},b[r.y][r.x+3]);b[r.y][r.x+3]={covered:!1},b[r.y][r.x+1]=Object(M.a)({},x,{dirty:!0})}if(a.x-r.x===-2){b[r.y]=Object(on.a)(b[r.y]);var v=Object(M.a)({},b[r.y][r.x-4]);b[r.y][r.x-4]={covered:!1},b[r.y][r.x-1]=Object(M.a)({},v,{dirty:!0})}}var h=Ir(u,b);e(vr({board:b,reverseBoard:h,clicked:null}))}},Sr=function(e,n){for(var t=[],r=e.length,a=function(a){for(var c=function(r){var c=!1;n.forEach((function(n){c|=e[a][r][n]})),c&&t.push({y:a,x:r})},o=0;o<r;++o)c(o)},c=0;c<r;++c)a(c);return t.forEach((function(t){e[t.y]=Object(on.a)(e[t.y]);var r=e[t.y][t.x],a=Object(M.a)({},r);n.forEach((function(e){a[e]=!1})),e[t.y].splice(t.x,1,a)})),e};function Lr(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ee,{url:"/canvas",initializeSocket:mr,initializeValue:xr,changeValue:Ar,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)(br);case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),lr)}function Tr(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(fr,Lr);case 2:case"end":return e.stop()}}),sr)}var Nr=nr.a.cloneDeep(tr);Nr.reverse(),Nr.forEach((function(e){e.reverse()}));var _r={socket:null,error:null,board:tr,reverseBoard:Nr,clicked:null,blocked:!0,reversed:!1},zr=Object(q.a)((St={},Object(B.a)(St,"canvas/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(B.a)(St,"canvas/INITIALIZE_VALUE",(function(e,n){var t=n.payload.board;return Object(M.a)({},e,{board:t,reverseBoard:Ir(e.reverseBoard,t)})})),Object(B.a)(St,"canvas/CHANGE_VALUE",(function(e,n){var t=n.payload,r=t.board,a=t.reverseBoard,c=t.clicked;return Object(M.a)({},e,{board:r,reverseBoard:a,clicked:c})})),Object(B.a)(St,"canvas/CLEAR_VALUE",(function(e){return _r})),Object(B.a)(St,"canvas/INITIALIZE_BLOCKED",(function(e,n){var t=n.payload.blocked;return Object(M.a)({},e,{blocked:t})})),Object(B.a)(St,"canvas/CHANGE_BLOCKED",(function(e,n){var t=n.payload.blocked;return Object(M.a)({},e,{blocked:t})})),Object(B.a)(St,kr,(function(e){return e})),Object(B.a)(St,wr,(function(e){return e})),St),_r),Rr=t(50),Vr={pawn:Rr.d,king:Rr.b,queen:Rr.e,bishop:Rr.a,knight:Rr.c,rook:Rr.f,covered:Rr.g},Ur={white:{color:"white",style:{filter:"drop-shadow(1px 1px 1px white)",width:"80%",height:"80%"}},black:{color:"black",style:{filter:"drop-shadow(1px 1px 1px black)",width:"80%",height:"80%"}},covered0:{style:{filter:"drop-shadow(1px 1px 1px black)",width:"30%",height:"30%",color:"rgb(130, 151, 105)"}},covered1:{style:{filter:"drop-shadow(1px 1px 1px black)",width:"30%",height:"30%",color:"rgb(100, 111, 64)"}}};function Dr(){var e=Object(x.a)(["\n        pointer-events: none;\n    "]);return Dr=function(){return e},e}function Fr(){var e=Object(x.a)(["\n    ","\n"]);return Fr=function(){return e},e}function Pr(){var e=Object(x.a)(["\n            background-color: rgb(132, 121, 78);\n        "]);return Pr=function(){return e},e}function Kr(){var e=Object(x.a)(["\n            background-color: rgb(174, 177, 135);\n        "]);return Kr=function(){return e},e}function Br(){var e=Object(x.a)(["\n        background-color: rgb(170, 162, 58);\n    "]);return Br=function(){return e},e}function Mr(){var e=Object(x.a)(["\n        background-color: rgb(205, 210, 106);\n    "]);return Mr=function(){return e},e}function Gr(){var e=Object(x.a)(["\n        background-color: rgb(100, 111, 64);\n    "]);return Gr=function(){return e},e}function Zr(){var e=Object(x.a)(["\n        background-color: rgb(130, 151, 105);\n    "]);return Zr=function(){return e},e}function Wr(){var e=Object(x.a)(["\n        background-color: rgb(181, 136, 99);\n    "]);return Wr=function(){return e},e}function qr(){var e=Object(x.a)(["\n        background-color: rgb(240, 217, 181);\n    "]);return qr=function(){return e},e}function Hr(){var e=Object(x.a)(["\n    display: flex;\n    cursor: pointer;\n    justify-content: center;\n    align-items: center;\n    /* width: 90px;\n    height: 90px; */\n    \n    width: ",";\n\n    height: ",";\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    &:hover {\n        ","\n\n        ","  \n    }\n"]);return Hr=function(){return e},e}function Jr(){var e=Object(x.a)(["\n    display: flex;\n"]);return Jr=function(){return e},e}function Qr(){var e=Object(x.a)(["\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Qr=function(){return e},e}var Xr=function(e){var n=e.piece,t=e.owner,r=e.covered,a=e.cellNum,c=null;if(r){var i=Vr.covered;c=o.a.createElement(ut.b.Provider,{value:Ur["covered".concat(a)]},o.a.createElement(i,null))}if(!n||!t)return c;var u=Vr[n],l=c?{opacity:.5,filter:"black"===t?"drop-shadow(1px 1px 1px white)":"drop-shadow(1px 1px 1px black)"}:null,s=Object(M.a)({},Ur[t],{style:Object(M.a)({},Ur[t].style,{},l)});return o.a.createElement(ut.b.Provider,{value:s},o.a.createElement(u,null))},Yr=h.b.div(Qr()),$r=h.b.div(Jr()),ea=h.b.div(Hr(),(function(e){return e.cellSize?e.cellSize:"90px"}),(function(e){return e.cellSize?e.cellSize:"90px"}),(function(e){return 0===e.cellNum&&Object(h.a)(qr())}),(function(e){return 1===e.cellNum&&Object(h.a)(Wr())}),(function(e){return 0===e.cellNum&&e.clicked&&Object(h.a)(Zr())}),(function(e){return 1===e.cellNum&&e.clicked&&Object(h.a)(Gr())}),(function(e){return 0===e.cellNum&&e.tracked&&Object(h.a)(Mr())}),(function(e){return 1===e.cellNum&&e.tracked&&Object(h.a)(Br())}),(function(e){return 0===e.cellNum&&e.covered&&Object(h.a)(Kr())}),(function(e){return 1===e.cellNum&&e.covered&&Object(h.a)(Pr())})),na=o.a.memo((function(e){var n=e.row,t=e.y,r=e.cellSize,a=e.onClickCell,c=e.pieceConverter;return o.a.createElement($r,null,n.map((function(e,n){return o.a.createElement(ta,{key:"cell_".concat(t,"_").concat(n),onClick:a.bind(null,{y:t,x:n}),pieceConverter:c,cellNum:(n+t)%2,cellSize:r,cell:e,y:t,x:n})})))}),(function(e,n){return e.row===n.row})),ta=o.a.memo((function(e){var n=e.cell,t=e.cellSize,r=e.cellNum,a=e.onClick,c=e.pieceConverter;e.y,e.x;return o.a.createElement(ea,Object.assign({onClick:a,cellNum:r,cellSize:t},n),c({piece:n.piece,owner:n.owner,covered:n.covered,cellNum:r}))}),(function(e,n){return e.cell===n.cell})),ra=h.b.div(Fr(),(function(e){return e.blocked&&Object(h.a)(Dr())})),aa=function(e){var n=e.board,t=e.blocked,r=e.cellSize,a=e.onClick,i=Object(c.useCallback)((function(e){var n=e.y,t=e.x;a(n,t)}),[a]);return o.a.createElement(ra,{blocked:t},n.map((function(e,n){return o.a.createElement(na,{key:"row_".concat(n),row:e,y:n,cellSize:r,onClickCell:i,pieceConverter:Xr})})))},ca=o.a.memo((function(e){var n=e.onContextMenu,t=Object(G.a)(e,["onContextMenu"]);return o.a.createElement(Yr,{onContextMenu:n},o.a.createElement(aa,t))})),oa=function(e){var n=e.cellSize,t=Object(s.c)((function(e){var n=e.canvas,t=e.socketAuth,r=e.game,a=e.record;return{board:n.board,reverseBoard:n.reverseBoard,reversed:a.reversed,blocked:n.blocked,turn:r.turn,role:t.role}})),r=t.board,a=t.reverseBoard,i=t.reversed,u=t.blocked,l=t.turn,f=t.role,b=Object(s.b)();Object(c.useEffect)((function(){b(gr("white"===f&&l%2===0||"black"===f&&l%2===1?{blocked:!1}:{blocked:!0}))}),[b,l,f]),Object(c.useEffect)((function(){return function(){b(hr())}}),[b]);var d=Object(c.useCallback)((function(e,n){b(function(e){var n=e.y,t=e.x;return function(e,r){var a=r(),c=a.canvas,o=c.board,i=c.reverseBoard,u=c.clicked,l=a.record.reversed,s=a.socketAuth.role,f=!1;("white"===s&&l||"black"===s&&!l)&&(f=!0);var b=n,d=t;if(f&&(b=7-n,d=7-t),(u||o[b][d].owner===s)&&(!u||o[b][d].covered||o[b][d].owner===s))if(u&&o[b][d].covered){var p=r().canvas.socket;e(Cr({socket:p,move:{prev:u,next:{y:b,x:d}}}))}else{var m=ur(o,b,d),x=Sr(Object(on.a)(o),["covered","clicked"]);m.forEach((function(e){var n=ar(x,{y:b,x:d},{y:e.dy,x:e.dx});if(ir(o[b][d].owner,n)){x[e.dy]=Object(on.a)(x[e.dy]);var t=x[e.dy][e.dx];x[e.dy].splice(e.dx,1,Object(M.a)({},t,{covered:!0}))}})),x[b]=Object(on.a)(x[b]),x[b][d]=Object(M.a)({},x[b][d],{clicked:!0});var v=Ir(i,x);e(vr({board:x,reverseBoard:v,clicked:{y:b,x:d}}))}}}({y:e,x:n}))}),[b]),p=Object(c.useCallback)((function(e){e.preventDefault(),b((function(e,n){var t=n().canvas,r=t.board,a=t.reverseBoard,c=Sr(Object(on.a)(r),["covered","clicked"]),o=Ir(a,c);e(vr({board:c,reverseBoard:o,clicked:null}))}))}),[b]),m=!1;(("white"===f||"spectator"===f)&&i||"black"===f&&!i)&&(m=!0);var x=r;return m&&(x=a),o.a.createElement(ca,{board:x,blocked:u,onClick:d,onContextMenu:p,cellSize:n})};function ia(){var e=Object(x.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    /* pointer-events: none; */\n"]);return ia=function(){return e},e}function ua(){var e=Object(x.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: 0.5s;\n    opacity: 0;\n\n    &:hover {\n        opacity: 1;\n    }\n"]);return ua=function(){return e},e}var la=h.b.div(ua()),sa=h.b.div(ia()),fa=o.a.memo((function(e){var n=e.cellSize;return o.a.createElement(la,null,o.a.createElement(sa,null,o.a.createElement(oa,{cellSize:n})))})),ba=function(e){var n=e.gameKey,t=e.cellSize,r=Object(s.b)();Object(c.useEffect)((function(){return function(){r(pr())}}),[r]);var i=cn((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return r(pr()),e.next=3,a.a.awrap(Promise.resolve().then((function(){r(dr({gameKey:n}))})));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}))}),[r]),u=Object(Z.a)(i,1)[0],l=u.loading,f=u.data,b=u.error;return l?null:b?null:f?o.a.createElement(fa,{cellSize:t}):null};function da(){var e=Object(x.a)(["\n    \n"]);return da=function(){return e},e}function pa(){var e=Object(x.a)(["\n    \n"]);return pa=function(){return e},e}function ma(){var e=Object(x.a)(["\n    z-index: 1;\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 216px;\n    height: 216px;\n    background-color: rgb(255,255,255, 0.6);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    cursor: pointer;\n    transition: 0.5s;\n\n    &:hover {\n        background-color: rgb(255,255,255, 0.1);\n    }\n\n    &:first-child {\n        margin-left: 18px;\n    }\n\n    & + & {\n        margin-left: 18px;\n    }\n"]);return ma=function(){return e},e}var xa=h.b.div(ma()),va=h.b.div(pa()),ha=h.b.div(da()),ga=o.a.memo((function(e){var n=e.game,t=e.canvas,r=e.onClick,a=e.onMouseEnter,c=e.onMouseLeave,i=Object(G.a)(e,["game","canvas","onClick","onMouseEnter","onMouseLeave"]);return console.dir("game~"),o.a.createElement(xa,Object.assign({onClick:function(){return r(n.key)},onMouseEnter:a,onMouseLeave:c},i),o.a.createElement(va,null,n.name),o.a.createElement(ha,null,n.participant),t?o.a.createElement(ba,{gameKey:n.key,cellSize:"27px"}):null)})),Oa=Object(v.f)((function(e){var n=e.history,t=Object(G.a)(e,["history"]),r=Object(c.useState)(!1),a=Object(Z.a)(r,2),i=a[0],u=a[1],l=Object(c.useCallback)((function(){u(!0)}),[]),s=Object(c.useCallback)((function(){u(!1)}),[]),f=Object(c.useCallback)((function(e){n.push("/game/".concat(e))}),[n]);return o.a.createElement(ga,Object.assign({},t,{canvas:i,onClick:f,onMouseEnter:l,onMouseLeave:s}))}));function ja(){var e=Object(x.a)(["\n    width: 720px;\n    height: 720px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    overflow-y: overlay;\n    padding-right: 20px;\n"]);return ja=function(){return e},e}function Ea(){var e=Object(x.a)(["\n    width: 720px;\n    height: 720px;\n    overflow: hidden;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Ea=function(){return e},e}function ya(){var e=Object(x.a)(["\n    position: relative;\n    background-color: rgba(255, 255, 255, 0.5);\n"]);return ya=function(){return e},e}function ka(){var e=Object(x.a)(["\n    display: flex;\n    width: 100%;\n\n    &:first-child {\n        margin-top: 18px;\n    }\n\n    &:last-child {\n        margin-bottom: 18px;\n    }\n\n    & + & {\n        margin-top: 18px;\n    }\n"]);return ka=function(){return e},e}var wa=h.b.div(ka()),Ca=h.b.div(ya()),Ia=h.b.div(Ea()),Aa=h.b.div(ja()),Sa=o.a.memo((function(e){var n=e.games,t=e.onGameClick;if(!n)return o.a.createElement(Aa,null);for(var r=Object(on.a)(n),a=[],c=Math.floor(r.length/3),i=0;i<=c;++i)a.push(o.a.createElement(wa,{key:"GridRowBlock_".concat(i)},r.splice(0,3).map((function(e){return o.a.createElement(Oa,{key:"GridBox".concat(e.name),game:e,onClick:function(n){return t(n,e.key)}})}))));return o.a.createElement(Ca,null,o.a.createElement(Ia,null,o.a.createElement(Aa,null,a)),o.a.createElement(ut.b.Provider,{value:{style:{position:"absolute",top:"0",left:"0",width:"720px",height:"720px",opacity:"0.2",zIndex:-1}}},o.a.createElement(it.a,null)))})),La=function(){var e=Object(s.c)((function(e){return{games:e.games.games}})).games;return o.a.createElement(Sa,{games:e})},Ta=o.a.memo((function(){return o.a.createElement(o.a.Fragment,null)})),Na=function(){return o.a.createElement(Ta,null)},_a=function(e){var n=Object(c.useState)(e),t=Object(Z.a)(n,2),r=t[0],a=t[1],o=Object(c.useRef)(null),i=Object(c.useCallback)((function(e){o.current&&!o.current.contains(e.target)&&a(!1)}),[]);return Object(c.useEffect)((function(){return document.addEventListener("click",i),function(){document.removeEventListener("click",i)}}),[i]),{ref:o,componentState:r,setComponentState:a}};function za(){var e=Object(x.a)(["\n    width: 100%;\n    box-sizing: border-box;\n    height: 30px;\n    padding-left: 10px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    font-size: 13px;\n\n    &:hover {\n        background-color: rgba(0,0,0,0.1);\n    }\n"]);return za=function(){return e},e}function Ra(){var e=Object(x.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    margin-top: 40px;\n    z-index: 10;\n    background-color: white;\n    display: flex;\n    flex-direction: column;\n    width: 130px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Ra=function(){return e},e}function Va(){var e=Object(x.a)(["\n    width: 130px;\n    height: 30px;\n    box-sizing: border-box;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding-left: 10px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    font-size: 13px;\n    \n    cursor: pointer;\n    &:active {\n        background-color: rgba(0,0,0,0.1);\n    }\n"]);return Va=function(){return e},e}function Ua(){var e=Object(x.a)(["\n    position: absolute;\n    top: -10px;\n    left: 70%;\n    width: 30%;\n    display: flex;\n    justify-content: flex-end;\n    font-weight: 500;\n    font-size: 12px;\n    color: rgba(0,0,0,0.3);\n"]);return Ua=function(){return e},e}function Da(){var e=Object(x.a)(["\n    position: relative;\n"]);return Da=function(){return e},e}var Fa,Pa=h.b.div(Da()),Ka=h.b.div(Ua()),Ba=h.b.div(Va()),Ma=h.b.div(Ra()),Ga=h.b.div(za()),Za=o.a.memo((function(e){var n=e.kind,t=e.name,r=e.list,a=e.reference,c=e.componentState,i=e.onClickSelection,u=e.onClickOption;return o.a.createElement(Pa,null,o.a.createElement(Ka,null,n),o.a.createElement(Ba,{ref:a,onClick:i},t),c&&o.a.createElement(Ma,null,r.map((function(e){return o.a.createElement(Ga,{key:e,onClick:function(){return u(e)}},e)}))))})),Wa=Object(W.a)("create/CHANGE_FIELD",(function(e){return e})),qa=Object(W.a)("create/CLEAR_FIELD",(function(e){return e})),Ha={map:"Classical",mapList:["Classical","Crazy House","Racing Kings"],mode:"Normal",modeList:["Normal","Rank"],defaultTime:15,extraTime:30,config:{defaultTime:{min:1,max:30,step:1},extraTime:{min:0,max:60,step:5}},piece:"white"},Ja=Object(q.a)((Fa={},Object(B.a)(Fa,"create/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(M.a)({},e,Object(B.a)({},r,a))})),Object(B.a)(Fa,"create/CLEAR_FIELD",(function(e){return Ha})),Fa),Ha),Qa=function(e){var n=e.kind,t=Object(s.c)((function(e){var t=e.create;return{name:t[n],list:t["".concat(n,"List")]}})),r=t.name,a=t.list,i=Object(s.b)(),u=_a(!1),l=u.ref,f=u.componentState,b=u.setComponentState,d=Object(c.useCallback)((function(){b((function(e){return!e}))}),[b]),p=Object(c.useCallback)((function(e){i(Wa({key:n,value:e}))}),[i,n]);return o.a.createElement(Za,{kind:n,name:r,list:a,reference:l,componentState:f,onClickSelection:d,onClickOption:p})};function Xa(){var e=Object(x.a)(["\n    display: flex;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    font-size: 15px;\n    width: 60px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Xa=function(){return e},e}function Ya(){var e=Object(x.a)(["\n    position: absolute;\n    top: -10px;\n    left: 70%;\n    width: 30%;\n    display: flex;\n    justify-content: flex-end;\n    font-weight: 500;\n    font-size: 12px;\n    color: rgba(0,0,0,0.3);\n"]);return Ya=function(){return e},e}function $a(){var e=Object(x.a)(["\n    -webkit-appearance: none;\n    width: 150px;\n    height: 30px;\n    cursor: pointer;\n    background: ",";\n    background-size: 140px 5px;\n    background-position: center;\n    background-repeat: no-repeat;\n    overflow: hidden;\n    outline: none;\n    /* zoom: 100%; */\n    display: block;\n\n    &::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        width: 10px;\n        height: 10px;\n        box-shadow: 0 2px 2px 0 rgba(0,0,0,0.36), 0 3px 1px -2px rgba(0,0,0,0.6), 0 1px 5px 0 rgba(0,0,0,0.36);\n        position: relative;\n        background-color: rgba(255,255,255, 0.8);\n        z-index: 3;\n    };\n"]);return $a=function(){return e},e}function ec(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 200px;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return ec=function(){return e},e}function nc(){var e=Object(x.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    & + & {\n        margin-top: 15px;\n    }\n"]);return nc=function(){return e},e}var tc=h.b.div(nc()),rc=h.b.div(ec()),ac=h.b.input($a(),(function(e){return e.kind,"linear-gradient(to right, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.6) 100%)"})),cc=h.b.div(Ya()),oc=h.b.div(Xa()),ic=o.a.memo((function(e){var n=e.onChange,t=e.kind,r=e.value,a=e.config,c=t.substring(0,t.length-4);return o.a.createElement(tc,null,o.a.createElement(rc,null,o.a.createElement(ac,Object.assign({type:"range",onChange:n},a,{kind:t,value:r}))),o.a.createElement(oc,null,o.a.createElement(cc,null,c),r))})),uc=function(e){var n=e.kind,t=Object(s.c)((function(e){var t=e.create;return{value:t[n],config:t.config[n]}})),r=t.value,a=t.config,i=Object(s.b)(),u=Object(c.useCallback)((function(e){i(Wa({key:n,value:e.target.value}))}),[i,n]);return o.a.createElement(ic,{onChange:u,kind:n,value:r,config:a})};function lc(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n\n    background-color: ",";\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.1);\n    }\n"]);return lc=function(){return e},e}var sc=h.b.div(lc(),(function(e){return e.checked&&"rgba(0,0,0,0.1)"})),fc=o.a.memo((function(e){var n=e.checked,t=e.kind,r=e.onClick,a={style:{color:t,filter:"drop-shadow(1px 1px 1px ".concat("white"===t?"black":"white",")"),width:"30px",height:"30px"}};return o.a.createElement(sc,{checked:n?1:0,onClick:function(){return r(t)}},o.a.createElement(ut.b.Provider,{value:a},o.a.createElement(it.b,null)))})),bc=function(e){var n=e.white,t=e.black,r=Object(s.c)((function(e){return{piece:e.create.piece}})).piece,a=Object(s.b)(),i=Object(c.useCallback)((function(e){a(Wa({key:"piece",value:e}))}),[a]),u=n?"white":t?"black":null,l=r===u;return o.a.createElement(fc,{kind:u,checked:l,onClick:i})};function dc(){var e=Object(x.a)(["\n    position: absolute;\n    top: -10px;\n    left: 70%;\n    width: 30%;\n    display: flex;\n    justify-content: flex-end;\n    font-weight: 500;\n    font-size: 12px;\n    color: rgba(0,0,0,0.3);\n"]);return dc=function(){return e},e}function pc(){var e=Object(x.a)(["\n    cursor: pointer;\n    position: absolute;\n    border: none;\n    outline: none;\n    margin: 0;\n    padding: 0;\n    font-size: 20px;\n    font-weight: 700;\n    top: 0px;\n    left: 0px;\n    display: flex;\n    justify-content: flex-end;\n    width: 65px;\n    height: 40px;\n    color: rgba(0, 0, 0, 0.3);\n    transition: 0.5s;\n    background-color: transparent;\n\n    @keyframes jump {\n        0%, 100% {\n            top: 0;\n        }\n        50% {\n            top: -3px;\n        }\n    }\n\n    &:hover {\n        animation: jump 0.5s 1;\n        color: rgba(0, 0, 0, 0.6);\n    }\n"]);return pc=function(){return e},e}function mc(){var e=Object(x.a)(["\n    position: relative;\n    width: 65px;\n    height: 40px;\n"]);return mc=function(){return e},e}function xc(){var e=Object(x.a)(["\n    margin-top: 30px;\n    position: relative;\n    display: flex;\n    justify-content: flex-end;\n    width: 100%;\n"]);return xc=function(){return e},e}function vc(){var e=Object(x.a)(["\n    position: relative;\n    height: 60px;\n    margin-top: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return vc=function(){return e},e}function hc(){var e=Object(x.a)(["\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n"]);return hc=function(){return e},e}function gc(){var e=Object(x.a)(["\n    margin-top: 40px;\n    display: flex;\n    justify-content: space-between;\n"]);return gc=function(){return e},e}function Oc(){var e=Object(x.a)(["\n    font-size: 24px;\n    font-weight: 700;\n"]);return Oc=function(){return e},e}function jc(){var e=Object(x.a)(["\n    padding: 30px;\n    box-sizing: border-box;\n    width: 100%;\n    height: 400px;\n    background-color: white;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return jc=function(){return e},e}var Ec,yc=h.b.form(jc()),kc=h.b.div(Oc()),wc=h.b.div(gc()),Cc=h.b.div(hc()),Ic=h.b.div(vc()),Ac=h.b.div(xc()),Sc=h.b.div(mc()),Lc=h.b.button(pc()),Tc=h.b.div(dc()),Nc=o.a.memo((function(e){var n=e.onSubmit;return o.a.createElement(yc,{onSubmit:n},o.a.createElement(kc,null,"New Game"),o.a.createElement(wc,null,o.a.createElement(Qa,{kind:"map"}),o.a.createElement(Qa,{kind:"mode"})),o.a.createElement(Cc,null,o.a.createElement(uc,{kind:"defaultTime"}),o.a.createElement(uc,{kind:"extraTime"})),o.a.createElement(Ic,null,o.a.createElement(Tc,null,"Piece"),o.a.createElement(bc,{white:!0}),o.a.createElement(bc,{black:!0})),o.a.createElement(Ac,null,o.a.createElement(Sc,null,o.a.createElement(Lc,{type:"submit"},"Create"))))})),_c=a.a.mark(Hc),zc=a.a.mark(Jc),Rc="games/CONNECT_WEBSOCKET",Vc="games/DISCONNECT_WEBSOCKET",Uc=Object(W.a)(Rc),Dc=Object(W.a)(Vc),Fc=Object(W.a)("games/INITIALIZE_SOCKET",(function(e){return e})),Pc=Object(W.a)("games/INITIALIZE_VALUE",(function(e){return e})),Kc=Object(W.a)("games/CLEAR_VALUE"),Bc=te("games/CREATE_GAME"),Mc=Object(Z.a)(Bc,3),Gc=Mc[0],Zc=Mc[1],Wc=Mc[2],qc=re(Gc,(function(e){return oe.a.post("/api/games",e)}));function Hc(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Q.e)(ee,{url:"/games",initializeSocket:Fc,initializeValue:Pc});case 2:return e=n.sent,n.next=5,Object(Q.g)(Vc);case 5:return n.next=7,Object(Q.c)(e);case 7:case"end":return n.stop()}}),_c)}function Jc(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(Rc,Hc);case 2:case"end":return e.stop()}}),zc)}var Qc={socket:null,games:null,error:null},Xc=Object(q.a)((Ec={},Object(B.a)(Ec,"games/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(B.a)(Ec,"games/INITIALIZE_VALUE",(function(e,n){var t=n.payload.games;return Object(M.a)({},e,{games:t})})),Object(B.a)(Ec,"games/CLEAR_VALUE",(function(e){return Qc})),Object(B.a)(Ec,Zc,(function(e){return e})),Object(B.a)(Ec,Wc,(function(e,n){var t=n.payload;return Object(M.a)({},e,{error:t})})),Ec),Qc),Yc=Object(v.f)((function(e){var n=e.history,t=Object(s.c)((function(e){var n=e.create;return{map:n.map,mode:n.mode,defaultTime:n.defaultTime,extraTime:n.extraTime,piece:n.piece}})),r=t.map,i=t.mode,u=t.defaultTime,l=t.extraTime,f=t.piece,b=Object(s.b)(),d=Object(c.useCallback)((function(e){e.preventDefault(),function(){var e;a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(b(qc({map:r,mode:i,defaultTime:u,extraTime:l,piece:f})));case 2:e=t.sent,console.dir(f),n.push("/game/".concat(e));case 5:case"end":return t.stop()}}))}()}),[b,n,r,i,u,l,f]);return Object(c.useEffect)((function(){return function(){b(qa())}}),[b]),o.a.createElement(Nc,{onSubmit:d})}));function $c(){var e=Object(x.a)(["\n    ","\n    margin-left: 1%;\n"]);return $c=function(){return e},e}function eo(){var e=Object(x.a)(["\n    ","\n    margin-right: 1%;\n"]);return eo=function(){return e},e}function no(){var e=Object(x.a)(["\n    height: 90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 20%;\n"]);return no=function(){return e},e}function to(){var e=Object(x.a)(["\n    height: 800px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return to=function(){return e},e}var ro,ao=h.b.div(to()),co=Object(h.a)(no()),oo=h.b.div(eo(),co),io=h.b.div($c(),co),uo=o.a.memo((function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ao,null,o.a.createElement(oo,null,o.a.createElement(Na,null)),o.a.createElement(La,null),o.a.createElement(io,null,o.a.createElement(Yc,null))))})),lo=function(){var e=Object(s.b)();Object(c.useEffect)((function(){return function(){e(Kc())}}),[e]);var n=cn((function(){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(e(we()));case 2:return e(Dc()),n.next=5,a.a.awrap(Promise.resolve().then((function(){e(Uc())})));case 5:return n.abrupt("return",!0);case 6:case"end":return n.stop()}}))}),[e]),t=Object(Z.a)(n,1)[0],r=t.loading,i=t.data,u=t.error;return r?null:u?null:i?o.a.createElement(uo,null):null},so=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,o.a.createElement("title",null,"Game \u2022 Chesssup.com")),o.a.createElement(rn,null),o.a.createElement(lo,null))},fo=t(192),bo=t.n(fo),po=a.a.mark(No),mo=a.a.mark(_o),xo="chat/CONNECT_WEBSOCKET",vo="chat/DISCONNECT_WEBSOCKET",ho=Object(W.a)(xo,(function(e){return e})),go=Object(W.a)(vo),Oo=Object(W.a)("chat/INITIALIZE_SOCKET",(function(e){return e})),jo=Object(W.a)("chat/INITIALIZE_VALUE",(function(e){return e})),Eo=Object(W.a)("chat/CHANGE_VALUE",(function(e){return e})),yo=Object(W.a)("chat/CLEAR_VALUE"),ko=Object(W.a)("chat/CHANGE_TEXTFIELD",(function(e){return e})),wo=Object(W.a)("chat/INITIALIZE_TEXTFIELD"),Co=te("chat/SEND_MESSAGE"),Io=Object(Z.a)(Co,3),Ao=Io[0],So=Io[1],Lo=Io[2],To=re(Ao,(function(e){return oe.a.post("/api/chat/sendMessage",e)}));function No(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ee,{url:"/chat",initializeSocket:Oo,initializeValue:jo,changeValue:Eo,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)(vo);case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),po)}function _o(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(xo,No);case 2:case"end":return e.stop()}}),mo)}var zo={socket:null,messages:[],text:""},Ro=Object(q.a)((ro={},Object(B.a)(ro,"chat/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(B.a)(ro,"chat/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=t.nickname,a=t.color,c=t.message;return Object(M.a)({},e,{messages:[{nickname:r,color:a,message:c}]})})),Object(B.a)(ro,"chat/CHANGE_VALUE",(function(e,n){var t=n.payload,r=t.nickname,a=t.color,c=t.message;return Object(M.a)({},e,{messages:[].concat(Object(on.a)(e.messages),[{nickname:r,color:a,message:c}])})})),Object(B.a)(ro,So,(function(e){return e})),Object(B.a)(ro,Lo,(function(e){return e})),Object(B.a)(ro,"chat/INITIALIZE_TEXTFIELD",(function(e){return Object(M.a)({},e,{text:""})})),Object(B.a)(ro,"chat/CHANGE_TEXTFIELD",(function(e,n){var t=n.payload;return Object(M.a)({},e,{text:t})})),Object(B.a)(ro,"chat/CLEAR_VALUE",(function(e){return zo})),ro),zo);function Vo(){var e=Object(x.a)(["\n        background: rgb(247,246,245);\n\n        &:after {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 50%;\n            width: 0;\n            height: 0;\n            border: 8px solid transparent;\n            border-top: 0;\n            margin-top: -5px;\n            border-right-color: rgb(247,246,245);\n            border-left: 0;\n            margin-left: -8px;\n        }\n    "]);return Vo=function(){return e},e}function Uo(){var e=Object(x.a)(["\n    position: relative;\n    background: #ffff80;\n    padding: 5px;\n\n    &:after {\n        content: '';\n        position: absolute;\n        right: 0;\n        top: 50%;\n        width: 0;\n        height: 0;\n        border: 8px solid transparent;\n        border-left-color: #ffff80;\n        border-right: 0;\n        border-top: 0;\n        margin-top: -5px;\n        margin-right: -8px;\n    }\n\n    \n    ","\n"]);return Uo=function(){return e},e}function Do(){var e=Object(x.a)(["\n        justify-content: center;\n    "]);return Do=function(){return e},e}function Fo(){var e=Object(x.a)(["\n        justify-content: flex-start;\n    "]);return Fo=function(){return e},e}function Po(){var e=Object(x.a)(["\n        justify-content: flex-end;\n    "]);return Po=function(){return e},e}function Ko(){var e=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    width: 90%;\n    height : 36px;\n    min-height : 36px;\n    font-size : 12px;\n    background-color: white;\n\n    ",";\n\n    ",";\n\n    ",";\n"]);return Ko=function(){return e},e}function Bo(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 20%;\n    font-size: 12px;\n    background-color: rgb(247,246,245);\n    border: none;\n    cursor: pointer;\n\n    &:hover, &:focus {\n        background-color: #D3D3D3;\n    } \n"]);return Bo=function(){return e},e}function Mo(){var e=Object(x.a)(["\n    outline: none;\n    border: none;\n    align-items : center;\n    color: black;\n    background-color: transparent;\n    font-size: 12px;\n    width: 80%;\n    height : 30px;\n    padding-left: 10px;\n"]);return Mo=function(){return e},e}function Go(){var e=Object(x.a)(["\n    position: absolute;\n    width: 100%;\n    display: flex;\n    background-color: white;\n    top: 365px;\n    /* box-shadow: rgba(0,0,0,0.05) 0px -2px 2px 0px, rgba(0,0,0,0.08) 0px -3px 1px -2px, rgba(0,0,0,0.04) 0px -1px 5px 0px; */\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;\n"]);return Go=function(){return e},e}function Zo(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 360px;\n    width: 100%;\n    padding-right: 20px;\n    overflow-y: overlay;\n"]);return Zo=function(){return e},e}function Wo(){var e=Object(x.a)(["\n    height: 360px;\n    width: 100%;\n    overflow: hidden;\n"]);return Wo=function(){return e},e}function qo(){var e=Object(x.a)(["\n    position: relative;\n    background-color: white;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return qo=function(){return e},e}function Ho(){var e=Object(x.a)(["\n    width: 100%;\n"]);return Ho=function(){return e},e}var Jo=h.b.form(Ho()),Qo=h.b.div(qo()),Xo=h.b.div(Wo()),Yo=h.b.div(Zo()),$o=h.b.div(Go()),ei=h.b.input(Mo()),ni=h.b.button(Bo()),ti=h.b.div(Ko(),(function(e){return"my"===e.owner&&Object(h.a)(Po())}),(function(e){return"other"===e.owner&&Object(h.a)(Fo())}),(function(e){return"server"===e.owner&&Object(h.a)(Do())})),ri=h.b.div(Uo(),(function(e){return"other"===e.owner&&Object(h.a)(Vo())})),ai=function(e){var n,t=e.owner,r=e.children;return"my"===t?n=o.a.createElement(ri,{owner:t},r):"other"===t?n=o.a.createElement(ri,{owner:t},r):"server"===t&&(n=o.a.createElement(o.a.Fragment,null,r)),o.a.createElement(o.a.Fragment,null,n)},ci=o.a.memo((function(e){var n=e.message,t=e.myName,r=Object(G.a)(e,["message","myName"]),a=n.nickname?n.nickname===t?"my":"other":"server",c="other"===a?n.nickname+" : "+n.message:n.message;return o.a.createElement(ti,Object.assign({},r,{color:n.color,owner:a}),o.a.createElement(ai,{owner:a},c))})),oi=o.a.memo((function(e){var n=e.messages,t=e.onSubmit,r=e.onChange,a=e.text,i=e.nickname,u=Object(c.useRef)();return Object(c.useEffect)((function(){u.current.scrollTop=u.current.scrollHeight}),[n]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Jo,{onSubmit:t},o.a.createElement(Qo,null,o.a.createElement(Xo,null,o.a.createElement(Yo,{ref:u},n.map((function(e,n){return o.a.createElement(ci,{key:n,myName:i,message:e})})))),o.a.createElement($o,null,o.a.createElement(ei,{onChange:r,value:a}),o.a.createElement(ni,{onSubmit:t},o.a.createElement(ut.b.Provider,{value:{style:{width:"40%",height:"40%"}}},o.a.createElement(ot.b,null)))))))})),ii=function(){var e=Object(s.b)(),n=Object(s.c)((function(e){var n=e.chat,t=e.socketAuth;return{socket:n.socket,messages:n.messages,text:n.text,nickname:t.nickname}})),t=n.socket,r=n.messages,a=n.text,i=n.nickname,u=Object(c.useCallback)((function(n){n.preventDefault(),e(To({socket:t,message:a})),e(wo())}),[e,a,t]),l=Object(c.useCallback)((function(n){e(ko(n.target.value))}),[e]);return Object(c.useEffect)((function(){return function(){e(yo())}}),[e]),o.a.createElement(oi,{messages:r,onSubmit:u,onChange:l,text:a,nickname:i})};function ui(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    height: 100%;\n    width: 6%;\n    color: black;\n    opacity: 0.5;\n    font-size: 50px;\n"]);return ui=function(){return e},e}function li(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 47%;\n    color: black;\n    font-size: 50px;\n"]);return li=function(){return e},e}function si(){var e=Object(x.a)(["\n        background-color: rgb(230, 153, 153);\n    "]);return si=function(){return e},e}function fi(){var e=Object(x.a)(["\n        background-color: rgb(208, 224, 189);\n    "]);return fi=function(){return e},e}function bi(){var e=Object(x.a)(["\n    width: 50%;\n    height: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    background-color: white;\n    ","\n    ","\n"]);return bi=function(){return e},e}var di=h.b.div(bi(),(function(e){return e.color&&Object(h.a)(fi())}),(function(e){return e.time<=1e4&&Object(h.a)(si())})),pi=h.b.div(li()),mi=h.b.div(ui()),xi=function(e){var n="";return n+=String(Math.floor(e/10)),n+=String(Math.floor(e%10))},vi=function(e){var n=e.time,t=e.color,r=Math.floor(n/6e4),a=Math.floor(n%6e4/1e3);return void 0==n||null===n?o.a.createElement(di,null):o.a.createElement(di,{time:n,color:t?1:0},o.a.createElement(pi,null,xi(r)),o.a.createElement(mi,null,":"),o.a.createElement(pi,null,xi(a)))},hi=function(e){var n=e.white,t=Object(s.c)((function(e){var n=e.record,t=e.game;return{whiteTime:n.whiteTime,blackTime:n.blackTime,start:t.start,order:t.order}})),r=t.whiteTime,a=t.blackTime,c=t.start,i=t.order,u=n?r:a,l=n?c&&"white"===i:c&&"black"===i;return o.a.createElement(vi,{time:u,color:l})};function gi(){var e=Object(x.a)(["\n    font-size: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return gi=function(){return e},e}function Oi(){var e=Object(x.a)(["\n        margin-top: 30px;\n    "]);return Oi=function(){return e},e}function ji(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 30px;\n    background-color: white;\n\n    ","\n"]);return ji=function(){return e},e}var Ei=h.b.div(ji(),(function(e){return e.beneath&&Object(h.a)(Oi())})),yi=h.b.div(gi()),ki=o.a.memo((function(e){var n=e.light,t=e.name,r=e.beneath,a={style:{height:"15px",width:"10%",color:"green",display:"flex",justifyContent:"center",alignItems:"center"}};return o.a.createElement(Ei,{beneath:r?1:0},n?o.a.createElement(ut.b.Provider,{value:a},o.a.createElement(it.c,null)):o.a.createElement(ut.b.Provider,{value:{style:Object(M.a)({},a.style,{color:"black"})}},o.a.createElement(it.j,null)),o.a.createElement(yi,null,t))})),wi=function(e){var n=e.black,t=e.white,r=e.beneath,a=Object(s.c)((function(e){var n=e.game;return{blackNick:n.black,whiteNick:n.white,participant:n.participant}})),c=a.blackNick,i=a.whiteNick,u=a.participant,l=new Set(u),f=t&&l.has(i)||n&&l.has(c),b=t&&i||n&&c;return o.a.createElement(ki,{light:f,name:b,beneath:r})};function Ci(){var e=Object(x.a)(["\n    width: 20%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    background-color: rgb(247, 246, 245);\n"]);return Ci=function(){return e},e}function Ii(){var e=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 20%;\n    font-size: 18px;\n"]);return Ii=function(){return e},e}function Ai(){var e=Object(x.a)(["\n    width: 80%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &:hover {\n        background-color: rgb(209, 228, 246);\n    }\n"]);return Ai=function(){return e},e}function Si(){var e=Object(x.a)(["\n    width: 100%;\n    height: 30px;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    &:first-child {\n        margin-top: 30px;\n    }\n"]);return Si=function(){return e},e}function Li(){var e=Object(x.a)(["\n    height: 270px;\n    width: 100%;\n    overflow-y: overlay;\n    padding-right: 20px;\n"]);return Li=function(){return e},e}function Ti(){var e=Object(x.a)(["\n    height: 270px;\n    width: 100%;\n    overflow: hidden;\n"]);return Ti=function(){return e},e}var Ni=h.b.div(Ti()),_i=h.b.div(Li()),zi=h.b.div(Si()),Ri=function(e){var n=e.x,t=e.y;return String.fromCharCode(97+n)+(8-t)},Vi=h.b.div(Ai()),Ui=h.b.div(Ii()),Di=h.b.div(Ci()),Fi=o.a.memo((function(e){var n=e.move,t=e.index,r=e.onClickBlock;console.dir("PieceMove"),console.dir(n);var a,c,i=Vr[n.prevPiece.piece],u={color:n.prevPiece.owner,style:{width:"10%",filter:"drop-shadow(1px 1px 1px ".concat("white"===n.prevPiece.owner?"black":"white",")")}},l=o.a.createElement(ut.b.Provider,{value:u},o.a.createElement(i,null)),s=o.a.createElement("div",{style:{width:"10%"}});return n.nextPiece.piece&&(a=Vr[n.nextPiece.piece],c={color:n.nextPiece.owner,style:{width:"10%",filter:"drop-shadow(1px 1px 1px ".concat("white"===n.nextPiece.owner?"black":"white",")")}},s=o.a.createElement(ut.b.Provider,{value:c},o.a.createElement(a,null))),o.a.createElement(zi,null,o.a.createElement(Di,null,t+1),o.a.createElement(Vi,{onClick:r},l,o.a.createElement(Ui,null,Ri(n.prev)),o.a.createElement(ut.b.Provider,{value:{style:{color:"rgb(169,169,169)"}}},o.a.createElement(ot.a,null)),o.a.createElement(Ui,null,Ri(n.next)),s))})),Pi=o.a.memo((function(e){var n=e.pieceMove,t=e.onClickBlock,r=Object(c.useRef)();return Object(c.useEffect)((function(){r.current.scrollTop=r.current.scrollHeight}),[n]),o.a.createElement(Ni,null,o.a.createElement(_i,{ref:r},n.map((function(e,n){return o.a.createElement(Fi,{onClick:t,move:e,index:n})}))))})),Ki=function(){var e=Object(s.c)((function(e){return{pieceMove:e.record.pieceMove}})).pieceMove,n=Object(c.useCallback)((function(){}),[]);return o.a.createElement(Pi,{onClickBlock:n,pieceMove:e})};function Bi(){var e=Object(x.a)(["\n        background-color: red;\n    "]);return Bi=function(){return e},e}function Mi(){var e=Object(x.a)(["\n    position: absolute;\n    height: 2px;\n    background-color: green;\n    transition-duration: 1s;\n    transition-timing-function: linear;\n\n    width: ",";\n    ","\n"]);return Mi=function(){return e},e}var Gi=h.b.div(Mi(),(function(e){return 100*e.time+"%"}),(function(e){return e.time<=.1&&Object(h.a)(Bi())})),Zi=o.a.memo((function(e){var n=e.time;return o.a.createElement(Gi,{time:n})})),Wi=function(e){var n=e.white,t=e.black,r=Object(s.c)((function(e){var n=e.record,t=e.game;return{whiteRatio:n.whiteRatio,blackRatio:n.blackRatio,whiteNick:t.white,blackNick:t.black,participant:t.participant}})),a=r.whiteRatio,i=r.blackRatio,u=r.whiteNick,l=r.blackNick,f=r.participant,b=Object(c.useState)(0),d=Object(Z.a)(b,2),p=d[0],m=d[1];return Object(c.useEffect)((function(){var e=new Set(f);if(n&&e.has(u)||t&&e.has(l)){var r=n?a:i;r=Math.min(r,1),m(r)}else m(0)}),[n,t,u,l,a,i,f]),o.a.createElement(Zi,{time:p})};function qi(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 25%;\n    height: 100%;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #D3D3D3;\n    }\n"]);return qi=function(){return e},e}function Hi(){var e=Object(x.a)(["\n    position: absolute;\n    top: 300px;\n    display: flex;\n    width: 100%;\n    height: 30px;\n    background-color: rgb(247, 246, 245);\n    z-index: 10;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px -2px 2px 0px, rgba(0, 0, 0, 0.2) 0px -3px 1px -2px, rgba(0, 0, 0, 0.12) 0px -1px 5px 0px;\n"]);return Hi=function(){return e},e}var Ji,Qi=h.b.div(Hi()),Xi=h.b.div(qi()),Yi={style:{color:"#4d4d4d",width:"50%",height:"50%",backgroundColor:"transparent"}},$i=o.a.memo((function(){return o.a.createElement(Qi,null,o.a.createElement(Xi,null,o.a.createElement(ut.b.Provider,{value:Yi},o.a.createElement(it.e,null))),o.a.createElement(Xi,null,o.a.createElement(ut.b.Provider,{value:Yi},o.a.createElement(it.k,null))),o.a.createElement(Xi,null,o.a.createElement(ut.b.Provider,{value:Yi},o.a.createElement(it.l,null))),o.a.createElement(Xi,null,o.a.createElement(ut.b.Provider,{value:Yi},o.a.createElement(it.f,null))))})),eu=function(){return o.a.createElement($i,null)},nu=a.a.mark(Lu),tu=a.a.mark(Tu),ru="record/CONNECT_WEBSOCKET",au="record/DISCONNECT_WEBSOCKET",cu=Object(W.a)(ru),ou=Object(W.a)(au),iu=Object(W.a)("record/INITIALIZE_SOCKET",(function(e){return e})),uu=Object(W.a)("record/INITIALIZE_VALUE",(function(e){return e})),lu=Object(W.a)("record/CHANGE_VALUE",(function(e){return e})),su=Object(W.a)("record/UPDATE_VALUE",(function(e){return e})),fu=Object(W.a)("record/CLEAR_VALUE"),bu=Object(W.a)("record/CHANGE_REVERSE",(function(e){return e})),du=Object(W.a)("record/CLEAR_TOOLTIP",(function(e){return e})),pu=Object(W.a)("record/SET_REQUEST_ROLE",(function(e){return e})),mu=Object(W.a)("record/SET_REQUEST_MESSAGE",(function(e){return e})),xu=te("record/ASKING"),vu=Object(Z.a)(xu,3),hu=vu[0],gu=vu[1],Ou=vu[2],ju=te("record/ANSWERING"),Eu=Object(Z.a)(ju,3),yu=Eu[0],ku=Eu[1],wu=Eu[2],Cu=re(hu,(function(e){return oe.a.post("/api/record/asking",e)})),Iu=re(yu,(function(e){return oe.a.post("/api/record/answering",e)})),Au=function(e){var n=e.ask,t=e.answer,r=e.message;return function(e,a){if(n){var c=a().record[n];c.role||c.message||e(pu({type:n,role:"answer"}))}else if(t){var o=a().record[t];o.role&&"ask"===o.role&&e(mu({type:t,message:r}))}}},Su=function(e){return function(n,t){var r=t().record,a=Object(M.a)({},r);Object.keys(e).forEach((function(n){"object"===typeof e[n]&&(a=Object(M.a)({},a,Object(B.a)({},n,[].concat(Object(on.a)(a[n]),[e[n]]))))})),n(su({record:a}))}};function Lu(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ee,{url:"/record",initializeSocket:iu,initializeValue:uu,changeValue:lu,updateValue:Su,notifyRequest:Au,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)(au);case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),nu)}function Tu(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(ru,Lu);case 2:case"end":return e.stop()}}),tu)}var Nu={socket:null,error:null,startTime:null,endTime:null,blackTime:null,whiteTime:null,blackMaxTime:null,whiteMaxTime:null,whiteRatio:0,blackRatio:0,pieceMove:[],reversed:!1,undo:{message:null,role:null},draw:{message:null,role:null},surrender:{message:null,role:null}},_u=Object(q.a)((Ji={},Object(B.a)(Ji,"record/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(B.a)(Ji,"record/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(M.a)({},e,{},r)})),Object(B.a)(Ji,"record/CHANGE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(M.a)({},e,{},r)})),Object(B.a)(Ji,"record/UPDATE_VALUE",(function(e,n){var t=n.payload.record;return Object(M.a)({},t)})),Object(B.a)(Ji,"record/CLEAR_VALUE",(function(e){return Nu})),Object(B.a)(Ji,"record/CHANGE_REVERSE",(function(e,n){var t=n.payload.reversed;return Object(M.a)({},e,{reversed:t})})),Object(B.a)(Ji,hu,(function(e){return e})),Object(B.a)(Ji,gu,(function(e){return e})),Object(B.a)(Ji,Ou,(function(e){return e})),Object(B.a)(Ji,yu,(function(e){return e})),Object(B.a)(Ji,ku,(function(e){return e})),Object(B.a)(Ji,wu,(function(e){return e})),Object(B.a)(Ji,"record/CLEAR_TOOLTIP",(function(e,n){var t=n.payload.type;return Object(M.a)({},e,Object(B.a)({},t,Nu[t]))})),Object(B.a)(Ji,"record/SET_REQUEST_ROLE",(function(e,n){var t=n.payload,r=t.type,a=t.role;return Object(M.a)({},e,Object(B.a)({},r,Object(M.a)({},e[r],{role:a})))})),Object(B.a)(Ji,"record/SET_REQUEST_MESSAGE",(function(e,n){var t=n.payload,r=t.type,a=t.message;return Object(M.a)({},e,Object(B.a)({},r,Object(M.a)({},e[r],{message:a})))})),Ji),Nu),zu=t(194),Ru=t(193),Vu=t.n(Ru);function Uu(){var e=Object(x.a)(["\n    background-color: transparent;\n    width: 30px;\n    height: 30px;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;\n\n    &+& {\n        margin-left: 10px;\n    }\n\n    &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]);return Uu=function(){return e},e}function Du(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 12px;\n    height: 20px;\n    width: 100%;\n"]);return Du=function(){return e},e}function Fu(){var e=Object(x.a)(["\n    height: 30px;\n    width: 30px;\n"]);return Fu=function(){return e},e}function Pu(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 40px;\n    width: 100%;\n"]);return Pu=function(){return e},e}function Ku(){var e=Object(x.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 40px;\n    font-size: 11px;\n"]);return Ku=function(){return e},e}function Bu(){var e=Object(x.a)(["\n        transition: all 3s cubic-bezier(1.000, 0.015, 1.000, 0.030);\n        top: -90px;\n        opacity: 0;\n    "]);return Bu=function(){return e},e}function Mu(){var e=Object(x.a)(["\n        top: -70px;\n        opacity: 1;\n        visibility: visible;\n    "]);return Mu=function(){return e},e}function Gu(){var e=Object(x.a)(["\n    position: absolute;\n    top: -90px;\n    left: 0px;\n    height: 60px;\n    width: 84px;\n    opacity: 0;\n    visibility: hidden;\n    ","\n    ","\n    transition: 1s;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index: 10;\n    background-color: white;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;\n"]);return Gu=function(){return e},e}var Zu=h.b.div(Gu(),(function(e){return e.role&&Object(h.a)(Mu())}),(function(e){return e.message&&Object(h.a)(Bu())})),Wu=h.b.div(Ku()),qu=h.b.div(Pu()),Hu=h.b.img(Fu()),Ju=h.b.div(Du()),Qu=h.b.button(Uu()),Xu=function(e){var n,t=e.type,r=e.message,a=e.role;e.onClick;return"answer"===a?n=o.a.createElement(Wu,null,o.a.createElement(Qu,null,"Y"),o.a.createElement(Qu,null,"N")):"ask"===a&&(n=r?o.a.createElement(Wu,null,r):o.a.createElement(qu,null,o.a.createElement(Hu,{src:Vu.a}))),o.a.createElement(Zu,{message:r,role:a},o.a.createElement(Ju,null,t),n)},Yu=function(e){var n=e.type,t=Object(s.c)((function(e){var t=e.record,r=e.game;return{socket:t.socket,suggestion:t[n],start:r.start}})),r=t.socket,a=t.suggestion,i=t.start,u=Object(s.b)();Object(c.useEffect)((function(){a.message&&"ask"===a.role&&setTimeout((function(){u(du({type:n}))}),3e3)}),[u,a.role,a.message,n]),Object(c.useEffect)((function(){i||u(du({type:n}))}),[u,i,n]),Object(c.useEffect)((function(){return function(){u(du({type:n}))}}),[u,n]);var l=Object(c.useCallback)((function(e){u(Iu({socket:r,type:n,response:e})),u(mu({type:n,message:"response: ".concat(e)}))}),[u,r,n]);return o.a.createElement(Xu,{type:n,role:a.role,message:a.message,onClick:l})};function $u(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    width: 25%;\n    height: 100%;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #D3D3D3;\n    }\n"]);return $u=function(){return e},e}function el(){var e=Object(x.a)(["\n    position: absolute;\n    top: 30px;\n    display: flex;\n    width: 100%;\n    height: 30px;\n    z-index: 10;\n    background-color: rgb(247, 246, 245);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return el=function(){return e},e}var nl=h.b.div(el()),tl=h.b.div($u()),rl={style:{color:"#4d4d4d",width:"50%",height:"50%",backgroundColor:"transparent"}},al=o.a.memo((function(e){var n=e.onReverse,t=e.onClick;return o.a.createElement(nl,null,o.a.createElement(tl,{onClick:n},o.a.createElement(ut.b.Provider,{value:{style:Object(M.a)({},rl.style,{width:"60%",height:"60%"})}},o.a.createElement(it.d,null))),o.a.createElement(tl,{onClick:function(){return t("undo")}},o.a.createElement(ut.b.Provider,{value:{style:Object(M.a)({},rl.style,{width:"80%",height:"80%"})}},o.a.createElement(zu.a,null))),o.a.createElement(tl,{onClick:function(){return t("draw")}},o.a.createElement(ut.b.Provider,{value:rl},o.a.createElement(it.h,null))),o.a.createElement(tl,{onClick:function(){return t("surrender")}},o.a.createElement(ut.b.Provider,{value:rl},o.a.createElement(it.g,null)),o.a.createElement(Yu,{type:"surrender"})))})),cl=function(){var e=Object(s.c)((function(e){var n=e.record,t=e.game;return{socket:n.socket,reversed:n.reversed,start:t.start,undo:n.undo,draw:n.draw,surrender:n.surrender}})),n=e.reversed,t=e.socket,r=e.start,a=e.undo,i=e.draw,u=e.surrender,l=Object(s.b)(),f=Object(c.useCallback)((function(){l(bu({reversed:!n}))}),[l,n]),b=Object(c.useCallback)((function(e){r&&(a.role||i.role||u.role||(l(Cu({socket:t,type:e})),l(pu({type:e,role:"ask"}))))}),[l,r,t,a.role,i.role,u.role]);return o.a.createElement(al,{onReverse:f,onClick:b})};function ol(){var e=Object(x.a)(["\n    position: relative;\n    width: 100%;\n    height: 360px;\n    background-color: white;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return ol=function(){return e},e}var il=h.b.div(ol()),ul=o.a.memo((function(e){var n=e.reversal;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement(o.a.Fragment,null,o.a.createElement(hi,{white:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement(hi,{black:!0})),o.a.createElement(il,null,n?o.a.createElement(o.a.Fragment,null,o.a.createElement(Wi,{white:!0}),o.a.createElement(wi,{white:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement(Wi,{black:!0}),o.a.createElement(wi,{black:!0})),o.a.createElement(cl,null),o.a.createElement(Ki,null),o.a.createElement(eu,null),n?o.a.createElement(o.a.Fragment,null,o.a.createElement(wi,{black:!0,beneath:!0}),o.a.createElement(Wi,{black:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement(wi,{white:!0,beneath:!0}),o.a.createElement(Wi,{white:!0}))),n?o.a.createElement(o.a.Fragment,null,o.a.createElement(hi,{black:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement(hi,{white:!0})))})),ll=function(){var e=Object(s.c)((function(e){var n=e.socketAuth,t=e.record;return{role:n.role,reversed:t.reversed}})),n=e.role,t=e.reversed,r=Object(s.b)();Object(c.useEffect)((function(){return function(){r(fu())}}),[r]);var a=!1;return(("white"===n||"spectator"===n)&&t||"black"===n&&!t)&&(a=!0),n?o.a.createElement(ul,{reversal:a}):null};function sl(){var e=Object(x.a)(["\n    ","\n    margin-left: 1%;\n"]);return sl=function(){return e},e}function fl(){var e=Object(x.a)(["\n    ","\n    margin-right: 1%;\n"]);return fl=function(){return e},e}function bl(){var e=Object(x.a)(["\n    height: 90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 20%;\n"]);return bl=function(){return e},e}function dl(){var e=Object(x.a)(["\n    height: 800px;\n    width: 100%;\n    background-color: rgb(237, 235, 233);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return dl=function(){return e},e}var pl,ml=h.b.div(dl()),xl=Object(h.a)(bl()),vl=h.b.div(fl(),xl),hl=h.b.div(sl(),xl),gl=o.a.memo((function(){return o.a.createElement(ml,null,o.a.createElement(vl,null,o.a.createElement(ii,null)),o.a.createElement(oa,null),o.a.createElement(hl,null,o.a.createElement(ll,null)))})),Ol=a.a.mark(Sl),jl=a.a.mark(Ll),El="socketAuth/CONNECT_WEBSOCKET",yl="socketAuth/DISCONNECT_WEBSOCKET",kl=Object(W.a)(El),wl=Object(W.a)(yl),Cl=Object(W.a)("socketAuth/INITIALIZE_SOCKET",(function(e){return e})),Il=Object(W.a)("socketAuth/INITIALIZE_VALUE",(function(e){return e})),Al=Object(W.a)("socketAuth/CLEAR_VALUE");function Sl(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ee,{url:"/socketAuth",initializeSocket:Cl,initializeValue:Il,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)(yl);case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),Ol)}function Ll(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(El,Sl);case 2:case"end":return e.stop()}}),jl)}var Tl,Nl={socket:null,nickname:null,role:null,error:null},_l=Object(q.a)((pl={},Object(B.a)(pl,"socketAuth/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(B.a)(pl,"socketAuth/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(M.a)({},e,{},r)})),Object(B.a)(pl,"socketAuth/CLEAR_VALUE",(function(e){return Nl})),pl),Nl),zl=a.a.mark(Ml),Rl=a.a.mark(Gl),Vl="game/CONNECT_WEBSOCKET",Ul="game/DISCONNECT_WEBSOCKET",Dl=Object(W.a)(Vl),Fl=Object(W.a)(Ul),Pl=Object(W.a)("game/INITIALIZE_SOCKET",(function(e){return e})),Kl=Object(W.a)("game/INITIALIZE_VALUE",(function(e){return e})),Bl=Object(W.a)("game/CLEAR_VALUE");function Ml(e){var n,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.next=3,Object(Q.e)(ee,{url:"/game",initializeSocket:Pl,initializeValue:Kl,query:n});case 3:return t=r.sent,r.next=6,Object(Q.g)(Ul);case 6:return r.next=8,Object(Q.c)(t);case 8:case"end":return r.stop()}}),zl)}function Gl(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.h)(Vl,Ml);case 2:case"end":return e.stop()}}),Rl)}var Zl={socket:null,error:null,participant:[]},Wl=Object(q.a)((Tl={},Object(B.a)(Tl,"game/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(B.a)(Tl,"game/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(G.a)(t,["type"]));return Object(M.a)({},e,{},r)})),Object(B.a)(Tl,"game/CLEAR_VALUE",(function(e){return Zl})),Tl),Zl),ql=function(e){var n=e.gameKey,t=Object(s.b)();Object(c.useEffect)((function(){return function(){t(Fl()),t(wl()),t(go()),t(pr()),t(ou())}}),[t]),Object(c.useEffect)((function(){return function(){t(Al()),t(Bl())}}),[t]);var r=cn((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(t(we()));case 2:return t(Fl()),t(wl()),t(go()),t(pr()),t(ou()),e.next=9,a.a.awrap(Promise.resolve().then((function(){var e=bo()(),r={gameKey:n,tabKey:e};t(Dl(r)),t(kl(r)),t(ho(r)),t(dr(r)),t(cu(r))})));case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}))}),[t,n]),i=Object(Z.a)(r,1)[0],u=i.loading,l=i.data,f=i.error;return u?null:f?null:l?o.a.createElement(gl,null):null},Hl=Object(v.f)((function(e){var n=e.history,t=e.match;if(Object(c.useEffect)((function(){t.params.id||n.push("/")}),[n,t]),!t.params.id)return null;var r=t.params.id;return r?o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,o.a.createElement("title",null,"GamePlay \u2022 Chesssup.com")),o.a.createElement(rn,null),o.a.createElement(ql,{gameKey:r})):null})),Jl=[{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5442",count:251,comments:8,time:"2\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5443",count:252,comments:9,time:"3\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5444",count:253,comments:10,time:"4\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"}];function Ql(){var e=Object(x.a)(["\n    text-align: center;\n    height : 1em;\n    width : 100%;\n"]);return Ql=function(){return e},e}function Xl(){var e=Object(x.a)(["\n    width: ",";\n    height: 50px; \n    display:flex;\n    justify-content:center;\n    align-items:center;\n    font-size: 15px;\n"]);return Xl=function(){return e},e}function Yl(){var e=Object(x.a)(["\n    display:flex;\n    flex-direction: row;\n    justify-content:center;\n    width: 100%;\n    transition-duration:0.1s;\n    &:nth-child(odd) {\n        background: #F7F6F4;\n    }\n    &:hover {\n            background: #add8e6;\n            cursor:pointer;\n        }\n"]);return Yl=function(){return e},e}var $l=h.b.div(Yl()),es=h.b.div(Xl(),(function(e){return e.width?e.width:"20%"})),ns=h.b.div(Ql()),ts=Object(v.f)((function(e){var n=e.history,t=e.title,r=e.count,a=e.comments,c=e.time;return o.a.createElement($l,{onClick:function(){n.push("/Contents")}},o.a.createElement(es,{width:"70%"},o.a.createElement(ns,null,t)),o.a.createElement(es,{width:"10%"},o.a.createElement(ns,null,r)),o.a.createElement(es,{width:"10%"},o.a.createElement(ns,null,a)),o.a.createElement(es,{width:"10%"},o.a.createElement(ns,null,c)))}));function rs(){var e=Object(x.a)(["\n    width: ",";\n    height: 50px; \n    text-align: center;\n    font-size: 15px;\n"]);return rs=function(){return e},e}function as(){var e=Object(x.a)(["\n    display:flex;\n    flex-direction: row;\n    width: 100%;\n    height: 30px;\n    background-color: rgba(255, 255, 255);\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return as=function(){return e},e}var cs=h.b.div(as()),os=h.b.div(rs(),(function(e){return e.width?e.width:"20%"})),is=function(){return o.a.createElement(cs,null,o.a.createElement(os,{width:"70%"},"Title"),o.a.createElement(os,{width:"10%"},"View Counts"),o.a.createElement(os,{width:"10%"},"Comments"),o.a.createElement(os,{width:"10%"},"Post Time"))};function us(){var e=Object(x.a)(["\n    ","\n"]);return us=function(){return e},e}function ls(){var e=Object(x.a)(["\n    outline: none;\n    border: none;\n    height: 25px;\n    width: 70%;\n    padding-left: 5%;\n    box-shadow :  0 3px 1px -2px rgba(0,0,0,0.2);\n    "]);return ls=function(){return e},e}function ss(){var e=Object(x.a)(["\n    width: ",";\n    height: 50px; \n    text-align: center;\n    font-size: 15px;\n"]);return ss=function(){return e},e}function fs(){var e=Object(x.a)(["\n    display:flex;\n    flex-direction: row;\n    width: 100%;\n    height: 30px;\n    background-color: rgba(255, 255, 255);\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return fs=function(){return e},e}var bs=h.b.div(fs()),ds=h.b.div(ss(),(function(e){return e.width?e.width:"20%"})),ps=Object(h.a)(ls()),ms=h.b.input(us(),ps),xs=function(){return o.a.createElement(bs,null,o.a.createElement(ds,{width:"70%"},o.a.createElement(ms,null)),o.a.createElement(ds,{width:"30%"},"ETCS"))},vs=function(){return o.a.createElement(o.a.Fragment,null,"this is Test block")};function hs(){var e=Object(x.a)(["\n    width: 90%;\n    height: auto;\n    align-self:center;\n    justify-content:center;\n    align-items:center;\n    background-color: rgba(255, 255, 255);\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return hs=function(){return e},e}function gs(){var e=Object(x.a)(["\n    width: 100%;\n    height: 100px;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0px 0px 0px 0px;\n"]);return gs=function(){return e},e}function Os(){var e=Object(x.a)(["\n    width: 80%;\n    min-height: 720px;\n    background-color:lightblue;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background-color: rgba(255, 255, 255);\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Os=function(){return e},e}function js(){var e=Object(x.a)(["\n    width: 100%;\n    min-height: 700px;\n    background-color:#EDEBE9;\n    display: flex;\n    justify-content: center;\n"]);return js=function(){return e},e}var Es=h.b.div(js()),ys=h.b.main(Os()),ks=h.b.h1(gs()),ws=h.b.div(hs()),Cs=function(){var e=Object(c.useState)(Jl),n=Object(Z.a)(e,2),t=n[0];n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{path:"/Community",exact:!0,render:function(){return o.a.createElement(Es,null,o.a.createElement(ys,null,o.a.createElement(ks,null,"General Chess Discussion"),o.a.createElement(ws,null,o.a.createElement(is,null),t.map((function(e){return o.a.createElement(ts,{title:e.title,count:e.count,comments:e.comments,time:e.time})})),o.a.createElement(xs,null))))}}),o.a.createElement(v.a,{path:"/Community/Contents",component:vs}))},Is=function(){return o.a.createElement(Cs,null)},As=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,o.a.createElement("title",null,"Community \u2022 Chesssup.com")),o.a.createElement(rn,null),o.a.createElement(Is,null))};function Ss(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 200px;\n  font-size: 50px;\n"]);return Ss=function(){return e},e}var Ls=h.b.div(Ss()),Ts=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,o.a.createElement("title",null,"Chesssup.com")),o.a.createElement(v.c,null,o.a.createElement(v.a,{component:rt,path:"/",exact:!0}),o.a.createElement(v.a,{component:Xt,path:"/login",exact:!0}),o.a.createElement(v.a,{component:$t,path:"/register",exact:!0}),o.a.createElement(v.a,{component:so,path:"/game",exact:!0}),o.a.createElement(v.a,{component:Hl,path:"/game/:id",exact:!0}),o.a.createElement(v.a,{component:As,path:"/community",exact:!0}),o.a.createElement(v.a,{render:function(e){e.location;return o.a.createElement(Ls,null,o.a.createElement("h1",null,"404 Error"),o.a.createElement("p",null,"\uc694\uccad\ud55c \ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))}})))},Ns=a.a.mark(_s);function _s(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)([en(),Ll(),Gl(),Jc(),Tr(),_o(),Tu(),$n()]);case 2:case"end":return e.stop()}}),Ns)}var zs=Object(f.combineReducers)({sessionAuth:tn,socketAuth:_l,game:Wl,games:Xc,canvas:zr,chat:Ro,record:_u,create:Ja,ranking:nt});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Rs(){var e=Object(x.a)(["\n    width: 1680px;\n"]);return Rs=function(){return e},e}var Vs=h.b.div(Rs()),Us=function(e){return o.a.createElement(Vs,e)},Ds=Object(p.a)(),Fs=Object(f.createStore)(zs,Object(d.composeWithDevTools)(Object(f.applyMiddleware)(b.a,Ds)));Ds.run(_s),function(){var e;a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=le("auth")){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,a.a.awrap(Fs.dispatch(Je()));case 6:if(n.sent.username===e.username){n.next=10;break}throw fe(),"Auth mismatch";case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),console.dir("Check auth failed");case 15:case"end":return n.stop()}}),null,null,[[3,12]])}(),u.a.render(o.a.createElement(s.a,{store:Fs},o.a.createElement(l.a,null,o.a.createElement(m.b,null,o.a.createElement(Us,null,o.a.createElement(Ts,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[197,1,2]]]);
//# sourceMappingURL=main.5023531f.chunk.js.map