(this["webpackJsonpchess-frontend"]=this["webpackJsonpchess-frontend"]||[]).push([[0],{190:function(e,n,t){e.exports=t(358)},195:function(e,n,t){},228:function(e,n){},257:function(e,n){},259:function(e,n){},291:function(e,n){},292:function(e,n){},358:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(77),o=t.n(c),i=(t(195),t(2)),u=t(16),l=t(12),b=t(3),f=t(29),s=t(0),d=t(22),p=t(47),m=t(18);function v(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    height: 90%;\n    overflow-y: scroll;\n    background-color: rgb(0,0,0, 0.2);\n    box-shadow: 5px 5px 5px rgb(0,0,0,0.4);\n"]);return v=function(){return e},e}function h(){var e=Object(i.a)(["\n    \n"]);return h=function(){return e},e}function x(){var e=Object(i.a)(["\n    \n"]);return x=function(){return e},e}function O(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 24%;\n    height: 300px;\n    background-color: rgb(0,0,0, 0.4);\n    box-shadow: 5px 5px 5px rgb(0,0,0,0.6);\n    cursor: pointer;\n    \n    & + & {\n        margin-left: 13%;\n    }\n\n    &:active {\n        background-color: rgb(0,0,0, 0.6);\n        box-shadow: 5px 5px 5px rgb(0,0,0,0.8);\n    }\n"]);return O=function(){return e},e}function j(){var e=Object(i.a)(["\n    display: flex;\n    width: 85%;\n\n    & + & {\n        margin-top: 50px;\n    }\n\n    &:first-child {\n        margin-top: 50px;\n    }\n\n    &:last-child {\n        margin-bottom: 50px;\n    }\n"]);return j=function(){return e},e}var g=b.b.div(j()),E=b.b.div(O()),y=b.b.div(x()),k=b.b.div(h()),w=a.a.memo((function(e){var n=e.room,t=Object(d.a)(e,["room"]);return console.dir("room~"),a.a.createElement(E,t,a.a.createElement(y,null,n.name),a.a.createElement(k,null,n.participant))})),C=b.b.div(v()),I=a.a.memo((function(e){var n=e.room,t=e.onRoomClick;if(!n)return a.a.createElement(C,null);for(var r=Object(m.a)(n),c=[],o=Math.floor(r.length/3),i=0;i<=o;++i)c.push(a.a.createElement(g,{key:"GridRowBlock_".concat(i)},r.splice(0,3).map((function(e){return a.a.createElement(w,{key:"GridBox".concat(e.name),room:e,onClick:function(n){return t(n,e.key)}})}))));return a.a.createElement(C,null,c)})),T=function(e){return a.a.createElement(I,e)},A=t(7),N=t.n(A);function L(){var e=Object(i.a)(["\n    ","\n    margin-left: 20px;\n"]);return L=function(){return e},e}function S(){var e=Object(i.a)(["\n    ","\n"]);return S=function(){return e},e}function _(){var e=Object(i.a)(["\n    outline: none;\n    background-color: rgb(0,0,0, 0.2);\n    padding: 0px;\n    border: none;\n    width: 200px;\n    height: 30px;\n    cursor: pointer;\n    box-shadow: 5px 5px 5px rgb(0,0,0, 0.6);\n\n    &:hover {\n        background-color: rgb(0,0,0, 0.8);\n        color: white;\n        box-shadow: 5px 5px 5px rgb(0,0,0, 0.2);\n    }\n"]);return _=function(){return e},e}function D(){var e=Object(i.a)(["\n    display: flex;\n"]);return D=function(){return e},e}var R=b.b.form(D()),z=Object(b.a)(_()),P=b.b.button(S(),z),V=b.b.button(L(),z),U=a.a.memo((function(e){var n=e.onConfirmClick,t=e.onCancelClick;return a.a.createElement(R,{onSubmit:n},a.a.createElement(P,{type:"submit"},"Create Room"),a.a.createElement(V,{type:"button",onClick:t},"Cancel"))})),F=t(6),M=t(5),K=t(361),Z=t(360),B=t(9),G=t(80),q=t(182),W=t.n(q),H=N.a.mark(J),X=N.a.mark(Q);function J(e){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(G.b)((function(n){return e.on("connect",(function(t){n({type:"socket",socket:e.id})})),e.on("message",(function(e){n(e)})),function(){e.close()}})));case 1:case"end":return n.stop()}}),H)}function Q(e){var n,t,r,a,c,o,i,u,l;return N.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.url,r=e.initializeSocket,a=e.initializeValue,c=e.changeValue,o=e.updateValue,i=e.query,console.dir(t),console.dir(i),b.prev=3,u=W()(t,{query:i,reconnection:!1,secure:!0}),b.next=7,Object(B.b)(J,u);case 7:n=b.sent;case 8:return b.next=11,Object(B.g)(n);case 11:l=b.sent,b.t0=l.type,b.next="socket"===b.t0?15:"initialize"===b.t0?18:"change"===b.t0?21:"update"===b.t0?24:27;break;case 15:return b.next=17,Object(B.f)(r(l));case 17:return b.abrupt("break",28);case 18:return b.next=20,Object(B.f)(a(l));case 20:return b.abrupt("break",28);case 21:return b.next=23,Object(B.f)(c(l));case 23:return b.abrupt("break",28);case 24:return b.next=26,Object(B.f)(o(l));case 26:return b.abrupt("break",28);case 27:console.dir(l);case 28:b.next=8;break;case 30:b.next=35;break;case 32:b.prev=32,b.t1=b.catch(3),console.dir(b.t1);case 35:return b.prev=35,b.next=38,Object(B.d)();case 38:if(!b.sent){b.next=40;break}n.close();case 40:return b.finish(35);case 41:case"end":return b.stop()}}),X,null,[[3,32,35,41]])}var $=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function Y(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return function(e){return function(a){var c;return N.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,N.a.awrap(n(e));case 3:return c=o.sent,console.dir(e),a({type:t,payload:c.data}),o.abrupt("return",c.data);case 9:throw o.prev=9,o.t0=o.catch(0),console.dir(o.t0),a({type:r,payload:o.t0,error:!0}),o.t0;case 14:case"end":return o.stop()}}),null,null,[[0,9]])}}}var ee,ne=t(40),te=t.n(ne),re=N.a.mark(he),ae=N.a.mark(xe),ce="room/CONNECT_WEBSOCKET",oe="room/DISCONNECT_WEBSOCKET",ie=Object(K.a)(ce),ue=Object(K.a)(oe),le=Object(K.a)("room/INITIALIZE_SOCKET",(function(e){return e})),be=Object(K.a)("room/INITIALIZE_VALUE",(function(e){return e})),fe=$("room/CREATE_ROOM"),se=Object(u.a)(fe,3),de=se[0],pe=se[1],me=se[2],ve=Y(de,(function(){return te.a.post("/api/room")}));function he(){var e;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(B.e)(Q,{url:"/room",initializeSocket:le,initializeValue:be});case 2:return e=n.sent,n.next=5,Object(B.g)(oe);case 5:return n.next=7,Object(B.c)(e);case 7:case"end":return n.stop()}}),re)}function xe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.h)(ce,he);case 2:case"end":return e.stop()}}),ae)}var Oe=Object(Z.a)((ee={},Object(F.a)(ee,"room/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(F.a)(ee,"room/INITIALIZE_VALUE",(function(e,n){var t=n.payload.room;return Object(M.a)({},e,{room:t})})),Object(F.a)(ee,pe,(function(e){return e})),Object(F.a)(ee,me,(function(e,n){var t=n.payload;return Object(M.a)({},e,{error:t})})),ee),{socket:null,room:null,error:null}),je=Object(p.f)((function(e){var n=e.history,t=e.onCancelClick,c=Object(d.a)(e,["history","onCancelClick"]),o=Object(l.b)(),i=Object(r.useCallback)((function(e){e.preventDefault(),function(){var e;N.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return o(ue()),r.next=3,N.a.awrap(o(ve()));case 3:e=r.sent,t(),n.push("/game/".concat(e));case 6:case"end":return r.stop()}}))}()}),[o,n,t]);return a.a.createElement(U,Object.assign({},c,{onConfirmClick:i,onCancelClick:t}))}));function ge(){var e=Object(i.a)(["\n    position: fixed;\n    top: 20%;\n    left: 20%;\n    height: 60%;\n    width: 60%;\n    padding: 2%;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: space-between;\n    background-color: rgb(245,245,245, 0.8);\n    box-shadow: 10px 10px 10px;\n    z-index: 1000;\n"]);return ge=function(){return e},e}function Ee(){var e=Object(i.a)(["\n        opacity: 1;\n        visibility: visible;\n    "]);return Ee=function(){return e},e}function ye(){var e=Object(i.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgb(0,0,0, 0.5);\n    z-index: 100;\n    opacity: 0;\n    visibility: hidden;\n    transition: 1s;\n\n    ","\n"]);return ye=function(){return e},e}var ke=b.b.div(ye(),(function(e){return e.open&&Object(b.a)(Ee())})),we=b.b.div(ge()),Ce=a.a.memo((function(e){var n=e.onBackgroundClick,t=e.onContentClick,r=e.onRoomClick,c=e.room,o=Object(d.a)(e,["onBackgroundClick","onContentClick","onRoomClick","room"]);return console.dir("room mooooodal"),a.a.createElement(ke,Object.assign({},o,{onClick:n}),a.a.createElement(we,{onClick:t},a.a.createElement(T,{room:c,onRoomClick:r}),a.a.createElement(je,{onCancelClick:n})))})),Ie=Object(p.f)((function(e){var n=e.history,t=e.openModal,c=e.setOpenModal,o=Object(d.a)(e,["history","openModal","setOpenModal"]),i=Object(r.useState)(!1),b=Object(u.a)(i,2),f=b[0],s=b[1],p=Object(l.c)((function(e){return{room:e.room.room}})).room,m=Object(l.b)(),v=Object(r.useCallback)((function(e){s(!1),c(!1),m(ue())}),[m,c]),h=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),x=Object(r.useCallback)((function(e,t){s(!1),c(!1),m(ue()),n.push("/game/".concat(t))}),[m,n,c]);return Object(r.useEffect)((function(){s(t)}),[t]),console.dir("roommodal"),Object(r.useEffect)((function(){return function(){m(ue())}}),[m]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ce,Object.assign({},o,{room:p,open:f,onBackgroundClick:v,onContentClick:h,onRoomClick:x})))}));function Te(){var e=Object(i.a)(["\n    position: absolute;\n    top: 10%;\n    left: 0%;\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.4);\n"]);return Te=function(){return e},e}function Ae(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    margin-right: 8%;\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(i.a)(["\n        display: none;\n        visibility: hidden;\n    "]);return Ne=function(){return e},e}function Le(){var e=Object(i.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    font-size: 16px;\n    cursor: pointer;\n    color: rgb(0, 0, 0, 0.4);\n    margin-left: 20px;\n    text-decoration: none;\n    \n    ",";\n"]);return Le=function(){return e},e}function Se(){var e=Object(i.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50px;\n    font-size: 16px;\n    cursor: pointer;\n    color: rgb(0, 0, 0, 0.4);\n    margin-left: 20px;\n"]);return Se=function(){return e},e}function _e(){var e=Object(i.a)(["\n    margin-left: 30px;\n    display: flex;\n"]);return _e=function(){return e},e}function De(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    margin-left: 8%;\n"]);return De=function(){return e},e}function Re(){var e=Object(i.a)(["\n    ","\n    color: rgb(0, 0, 0, 0.4);\n"]);return Re=function(){return e},e}function ze(){var e=Object(i.a)(["\n    ","\n    color: rgb(0, 0, 0, 0.6);\n"]);return ze=function(){return e},e}function Pe(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    height: 40px;\n    background-color: transparent;\n    cursor: pointer;\n    font-size: 30px;\n    text-decoration: none;\n    text-shadow: 2px 2px 2px rgb(0, 0, 0, 0.2);\n    font-style: italic;\n"]);return Pe=function(){return e},e}function Ve(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 50px;\n"]);return Ve=function(){return e},e}var Ue,Fe=b.b.div(Ve()),Me=Object(b.a)(Pe()),Ke=Object(b.b)(f.b)(ze(),Me),Ze=Object(b.b)(f.b)(Re(),Me),Be=b.b.div(De()),Ge=b.b.div(_e()),qe=b.b.div(Se()),We=Object(b.b)(f.b)(Le(),(function(e){return e.hidden&&Object(b.a)(Ne())})),He=function(e){return e.to?a.a.createElement(We,e,e.children):a.a.createElement(qe,e,e.children)},Xe=b.b.div(Ae()),Je=b.b.div(Te()),Qe=a.a.memo((function(e){var n,t=e.onToggle,r=e.openModal,c=e.setOpenModal,o=e.onRecord,i=e.onLogout,u=e.session,l=e.auth;return u&&(n=u.nickname,l&&(n=l.username)),a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe,null,a.a.createElement(Be,null,a.a.createElement(Ke,{to:"/"},"chessup"),a.a.createElement(Ze,{to:"/"},".com"),a.a.createElement(Ge,null,a.a.createElement(He,{onClick:t},"Quickplay"),a.a.createElement(He,{to:"/"},"Play"),a.a.createElement(He,{to:"/community"},"Community"))),a.a.createElement(Xe,null,a.a.createElement(He,{onClick:o},"Search"),l?a.a.createElement(a.a.Fragment,null,a.a.createElement(He,{onClick:o},"Setting"),a.a.createElement(He,{onClick:o},"Record"),a.a.createElement(He,{onClick:i},"Logout",a.a.createElement(Je,null,n))):a.a.createElement(He,{to:"/login"},"Login",a.a.createElement(Je,null,n)))),a.a.createElement(Ie,{openModal:r,setOpenModal:c}))})),$e=t(184),Ye=N.a.mark(Rn),en=N.a.mark(zn),nn="auth/CONNECT_WEBSOCKET",tn="auth/DISCONNECT_WEBSOCKET",rn=Object(K.a)(nn),an=Object(K.a)(tn),cn=Object(K.a)("auth/INITIALIZE_SOCKET",(function(e){return e})),on=Object(K.a)("auth/INITIALIZE_VALUE",(function(e){return e})),un=$("auth/SET_SESSION"),ln=Object(u.a)(un,3),bn=ln[0],fn=ln[1],sn=ln[2],dn=Y(bn,(function(){return te.a.get("/api/auth/getSession")})),pn=$("auth/LOGIN"),mn=Object(u.a)(pn,3),vn=mn[0],hn=mn[1],xn=mn[2],On=$("auth/REGISTER"),jn=Object(u.a)(On,3),gn=jn[0],En=jn[1],yn=jn[2],kn=$("auth/LOGOUT"),wn=Object(u.a)(kn,3),Cn=wn[0],In=wn[1],Tn=wn[2],An=Y(vn,(function(e){var n=e.username,t=e.password;return te.a.post("/api/auth/login",{username:n,password:t})})),Nn=Y(gn,(function(e){var n=e.username,t=e.password;return te.a.post("/api/auth/register",{username:n,password:t})})),Ln=Y(Cn,(function(){return te.a.post("/api/auth/logout")})),Sn=Object(K.a)("auth/CHANGE_FIELD",(function(e){return e})),_n=Object(K.a)("auth/CLEAR_FIELD",(function(e){return e})),Dn=Object(K.a)("auth/CLEAR_SPECIFIC_FIELD",(function(e){return e}));function Rn(e){var n,t,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.payload,t="key=".concat(n),a.next=4,Object(B.e)(Q,{url:"/auth",initializeSocket:cn,initializeValue:on,query:t});case 4:return r=a.sent,a.next=7,Object(B.g)(tn);case 7:return a.next=9,Object(B.c)(r);case 9:case"end":return a.stop()}}),Ye)}function zn(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.h)(nn,Rn);case 2:case"end":return e.stop()}}),en)}var Pn={socket:null,tempAuth:null,session:null,error:null,auth:null,authError:null,login:{username:"",password:""},register:{username:"",password:"",passwordConfirm:""}},Vn=Object(Z.a)((Ue={},Object(F.a)(Ue,"auth/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(F.a)(Ue,"auth/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(d.a)(t,["type"]));return Object(M.a)({},e,{tempAuth:Object(M.a)({},r)})})),Object(F.a)(Ue,fn,(function(e,n){var t=n.payload;return Object(M.a)({},e,{session:t})})),Object(F.a)(Ue,sn,(function(e,n){var t=n.payload;return Object(M.a)({},e,{session:null,error:t})})),Object(F.a)(Ue,"auth/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,c=t.value;return Object($e.a)(e,(function(e){e[r][a]=c}))})),Object(F.a)(Ue,"auth/CLEAR_FIELD",(function(e,n){var t,r=n.payload.form;return Object(M.a)({},e,(t={},Object(F.a)(t,r,Pn[r]),Object(F.a)(t,"authError",Pn.authError),t))})),Object(F.a)(Ue,"auth/CLEAR_SPECIFIC_FIELD",(function(e,n){var t,r=n.payload,a=r.form,c=r.key;return Object(M.a)({},e,(t={},Object(F.a)(t,a,Object(M.a)({},e[a],Object(F.a)({},c,Pn[a][c]))),Object(F.a)(t,"authError",Pn.authError),t))})),Object(F.a)(Ue,hn,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:t,authError:null})})),Object(F.a)(Ue,xn,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:null,authError:t})})),Object(F.a)(Ue,En,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:t,authError:null})})),Object(F.a)(Ue,yn,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:null,authError:t})})),Object(F.a)(Ue,In,(function(e){return Object(M.a)({},e,{auth:null,authError:null})})),Object(F.a)(Ue,Tn,(function(e,n){var t=n.payload;return Object(M.a)({},e,{auth:null,authError:t})})),Ue),Pn),Un=function(){var e=Object(l.c)((function(e){var n=e.auth;return{session:n.session,auth:n.auth}})),n=e.session,t=e.auth,c=Object(l.b)(),o=Object(r.useState)(!1),i=Object(u.a)(o,2),b=i[0],f=i[1],s=Object(r.useCallback)((function(){f(!0),c(ie())}),[c]),d=Object(r.useCallback)((function(){c(Ln())}),[c]),p=Object(r.useCallback)((function(){alert("onRecord")}),[]);return a.a.createElement(Qe,{onToggle:s,openModal:b,setOpenModal:f,onRecord:p,onLogout:d,session:n,auth:t})};function Fn(e,n){switch(n.type){case"LOADING":return{loading:!0,data:null,error:null};case"SUCCESS":return{loading:!1,data:n.data,error:null};case"FAILURE":return{loading:!1,data:null,error:n.error};default:throw new Error("Unhandled action type Error")}}var Mn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(r.useReducer)(Fn,{loading:!1,data:null,error:!1}),a=Object(u.a)(t,2),c=a[0],o=a[1],i=function(){var n;return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return o({type:"LOADING"}),t.prev=1,t.next=4,N.a.awrap(e());case 4:n=t.sent,o({type:"SUCCESS",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),o({type:"FAILURE",error:t.t0});case 11:case"end":return t.stop()}}),null,null,[[1,8]])};return Object(r.useEffect)((function(){i()}),n),[c,i]};function Kn(){var e=Object(i.a)(["\n    width: 100%;\n    height: 800px;\n"]);return Kn=function(){return e},e}var Zn=b.b.div(Kn()),Bn=function(){return a.a.createElement(Zn,null)},Gn=function(){var e=Object(l.b)(),n=Mn((function(){return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(e(dn()));case 2:return n.abrupt("return",!0);case 3:case"end":return n.stop()}}))}),[e]),t=Object(u.a)(n,1)[0],r=t.loading,c=t.data,o=t.error;return r?null:o?null:c?a.a.createElement(Bn,null):null},qn=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Un,null),a.a.createElement(Gn,null))},Wn=t(48),Hn={pawn:Wn.d,king:Wn.b,queen:Wn.e,bishop:Wn.a,knight:Wn.c,rook:Wn.f,covered:Wn.g},Xn={white:{color:"white",style:{filter:"drop-shadow(1px 1px 1px white)",width:"80%",height:"80%"}},black:{color:"black",style:{filter:"drop-shadow(1px 1px 1px black)",width:"80%",height:"80%"}},covered0:{style:{filter:"drop-shadow(1px 1px 1px black)",width:"30%",height:"30%",color:"rgb(130, 151, 105)"}},covered1:{style:{filter:"drop-shadow(1px 1px 1px black)",width:"30%",height:"30%",color:"rgb(100, 111, 64)"}}};function Jn(){var e=Object(i.a)(["\n        pointer-events: none;\n    "]);return Jn=function(){return e},e}function Qn(){var e=Object(i.a)(["\n    ","\n"]);return Qn=function(){return e},e}function $n(){var e=Object(i.a)(["\n            background-color: rgb(132, 121, 78);\n        "]);return $n=function(){return e},e}function Yn(){var e=Object(i.a)(["\n            background-color: rgb(174, 177, 135);\n        "]);return Yn=function(){return e},e}function et(){var e=Object(i.a)(["\n        background-color: rgb(170, 162, 58);\n    "]);return et=function(){return e},e}function nt(){var e=Object(i.a)(["\n        background-color: rgb(205, 210, 106);\n    "]);return nt=function(){return e},e}function tt(){var e=Object(i.a)(["\n        background-color: rgb(100, 111, 64);\n    "]);return tt=function(){return e},e}function rt(){var e=Object(i.a)(["\n        background-color: rgb(130, 151, 105);\n    "]);return rt=function(){return e},e}function at(){var e=Object(i.a)(["\n        background-color: rgb(181, 136, 99);\n    "]);return at=function(){return e},e}function ct(){var e=Object(i.a)(["\n        background-color: rgb(240, 217, 181);\n    "]);return ct=function(){return e},e}function ot(){var e=Object(i.a)(["\n    display: flex;\n    cursor: pointer;\n    justify-content: center;\n    align-items: center;\n    width: 90px;\n    height: 90px;\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    &:hover {\n        ","\n\n        ","  \n    }\n"]);return ot=function(){return e},e}function it(){var e=Object(i.a)(["\n    display: flex;\n"]);return it=function(){return e},e}function ut(){var e=Object(i.a)(["\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return ut=function(){return e},e}var lt,bt=function(e){var n=e.piece,t=e.owner,r=e.covered,c=e.cellNum,o=null;if(r){var i=Hn.covered;o=a.a.createElement(s.b.Provider,{value:Xn["covered".concat(c)]},a.a.createElement(i,null))}if(!n||!t)return o;var u=Hn[n],l=o?{opacity:.5,filter:"black"===t?"drop-shadow(1px 1px 1px white)":"drop-shadow(1px 1px 1px black)"}:null,b=Object(M.a)({},Xn[t],{style:Object(M.a)({},Xn[t].style,{},l)});return a.a.createElement(s.b.Provider,{value:b},a.a.createElement(u,null))},ft=b.b.div(ut()),st=b.b.div(it()),dt=b.b.div(ot(),(function(e){return 0===e.cellNum&&Object(b.a)(ct())}),(function(e){return 1===e.cellNum&&Object(b.a)(at())}),(function(e){return 0===e.cellNum&&e.clicked&&Object(b.a)(rt())}),(function(e){return 1===e.cellNum&&e.clicked&&Object(b.a)(tt())}),(function(e){return 0===e.cellNum&&e.tracked&&Object(b.a)(nt())}),(function(e){return 1===e.cellNum&&e.tracked&&Object(b.a)(et())}),(function(e){return 0===e.cellNum&&e.covered&&Object(b.a)(Yn())}),(function(e){return 1===e.cellNum&&e.covered&&Object(b.a)($n())})),pt=a.a.memo((function(e){var n=e.row,t=e.y,r=e.onClickCell,c=e.pieceConverter;return a.a.createElement(st,null,n.map((function(e,n){return a.a.createElement(mt,{key:"cell_".concat(t,"_").concat(n),onClick:r.bind(null,{y:t,x:n}),pieceConverter:c,cellNum:(n+t)%2,cell:e})})))}),(function(e,n){return e.row===n.row})),mt=a.a.memo((function(e){var n=e.cell,t=e.onClick,r=e.cellNum,c=e.pieceConverter;return a.a.createElement(dt,Object.assign({onClick:t,cellNum:r},n),c({piece:n.piece,owner:n.owner,covered:n.covered,cellNum:r}))}),(function(e,n){return e.cell===n.cell})),vt=b.b.div(Qn(),(function(e){return e.blocked&&Object(b.a)(Jn())})),ht=function(e){var n=e.board,t=e.blocked,c=e.onClick,o=Object(r.useCallback)((function(e){var n=e.y,t=e.x;c(n,t)}),[c]);return a.a.createElement(vt,{blocked:t},n.map((function(e,n){return a.a.createElement(pt,{key:"row_".concat(n),row:e,y:n,onClickCell:o,pieceConverter:bt})})))},xt=a.a.memo((function(e){return a.a.createElement(ft,null,a.a.createElement(ht,e))})),Ot=[[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}],[{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1},{covered:!1}]],jt=(t(79),{pawn:{type:"onetime",move:[{dy:-1,dx:0,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!n[t][r].piece}},{dy:-2,dx:0,except:function(e){var n=e.board,t=e.y,r=e.x,a=e.owner;return!("black"===a&&1!==t||"white"===a&&6!==t)&&(!("black"===a&&n[2][r].piece||"white"===a&&n[5][r].piece)&&!("black"===a&&n[3][r].piece||"white"===a&&n[4][r].piece))}},{dy:-1,dx:-1,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!!n[t][r].piece}},{dy:-1,dx:1,except:function(e){var n=e.board,t=e.dy,r=e.dx;return!!n[t][r].piece}}]},knight:{type:"onetime",move:[{dy:-2,dx:-1},{dy:-2,dx:1},{dy:2,dx:-1},{dy:2,dx:1},{dy:-1,dx:-2},{dy:-1,dx:2},{dy:1,dx:-2},{dy:1,dx:2}]},king:{type:"onetime",move:[{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:1},{dy:0,dx:-1},{dy:-1,dx:1},{dy:-1,dx:-1},{dy:1,dx:-1},{dy:1,dx:1},{dy:0,dx:2,except:function(e){var n=e.board,t=e.y,r=e.x,a="white"===e.owner?"black":"white";if(!n[t][r].piece||n[t][r].dirty)return!1;if(!n[t][r+3].piece||n[t][r+3].dirty)return!1;if(n[t][r+1].piece||n[t][r+2].piece)return!1;for(var c=gt(a,n,!0),o=c.length,i=0;i<o;++i){var u=c[i];if(u.dy===t&&(u.dx===r||u.dx===r+1||u.dx===r+2))return!1}return!0}},{dy:0,dx:-2,except:function(e){var n=e.board,t=e.y,r=e.x,a="white"===e.owner?"black":"white";if(!n[t][r].piece||n[t][r].dirty)return!1;if(!n[t][r-4].piece||n[t][r-4].dirty)return!1;if(n[t][r-1].piece||n[t][r-2].piece||n[t][r-3].piece)return!1;for(var c=gt(a,n,!0),o=c.length,i=0;i<o;++i){var u=c[i];if(u.dy===t&&(u.dx===r||u.dx===r-1||u.dx===r-2))return!1}return!0}}]},bishop:{type:"multitime",move:[{dy:1,dx:-1},{dy:1,dx:1},{dy:-1,dx:-1},{dy:-1,dx:1}]},rook:{type:"multitime",move:[{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:-1},{dy:0,dx:1}]},queen:{type:"multitime",move:[{dy:1,dx:-1},{dy:1,dx:1},{dy:-1,dx:-1},{dy:-1,dx:1},{dy:1,dx:0},{dy:-1,dx:0},{dy:0,dx:-1},{dy:0,dx:1}]}}),gt=function(e,n,t){for(var r=[],a=0;a<8;++a)for(var c=0;c<8;++c)if(n[a][c].owner===e){var o=Et(n,a,c,t);r=[].concat(Object(m.a)(r),Object(m.a)(o))}return r},Et=function(e,n,t,r){var a=e[n][t],c=a.piece,o=a.owner,i={board:e,y:n,x:t,owner:o};if(c){var u=jt[c],l=u.type,b=u.move;return"onetime"===l?b.reduce((function(a,u){var l=n+("black"===o?-u.dy:+u.dy),b=t+u.dx;return l<0||b<0||l>7||b>7?a:(i=Object(M.a)({},i,{dy:l,dx:b}),u.except&&("king"===c&&r||!u.except||!u.except(i))||e[l][b].owner&&e[n][t].owner===e[l][b].owner||a.push({dy:l,dx:b}),a)}),[]):b.flatMap((function(r){for(var a=0,c=[];;){++a;var i=n+a*("black"===o?-r.dy:+r.dy),u=t+a*r.dx;if(i<0||u<0||i>7||u>7)break;if(e[i][u].owner&&e[i][u].owner===o)break;if(c.push({dy:i,dx:u}),e[i][u].owner&&e[i][u].owner!==o)break}return c}))}},yt=N.a.mark(Zt),kt=N.a.mark(Bt),wt="canvas/CONNECT_WEBSOCKET",Ct="canvas/DISCONNECT_WEBSOCKET",It=Object(K.a)(wt,(function(e){return e})),Tt=Object(K.a)(Ct),At=Object(K.a)("canvas/INITIALIZE_SOCKET",(function(e){return e})),Nt=Object(K.a)("canvas/INITIALIZE_VALUE",(function(e){return e})),Lt=Object(K.a)("canvas/CHANGE_VALUE",(function(e){return e})),St=Object(K.a)("canvas/CLEAR_VALUE"),_t=Object(K.a)("canvas/INITIALIZE_BLOCKED",(function(e){return e})),Dt=Object(K.a)("canvas/CHANGE_BLOCKED",(function(e){return e})),Rt=$("canvas/SET_MOVE_PIECE"),zt=Object(u.a)(Rt,3),Pt=zt[0],Vt=zt[1],Ut=zt[2],Ft=Y(Pt,(function(e){return te.a.post("/api/canvas/movePiece",e)})),Mt=function(e){var n=e.move;return function(e,t){var r=n.prev,a=n.next,c=t(),o=c.canvas.board,i=c.auth.tempAuth,u=c.game.turn;i&&("white"===i.role&&u%2===0||"black"===i.role&&u%2===1?e(Dt({blocked:!1})):e(Dt({blocked:!0})));var l=o[r.y][r.x],b=Kt(Object(m.a)(o),["covered","clicked","tracked"]);b[a.y]=Object(m.a)(b[a.y]),b[a.y][a.x]=Object(M.a)({},l,{tracked:!0,dirty:!0}),b[r.y]=Object(m.a)(b[r.y]),b[r.y][r.x]={covered:!1,tracked:!0};var f=b[a.y][a.x],s=f.owner,d=f.piece;if(("white"===s&&"pawn"===d&&0===a.y||"black"===s&&"pawn"===d&&7===a.y)&&(b[a.y][a.x]=Object(M.a)({},b[a.y][a.x],{piece:"queen"})),"king"===b[a.y][a.x].piece){if(a.x-r.x===2){b[r.y]=Object(m.a)(b[r.y]);var p=Object(M.a)({},b[r.y][r.x+3]);b[r.y][r.x+3]={covered:!1},b[r.y][r.x+1]=Object(M.a)({},p,{dirty:!0})}if(a.x-r.x===-2){b[r.y]=Object(m.a)(b[r.y]);var v=Object(M.a)({},b[r.y][r.x-4]);b[r.y][r.x-4]={covered:!1},b[r.y][r.x-1]=Object(M.a)({},v,{dirty:!0})}}e(Lt({board:b,clicked:null}))}},Kt=function(e,n){for(var t=[],r=e.length,a=function(a){for(var c=function(r){var c=!1;n.forEach((function(n){c|=e[a][r][n]})),c&&t.push({y:a,x:r})},o=0;o<r;++o)c(o)},c=0;c<r;++c)a(c);return t.forEach((function(t){e[t.y]=Object(m.a)(e[t.y]);var r=e[t.y][t.x],a=Object(M.a)({},r);n.forEach((function(e){a[e]=!1})),e[t.y].splice(t.x,1,a)})),e};function Zt(e){var n,t,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.payload,t="key=".concat(n),a.next=4,Object(B.e)(Q,{url:"/canvas",initializeSocket:At,initializeValue:Nt,changeValue:Mt,query:t});case 4:return r=a.sent,a.next=7,Object(B.g)(Ct);case 7:return a.next=9,Object(B.c)(r);case 9:case"end":return a.stop()}}),yt)}function Bt(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.h)(wt,Zt);case 2:case"end":return e.stop()}}),kt)}var Gt,qt={socket:null,error:null,board:Ot,clicked:null,blocked:!1},Wt=Object(Z.a)((lt={},Object(F.a)(lt,"canvas/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(F.a)(lt,"canvas/INITIALIZE_VALUE",(function(e,n){var t=n.payload.board;return Object(M.a)({},e,{board:t})})),Object(F.a)(lt,"canvas/CHANGE_VALUE",(function(e,n){var t=n.payload,r=t.board,a=t.clicked;return Object(M.a)({},e,{board:r,clicked:a})})),Object(F.a)(lt,"canvas/CLEAR_VALUE",(function(e){return qt})),Object(F.a)(lt,"canvas/INITIALIZE_BLOCKED",(function(e,n){var t=n.payload.blocked;return Object(M.a)({},e,{blocked:t})})),Object(F.a)(lt,"canvas/CHANGE_BLOCKED",(function(e,n){var t=n.payload.blocked;return Object(M.a)({},e,{blocked:t})})),Object(F.a)(lt,Vt,(function(e){return e})),Object(F.a)(lt,Ut,(function(e){return e})),lt),qt),Ht=function(){var e=Object(l.c)((function(e){var n=e.canvas,t=e.auth,r=e.game;return{board:n.board,blocked:n.blocked,turn:r.turn,tempAuth:t.tempAuth}})),n=e.board,t=e.blocked,c=e.turn,o=e.tempAuth,i=Object(l.b)();Object(r.useEffect)((function(){o&&("white"===o.role&&c%2===0||"black"===o.role&&c%2===1?i(_t({blocked:!1})):i(_t({blocked:!0})))}),[i,c,o]),Object(r.useEffect)((function(){return function(){i(St())}}),[i]);var u=Object(r.useCallback)((function(e,n){i(function(e){var n=e.y,t=e.x;return function(e,r){var a=r().canvas,c=a.board,o=a.clicked;if(o&&c[n][t].covered){var i=r().canvas.socket;e(Ft({socket:i,move:{prev:o,next:{y:n,x:t}}}))}else{var u=Et(c,n,t),l=Kt(Object(m.a)(c),["covered","clicked"]);u.forEach((function(e){l[e.dy]=Object(m.a)(l[e.dy]);var n=l[e.dy][e.dx];l[e.dy].splice(e.dx,1,Object(M.a)({},n,{covered:!0}))})),l[n]=Object(m.a)(l[n]),l[n][t]=Object(M.a)({},l[n][t],{clicked:!0}),e(Lt({board:l,clicked:{y:n,x:t}}))}}}({y:e,x:n}))}),[i]);return a.a.createElement(xt,{board:n,blocked:t,onClick:u})},Xt=N.a.mark(sr),Jt=N.a.mark(dr),Qt="chat/CONNECT_WEBSOCKET",$t="chat/DISCONNECT_WEBSOCKET",Yt=Object(K.a)(Qt,(function(e){return e})),er=Object(K.a)($t),nr=Object(K.a)("chat/INITIALIZE_SOCKET",(function(e){return e})),tr=Object(K.a)("chat/INITIALIZE_VALUE",(function(e){return e})),rr=Object(K.a)("chat/CHANGE_VALUE",(function(e){return e})),ar=Object(K.a)("chat/CHANGE_TEXTFIELD",(function(e){return e})),cr=Object(K.a)("chat/INITIALIZE_TEXTFIELD"),or=$("chat/SEND_MESSAGE"),ir=Object(u.a)(or,3),ur=ir[0],lr=ir[1],br=ir[2],fr=Y(ur,(function(e){return te.a.post("/api/chat/sendMessage",e)}));function sr(e){var n,t,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.payload,t="key=".concat(n),a.next=4,Object(B.e)(Q,{url:"/chat",initializeSocket:nr,initializeValue:tr,changeValue:rr,query:t});case 4:return r=a.sent,a.next=7,Object(B.g)($t);case 7:return a.next=9,Object(B.c)(r);case 9:case"end":return a.stop()}}),Xt)}function dr(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.h)(Qt,sr);case 2:case"end":return e.stop()}}),Jt)}var pr=Object(Z.a)((Gt={},Object(F.a)(Gt,"chat/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(F.a)(Gt,"chat/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=t.nickname,a=t.color,c=t.message;return Object(M.a)({},e,{messages:[{nickname:r,color:a,message:c}]})})),Object(F.a)(Gt,"chat/CHANGE_VALUE",(function(e,n){var t=n.payload,r=t.nickname,a=t.color,c=t.message;return Object(M.a)({},e,{messages:[].concat(Object(m.a)(e.messages),[{nickname:r,color:a,message:c}])})})),Object(F.a)(Gt,lr,(function(e){return e})),Object(F.a)(Gt,br,(function(e){return e})),Object(F.a)(Gt,"chat/INITIALIZE_TEXTFIELD",(function(e){return Object(M.a)({},e,{text:""})})),Object(F.a)(Gt,"chat/CHANGE_TEXTFIELD",(function(e,n){var t=n.payload;return Object(M.a)({},e,{text:t})})),Gt),{socket:null,messages:[],text:""}),mr=t(56);function vr(){var e=Object(i.a)(["\n        background: rgb(247,246,245);\n\n        &:after {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 50%;\n            width: 0;\n            height: 0;\n            border: 8px solid transparent;\n            border-top: 0;\n            margin-top: -5px;\n            border-right-color: rgb(247,246,245);\n            border-left: 0;\n            margin-left: -8px;\n        }\n    "]);return vr=function(){return e},e}function hr(){var e=Object(i.a)(["\n    position: relative;\n    background: #ffff80;\n    padding: 5px;\n\n    &:after {\n        content: '';\n        position: absolute;\n        right: 0;\n        top: 50%;\n        width: 0;\n        height: 0;\n        border: 8px solid transparent;\n        border-left-color: #ffff80;\n        border-right: 0;\n        border-top: 0;\n        margin-top: -5px;\n        margin-right: -8px;\n    }\n\n    \n    ","\n"]);return hr=function(){return e},e}function xr(){var e=Object(i.a)(["\n        justify-content: center;\n    "]);return xr=function(){return e},e}function Or(){var e=Object(i.a)(["\n        justify-content: flex-start;\n    "]);return Or=function(){return e},e}function jr(){var e=Object(i.a)(["\n        justify-content: flex-end;\n    "]);return jr=function(){return e},e}function gr(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    width: 90%;\n    height : 36px;\n    min-height : 36px;\n    font-size : 12px;\n    background-color: white;\n\n    ",";\n\n    ",";\n\n    ",";\n"]);return gr=function(){return e},e}function Er(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 20%;\n    font-size: 12px;\n    background-color: rgb(247,246,245);\n    border: none;\n    cursor: pointer;\n\n    &:hover, &:focus {\n        background-color: #D3D3D3;\n    } \n"]);return Er=function(){return e},e}function yr(){var e=Object(i.a)(["\n    outline: none;\n    border: none;\n    align-items : center;\n    color: black;\n    background-color: transparent;\n    font-size: 12px;\n    width: 80%;\n    height : 30px;\n    padding-left: 10px;\n"]);return yr=function(){return e},e}function kr(){var e=Object(i.a)(["\n    position: absolute;\n    width: 100%;\n    display: flex;\n    background-color: white;\n    top: 365px;\n    /* box-shadow: rgba(0,0,0,0.05) 0px -2px 2px 0px, rgba(0,0,0,0.08) 0px -3px 1px -2px, rgba(0,0,0,0.04) 0px -1px 5px 0px; */\n    box-shadow: rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;\n"]);return kr=function(){return e},e}function wr(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 360px;\n    width: 100%;\n    padding-right: 20px;\n    overflow-y: overlay;\n"]);return wr=function(){return e},e}function Cr(){var e=Object(i.a)(["\n    height: 360px;\n    width: 100%;\n    overflow: hidden;\n"]);return Cr=function(){return e},e}function Ir(){var e=Object(i.a)(["\n    position: relative;\n    background-color: white;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Ir=function(){return e},e}function Tr(){var e=Object(i.a)(["\n"]);return Tr=function(){return e},e}var Ar=b.b.form(Tr()),Nr=b.b.div(Ir()),Lr=b.b.div(Cr()),Sr=b.b.div(wr()),_r=b.b.div(kr()),Dr=b.b.input(yr()),Rr=b.b.button(Er()),zr=b.b.div(gr(),(function(e){return"my"===e.owner&&Object(b.a)(jr())}),(function(e){return"other"===e.owner&&Object(b.a)(Or())}),(function(e){return"server"===e.owner&&Object(b.a)(xr())})),Pr=b.b.div(hr(),(function(e){return"other"===e.owner&&Object(b.a)(vr())})),Vr=function(e){var n,t=e.owner,r=e.children;return"my"===t?n=a.a.createElement(Pr,{owner:t},r):"other"===t?n=a.a.createElement(Pr,{owner:t},r):"server"===t&&(n=a.a.createElement(a.a.Fragment,null,r)),a.a.createElement(a.a.Fragment,null,n)},Ur=a.a.memo((function(e){var n=e.message,t=e.myName,r=Object(d.a)(e,["message","myName"]),c=n.nickname?n.nickname===t?"my":"other":"server",o="other"===c?n.nickname+" : "+n.message:n.message;return a.a.createElement(zr,Object.assign({},r,{color:n.color,owner:c}),a.a.createElement(Vr,{owner:c},o))})),Fr=a.a.memo((function(e){var n=e.messages,t=e.onSubmit,c=e.onChange,o=e.text,i=e.tempAuth,u=Object(r.useRef)();return Object(r.useEffect)((function(){u.current.scrollTop=u.current.scrollHeight}),[n]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ar,{onSubmit:t},a.a.createElement(Nr,null,a.a.createElement(Lr,null,a.a.createElement(Sr,{ref:u},n.map((function(e){return a.a.createElement(Ur,{myName:i.nickname,message:e})})))),a.a.createElement(_r,null,a.a.createElement(Dr,{onChange:c,value:o}),a.a.createElement(Rr,{onSubmit:t},a.a.createElement(s.b.Provider,{value:{style:{width:"40%",height:"40%"}}},a.a.createElement(mr.b,null)))))))})),Mr=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){var n=e.chat,t=e.auth;return{socket:n.socket,messages:n.messages,text:n.text,tempAuth:t.tempAuth}})),t=n.socket,c=n.messages,o=n.text,i=n.tempAuth,u=Object(r.useCallback)((function(n){n.preventDefault(),e(fr({socket:t,message:o})),e(cr())}),[e,o,t]),b=Object(r.useCallback)((function(n){e(ar(n.target.value))}),[e]);return a.a.createElement(Fr,{messages:c,onSubmit:u,onChange:b,text:o,tempAuth:i})};function Kr(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    height: 100%;\n    width: 6%;\n    color: black;\n    opacity: 0.5;\n    font-size: 50px;\n"]);return Kr=function(){return e},e}function Zr(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 47%;\n    color: black;\n    font-size: 50px;\n"]);return Zr=function(){return e},e}function Br(){var e=Object(i.a)(["\n        background-color: rgb(230, 153, 153);\n    "]);return Br=function(){return e},e}function Gr(){var e=Object(i.a)(["\n        background-color: rgb(208, 224, 189);\n    "]);return Gr=function(){return e},e}function qr(){var e=Object(i.a)(["\n    width: 50%;\n    height: 60px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    background-color: white;\n    ","\n    ","\n"]);return qr=function(){return e},e}var Wr=b.b.div(qr(),(function(e){return e.color&&Object(b.a)(Gr())}),(function(e){return e.time<=1e4&&Object(b.a)(Br())})),Hr=b.b.div(Zr()),Xr=b.b.div(Kr()),Jr=function(e){var n="";return n+=String(Math.floor(e/10)),n+=String(Math.floor(e%10))},Qr=function(e){var n=e.time,t=e.color,r=Math.floor(n/1e3),c=Math.floor(n%1e3/10);return void 0==n||null===n?a.a.createElement(Wr,null):a.a.createElement(Wr,{time:n,color:t?1:0},a.a.createElement(Hr,null,Jr(r)),a.a.createElement(Xr,null,":"),a.a.createElement(Hr,null,Jr(c)))},$r=function(e){var n=e.white,t=Object(l.c)((function(e){var n=e.record,t=e.game;return{whiteTime:n.whiteTime,blackTime:n.blackTime,start:t.start,order:t.order}})),r=t.whiteTime,c=t.blackTime,o=t.start,i=t.order,u=n?r:c,b=n?o&&"white"===i:o&&"black"===i;return a.a.createElement(Qr,{time:u,color:b})},Yr=t(27);function ea(){var e=Object(i.a)(["\n    font-size: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return ea=function(){return e},e}function na(){var e=Object(i.a)(["\n        margin-top: 30px;\n    "]);return na=function(){return e},e}function ta(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    height: 30px;\n    background-color: white;\n\n    ","\n"]);return ta=function(){return e},e}var ra=b.b.div(ta(),(function(e){return e.white&&Object(b.a)(na())})),aa=b.b.div(ea()),ca=a.a.memo((function(e){var n=e.light,t=e.name,r=e.white,c={style:{height:"15px",width:"10%",color:"green",display:"flex",justifyContent:"center",alignItems:"center"}};return a.a.createElement(ra,{white:r?1:0},n?a.a.createElement(s.b.Provider,{value:c},a.a.createElement(Yr.a,null)):a.a.createElement(s.b.Provider,{value:{style:Object(M.a)({},c.style,{color:"black"})}},a.a.createElement(Yr.h,null)),a.a.createElement(aa,null,t))})),oa=function(e){var n=e.black,t=e.white,r=Object(l.c)((function(e){var n=e.game;return{blackNick:n.black,whiteNick:n.white,participant:n.participant}})),c=r.blackNick,o=r.whiteNick,i=r.participant,u=new Set(i),b=t&&u.has(o)||n&&u.has(c),f=t&&o||n&&c;return a.a.createElement(ca,{light:b,name:f,white:t})};function ia(){var e=Object(i.a)(["\n    width: 20%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n    background-color: rgb(247, 246, 245);\n"]);return ia=function(){return e},e}function ua(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 20%;\n    font-size: 18px;\n"]);return ua=function(){return e},e}function la(){var e=Object(i.a)(["\n    width: 80%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    &:hover {\n        background-color: rgb(209, 228, 246);\n    }\n"]);return la=function(){return e},e}function ba(){var e=Object(i.a)(["\n    width: 100%;\n    height: 30px;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    &:first-child {\n        margin-top: 30px;\n    }\n"]);return ba=function(){return e},e}function fa(){var e=Object(i.a)(["\n    height: 270px;\n    width: 100%;\n    overflow-y: overlay;\n    padding-right: 20px;\n"]);return fa=function(){return e},e}function sa(){var e=Object(i.a)(["\n    height: 270px;\n    width: 100%;\n    overflow: hidden;\n"]);return sa=function(){return e},e}var da=b.b.div(sa()),pa=b.b.div(fa()),ma=b.b.div(ba()),va=function(e){var n=e.x,t=e.y;return String.fromCharCode(97+n)+(8-t)},ha=b.b.div(la()),xa=b.b.div(ua()),Oa=b.b.div(ia()),ja=a.a.memo((function(e){var n=e.move,t=e.index,r=e.onClickBlock;console.dir("PieceMove"),console.dir(n);var c,o,i=Hn[n.prevPiece.piece],u={color:n.prevPiece.owner,style:{width:"10%",filter:"drop-shadow(1px 1px 1px ".concat("white"===n.prevPiece.owner?"black":"white",")")}},l=a.a.createElement(s.b.Provider,{value:u},a.a.createElement(i,null)),b=a.a.createElement("div",{style:{width:"10%"}});return n.nextPiece.piece&&(c=Hn[n.nextPiece.piece],o={color:n.nextPiece.owner,style:{width:"10%",filter:"drop-shadow(1px 1px 1px ".concat("white"===n.nextPiece.owner?"black":"white",")")}},b=a.a.createElement(s.b.Provider,{value:o},a.a.createElement(c,null))),a.a.createElement(ma,null,a.a.createElement(Oa,null,t+1),a.a.createElement(ha,{onClick:r},l,a.a.createElement(xa,null,va(n.prev)),a.a.createElement(s.b.Provider,{value:{style:{color:"rgb(169,169,169)"}}},a.a.createElement(mr.a,null)),a.a.createElement(xa,null,va(n.next)),b))})),ga=a.a.memo((function(e){var n=e.pieceMove,t=e.onClickBlock,c=Object(r.useRef)();return Object(r.useEffect)((function(){c.current.scrollTop=c.current.scrollHeight}),[n]),a.a.createElement(da,null,a.a.createElement(pa,{ref:c},n.map((function(e,n){return a.a.createElement(ja,{onClick:t,move:e,index:n})}))))})),Ea=function(){var e=Object(l.c)((function(e){return{pieceMove:e.record.pieceMove}})).pieceMove,n=Object(r.useCallback)((function(){}),[]);return a.a.createElement(ga,{onClickBlock:n,pieceMove:e})};function ya(){var e=Object(i.a)(["\n        background-color: red;\n    "]);return ya=function(){return e},e}function ka(){var e=Object(i.a)(["\n    position: absolute;\n    height: 2px;\n    background-color: green;\n    transition-duration: 1s;\n    transition-timing-function: linear;\n\n    width: ",";\n    ","\n"]);return ka=function(){return e},e}var wa,Ca=b.b.div(ka(),(function(e){return 100*e.time+"%"}),(function(e){return e.time<=.1&&Object(b.a)(ya())})),Ia=a.a.memo((function(e){var n=e.time;return a.a.createElement(Ca,{time:n})})),Ta=N.a.mark(Fa),Aa=N.a.mark(Ma),Na="record/CONNECT_WEBSOCKET",La="record/DISCONNECT_WEBSOCKET",Sa=Object(K.a)(Na),_a=Object(K.a)(La),Da=Object(K.a)("record/INITIALIZE_SOCKET",(function(e){return e})),Ra=Object(K.a)("record/INITIALIZE_VALUE",(function(e){return e})),za=Object(K.a)("record/CHANGE_VALUE",(function(e){return e})),Pa=Object(K.a)("record/UPDATE_VALUE",(function(e){return e})),Va=Object(K.a)("record/CLEAR_VALUE"),Ua=function(e){return function(n,t){var r=t().record,a=Object(M.a)({},r);Object.keys(e).forEach((function(n){"object"===typeof e[n]&&(a=Object(M.a)({},a,Object(F.a)({},n,[].concat(Object(m.a)(a[n]),[e[n]]))))})),n(Pa({record:a}))}};function Fa(e){var n,t,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.payload,t="key=".concat(n),a.next=4,Object(B.e)(Q,{url:"/record",initializeSocket:Da,initializeValue:Ra,changeValue:za,updateValue:Ua,query:t});case 4:return r=a.sent,a.next=7,Object(B.g)(La);case 7:return a.next=9,Object(B.c)(r);case 9:case"end":return a.stop()}}),Ta)}function Ma(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.h)(Na,Fa);case 2:case"end":return e.stop()}}),Aa)}var Ka={socket:null,error:null,startTime:null,endTime:null,blackTime:null,whiteTime:null,blackMaxTime:null,whiteMaxTime:null,whiteRatio:0,blackRatio:0,pieceMove:[]},Za=Object(Z.a)((wa={},Object(F.a)(wa,"record/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(F.a)(wa,"record/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(d.a)(t,["type"]));return Object(M.a)({},e,{},r)})),Object(F.a)(wa,"record/CHANGE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(d.a)(t,["type"]));return Object(M.a)({},e,{},r)})),Object(F.a)(wa,"record/UPDATE_VALUE",(function(e,n){var t=n.payload.record;return Object(M.a)({},t)})),Object(F.a)(wa,"record/CLEAR_VALUE",(function(e){return Ka})),wa),Ka),Ba=function(e){var n=e.white,t=e.black,c=Object(l.c)((function(e){var n=e.record,t=e.game;return{whiteRatio:n.whiteRatio,blackRatio:n.blackRatio,whiteNick:t.white,blackNick:t.black,participant:t.participant}})),o=c.whiteRatio,i=c.blackRatio,u=c.whiteNick,b=c.blackNick,f=c.participant,s=Object(l.b)();Object(r.useEffect)((function(){return function(){s(Va())}}),[s]);var d=new Set(f),p=0;return(n&&d.has(u)||t&&d.has(b))&&(p=n?o:i),p=Math.min(p,1),a.a.createElement(Ia,{time:p})};function Ga(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 25%;\n    height: 100%;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #D3D3D3;\n    }\n"]);return Ga=function(){return e},e}function qa(){var e=Object(i.a)(["\n    position: absolute;\n    top: 300px;\n    display: flex;\n    width: 100%;\n    height: 30px;\n    background-color: rgb(247, 246, 245);\n    z-index: 10;\n    box-shadow: rgba(0, 0, 0, 0.14) 0px -2px 2px 0px, rgba(0, 0, 0, 0.2) 0px -3px 1px -2px, rgba(0, 0, 0, 0.12) 0px -1px 5px 0px;\n"]);return qa=function(){return e},e}var Wa=b.b.div(qa()),Ha=b.b.div(Ga()),Xa={style:{color:"#4d4d4d",width:"50%",height:"50%",backgroundColor:"transparent"}},Ja=a.a.memo((function(){return a.a.createElement(Wa,null,a.a.createElement(Ha,null,a.a.createElement(s.b.Provider,{value:Xa},a.a.createElement(Yr.c,null))),a.a.createElement(Ha,null,a.a.createElement(s.b.Provider,{value:Xa},a.a.createElement(Yr.i,null))),a.a.createElement(Ha,null,a.a.createElement(s.b.Provider,{value:Xa},a.a.createElement(Yr.j,null))),a.a.createElement(Ha,null,a.a.createElement(s.b.Provider,{value:Xa},a.a.createElement(Yr.d,null))))})),Qa=function(){return a.a.createElement(Ja,null)},$a=t(185);function Ya(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 25%;\n    height: 100%;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #D3D3D3;\n    }\n"]);return Ya=function(){return e},e}function ec(){var e=Object(i.a)(["\n    position: absolute;\n    top: 30px;\n    display: flex;\n    width: 100%;\n    height: 30px;\n    z-index: 10;\n    background-color: rgb(247, 246, 245);\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return ec=function(){return e},e}var nc=b.b.div(ec()),tc=b.b.div(Ya()),rc={style:{color:"#4d4d4d",width:"50%",height:"50%",backgroundColor:"transparent"}},ac=a.a.memo((function(){return a.a.createElement(nc,null,a.a.createElement(tc,null,a.a.createElement(s.b.Provider,{value:{style:Object(M.a)({},rc.style,{width:"60%",height:"60%"})}},a.a.createElement(Yr.b,null))),a.a.createElement(tc,null,a.a.createElement(s.b.Provider,{value:{style:Object(M.a)({},rc.style,{width:"80%",height:"80%"})}},a.a.createElement($a.a,null))),a.a.createElement(tc,null,a.a.createElement(s.b.Provider,{value:rc},a.a.createElement(Yr.f,null))),a.a.createElement(tc,null,a.a.createElement(s.b.Provider,{value:rc},a.a.createElement(Yr.e,null))))})),cc=function(){return a.a.createElement(ac,null)};function oc(){var e=Object(i.a)(["\n    position: relative;\n    width: 100%;\n    height: 360px;\n    background-color: white;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return oc=function(){return e},e}var ic=b.b.div(oc()),uc=a.a.memo((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement($r,{black:!0}),a.a.createElement(ic,null,a.a.createElement(Ba,{black:!0}),a.a.createElement(oa,{black:!0}),a.a.createElement(cc,null),a.a.createElement(Ea,null),a.a.createElement(Qa,null),a.a.createElement(oa,{white:!0}),a.a.createElement(Ba,{white:!0})),a.a.createElement($r,{white:!0}))})),lc=function(){return a.a.createElement(uc,null)};function bc(){var e=Object(i.a)(["\n    ","\n    margin-left: 1%;\n"]);return bc=function(){return e},e}function fc(){var e=Object(i.a)(["\n    ","\n    margin-right: 1%;\n"]);return fc=function(){return e},e}function sc(){var e=Object(i.a)(["\n    height: 90%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 20%;\n"]);return sc=function(){return e},e}function dc(){var e=Object(i.a)(["\n    height: 800px;\n    width: 100%;\n    background-color: rgb(237, 235, 233);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return dc=function(){return e},e}var pc,mc=b.b.div(dc()),vc=Object(b.a)(sc()),hc=b.b.div(fc(),vc),xc=b.b.div(bc(),vc),Oc=a.a.memo((function(e){return a.a.createElement(mc,null,a.a.createElement(hc,null,a.a.createElement(Mr,null)),a.a.createElement(Ht,e),a.a.createElement(xc,null,a.a.createElement(lc,null)))})),jc=N.a.mark(Tc),gc=N.a.mark(Ac),Ec="game/CONNECT_WEBSOCKET",yc="game/DISCONNECT_WEBSOCKET",kc=Object(K.a)(Ec),wc=Object(K.a)(yc),Cc=Object(K.a)("game/INITIALIZE_SOCKET",(function(e){return e})),Ic=Object(K.a)("game/INITIALIZE_VALUE",(function(e){return e}));function Tc(e){var n,t,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.payload,t="key=".concat(n),a.next=4,Object(B.e)(Q,{url:"/game",initializeSocket:Cc,initializeValue:Ic,query:t});case 4:return r=a.sent,a.next=7,Object(B.g)(yc);case 7:return a.next=9,Object(B.c)(r);case 9:case"end":return a.stop()}}),jc)}function Ac(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.h)(Ec,Tc);case 2:case"end":return e.stop()}}),gc)}var Nc=Object(Z.a)((pc={},Object(F.a)(pc,"game/INITIALIZE_SOCKET",(function(e,n){var t=n.payload.socket;return Object(M.a)({},e,{socket:t})})),Object(F.a)(pc,"game/INITIALIZE_VALUE",(function(e,n){var t=n.payload,r=(t.type,Object(d.a)(t,["type"]));return Object(M.a)({},e,{},r)})),pc),{socket:null,error:null,participant:[]}),Lc=function(e){var n=e.gameId,t=Object(l.b)();Object(r.useEffect)((function(){return function(){t(an()),t(wc()),t(er()),t(Tt()),t(_a())}}),[t]);var c=Mn((function(){return N.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.awrap(t(dn()));case 2:return t(an()),t(wc()),t(er()),t(Tt()),t(_a()),setTimeout((function(){t(rn(n)),t(kc(n)),t(Yt(n)),t(It(n)),t(Sa(n))}),0),e.abrupt("return",!0);case 9:case"end":return e.stop()}}))}),[t,n]),o=Object(u.a)(c,1)[0],i=o.loading,b=o.data,f=o.error;return i?null:f?null:b?a.a.createElement(Oc,null):null},Sc=Object(p.f)((function(e){var n=e.history,t=e.match;if(Object(r.useEffect)((function(){t.params.id||n.push("/")}),[n,t]),!t.params.id)return null;var c=t.params.id;return c?a.a.createElement(a.a.Fragment,null,a.a.createElement(Un,null),a.a.createElement(Lc,{gameId:c})):null})),_c=function(){return a.a.createElement(lc,null)};function Dc(){var e=Object(i.a)(["\n    width: 100%;\n    height: 100px;\n    &:nth-child(odd) {\n        background: #F7F6F4;\n    }\n"]);return Dc=function(){return e},e}var Rc=b.b.tr(Dc()),zc=function(e){var n=e.title,t=e.count,r=e.comments,c=e.time;return a.a.createElement(Rc,null,a.a.createElement("td",null,n),a.a.createElement("td",null,t),a.a.createElement("td",null,r),a.a.createElement("td",null,c))};function Pc(){var e=Object(i.a)(["\n    width: 100%;\n    background-color: #F1F1F1;\n"]);return Pc=function(){return e},e}function Vc(){var e=Object(i.a)(["\n    width: 100%;\n    height: 700px;\n    background-color: white;\n"]);return Vc=function(){return e},e}function Uc(){var e=Object(i.a)(["\n    width: 100%;\n    height: 50px;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Uc=function(){return e},e}function Fc(){var e=Object(i.a)(["\n    width: 100%;\n    height: 150px;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0px 0px 0px 0px;\n"]);return Fc=function(){return e},e}function Mc(){var e=Object(i.a)(["\n    width: 80%;\n    height: 1000px;\n    background-color:lightblue;\n    display: flex;\n    flex-direction: column;\n"]);return Mc=function(){return e},e}function Kc(){var e=Object(i.a)(["\n    width: 100%;\n    height: 1000px;\n    background-color:#EDEBE9;\n    display: flex;\n    justify-content: center;\n    /* flex-direction: column; */\n"]);return Kc=function(){return e},e}var Zc=b.b.div(Kc()),Bc=b.b.main(Mc()),Gc=b.b.h1(Fc()),qc=b.b.div(Uc()),Wc=b.b.table(Vc()),Hc=b.b.thead(Pc()),Xc=function(){return a.a.createElement(Zc,null,a.a.createElement(Bc,null,a.a.createElement(Gc,null,"General Chess Discussion"),a.a.createElement(qc,null,"< 1 2 3 4 ... >"),a.a.createElement(Wc,null,a.a.createElement(Hc,null,a.a.createElement("tr",{height:"60px"},a.a.createElement("th",{width:"70%"}),a.a.createElement("th",null,"\uc870\ud68c"),a.a.createElement("th",null,"\ub2f5\uae00"),a.a.createElement("th",null,"\ucd5c\uadfc \uae00"))),[{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5441",count:250,comments:7,time:"1\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5442",count:251,comments:8,time:"2\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5443",count:252,comments:9,time:"3\uc2dc\uac04 \uc804"},{title:"\uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc544 \uac00\uc988\uc5444",count:253,comments:10,time:"4\uc2dc\uac04 \uc804"}].map((function(e){return a.a.createElement(zc,{title:e.title,count:e.count,comments:e.comments,time:e.time})}))),a.a.createElement(qc,null,"< 1 2 3 4 ... >")))},Jc=function(){return a.a.createElement(Xc,null)},Qc=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Un,null),a.a.createElement(Jc,null))},$c=t(33),Yc=t.n($c);function eo(){var e=Object(i.a)(["\n    position: absolute;\n    top: 0;\n    left: 48%;\n    width: 50%;\n    display: flex;\n    justify-content: flex-end;\n    font-size: 12px;\n    @keyframes fontOpacity {\n        0%{\n            color: rgb(0, 0, 0, 0);\n        }\n        100%{\n            color: rgb(0, 0, 0, 0.4);\n        }\n      }\n    animation: fontOpacity 1s 1;\n    color: rgb(0, 0, 0, 0.4);\n"]);return eo=function(){return e},e}function no(){var e=Object(i.a)(["\n    outline: none;\n    border: none;\n    font-size: 10px;\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n    margin-left: 5px;\n"]);return no=function(){return e},e}function to(){var e=Object(i.a)(["\n    color: rgb(0, 0, 0, 0.5);\n    font-size: 10px;\n"]);return to=function(){return e},e}function ro(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n    height: 40px;\n"]);return ro=function(){return e},e}function ao(){var e=Object(i.a)(["\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    border: none;\n    outline: none;\n    width: 30%;\n    cursor: pointer;\n    height: 40px;\n\n    &:hover, :active {\n        background-color: rgb(0, 0, 0, 0.05);\n    }\n"]);return ao=function(){return e},e}function co(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 150px;\n"]);return co=function(){return e},e}function oo(){var e=Object(i.a)(["\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.5);\n    cursor: pointer;\n"]);return oo=function(){return e},e}function io(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    height: 100%;\n    font-size: 10px;\n    color: rgb(0, 0, 0, 0.5);\n    cursor: pointer;\n    margin-left: 5px;\n"]);return io=function(){return e},e}function uo(){var e=Object(i.a)(["\n    height: 100%;\n    outline: none;\n    margin: 0px;\n"]);return uo=function(){return e},e}function lo(){var e=Object(i.a)(["\n    display: flex;\n    align-content: center;\n    width: 30%;\n    height: 100%;\n"]);return lo=function(){return e},e}function bo(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    width: 60%;\n    height: 20px;\n"]);return bo=function(){return e},e}function fo(){var e=Object(i.a)(["\n    ","\n"]);return fo=function(){return e},e}function so(){var e=Object(i.a)(["\n    ","\n"]);return so=function(){return e},e}function po(){var e=Object(i.a)(["\n    outline: none;\n    border: none;\n    height: 40px;\n    width: 80%;\n    padding-left: 5%;\n"]);return po=function(){return e},e}function mo(){var e=Object(i.a)(["\n        animation: blinking 1s 2;\n    "]);return mo=function(){return e},e}function vo(){var e=Object(i.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n    padding-left: 1%;\n    width: 60%;\n\n    &+& {\n        margin-top: 10px;\n    }\n\n    @keyframes blinking {\n        0%{\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n        }\n        50% {\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.56), 0 3px 1px -2px rgba(0,0,0,0.8), 0 1px 5px 0 rgba(0,0,0,0.48);\n        }\n        100%{\n            box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n        }\n      }\n\n    ","\n"]);return vo=function(){return e},e}function ho(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 150px;\n"]);return ho=function(){return e},e}function xo(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    font-size: 20px;\n    height: 100px;\n    text-shadow: 2px 2px 2px rgba(0,0,0,0.14);\n"]);return xo=function(){return e},e}function Oo(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 30%;\n    height: 400px;\n    background-color: rgba(255, 255, 255);\n    box-shadow:0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.2), 0 1px 5px 0 rgba(0,0,0,0.12);\n"]);return Oo=function(){return e},e}function jo(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 800px;\n"]);return jo=function(){return e},e}var go=b.b.form(jo()),Eo=b.b.div(Oo()),yo=b.b.div(xo()),ko=b.b.div(ho()),wo=b.b.div(vo(),(function(e){return e.blink&&Object(b.a)(mo())})),Co=Object(b.a)(po()),Io=b.b.input(so(),Co),To=b.b.input(fo(),Co),Ao=b.b.div(bo()),No=b.b.div(lo()),Lo=b.b.input(uo()),So=b.b.div(io()),_o=b.b.div(oo()),Do=b.b.div(co()),Ro=b.b.button(ao()),zo=b.b.div(ro()),Po=b.b.div(to()),Vo=Object(b.b)(f.b)(no()),Uo=b.b.div(eo()),Fo=a.a.memo((function(e){var n=e.login,t=e.register,c=e.form,o=e.error,i=e.onSubmit,u=e.onChange,l=Object(r.useRef)({}),b=Object(r.useCallback)((function(e){l.current[e].focus()}),[]);return a.a.createElement(go,{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onSubmit:i},a.a.createElement(Eo,null,a.a.createElement(yo,null,n?"Sign In":t?"Sign Up":null),a.a.createElement(ko,null,a.a.createElement(wo,{onClick:b.bind(null,"username"),blink:o.username,key:"username_".concat(o.count)},a.a.createElement(s.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},a.a.createElement(mr.c,null)),a.a.createElement(Io,{type:"text",name:"username",placeholder:"Email",onChange:u,value:c.username,ref:function(e){return l.current.username=e}}),a.a.createElement(Uo,null,o.username)),a.a.createElement(wo,{onClick:b.bind(null,"password"),blink:o.password,key:"password_".concat(o.count)},a.a.createElement(s.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},a.a.createElement(Yr.g,null)),a.a.createElement(To,{type:"password",name:"password",placeholder:"Password",onChange:u,value:c.password,ref:function(e){return l.current.password=e}}),a.a.createElement(Uo,null,o.password)),t?a.a.createElement(wo,{onClick:b.bind(null,"passwordConfirm"),blink:o.passwordConfirm,key:"passwordConfirm_".concat(o.count)},a.a.createElement(s.b.Provider,{value:{style:{width:"20px",height:"20px",cursor:"pointer"}}},a.a.createElement(Yr.g,null)),a.a.createElement(To,{type:"password",name:"passwordConfirm",placeholder:"Confirm Password",onChange:u,value:c.passwordConfirm,ref:function(e){return l.current.passwordConfirm=e}}),a.a.createElement(Uo,null,o.passwordConfirm)):null,n?a.a.createElement(Ao,null,a.a.createElement(No,null,a.a.createElement(Lo,{type:"checkbox"}),a.a.createElement(So,null,"Remember Me")),a.a.createElement(_o,null,"Forget password?")):null),a.a.createElement(Do,null,a.a.createElement(Ro,{type:"submit"},"Submit"),a.a.createElement(zo,null,a.a.createElement(Po,null,"Don't have an account?"),a.a.createElement(Vo,{to:"/register"},"Create")))))})),Mo=Object(p.f)((function(e){var n=e.history,t=Object(l.c)((function(e){var n=e.auth;return{form:n.login,auth:n.auth,authError:n.authError}})),c=t.form,o=t.auth,i=t.authError,b=Object(l.b)(),f=Object(r.useState)({username:"",password:""}),s=Object(u.a)(f,2),d=s[0],p=s[1],m=Object(r.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;""!==d[t]&&p((function(e){return Object(M.a)({},e,Object(F.a)({},t,""))})),b(Sn({form:"login",key:t,value:r}))}),[b,d]),v=Object(r.useCallback)((function(e){e.preventDefault();var n=c.username,t=c.password,r=Object.keys(c).reduce((function(e,n){return Object(M.a)({},e,Object(F.a)({},n,!1))}),{});Object.keys(r).filter((function(e){return""===c[e]})).forEach((function(e){r=Object(M.a)({},r,Object(F.a)({},e,"Required field"))}));var a=Yc.a.object().keys({username:Yc.a.string().max(80).email({minDomainAtoms:2}).required().error((function(){return{message:"Wrong format"}})),password:Yc.a.string().min(4).max(16).required().error((function(){return{message:"4 ~ 16 digits"}}))}),o=Yc.a.validate(c,a,{abortEarly:!1});if(o.error&&o.error.details.forEach((function(e){r[e.path[0]]||(r=Object(M.a)({},r,Object(F.a)({},e.path[0],e.message)))})),Object.keys(r).filter((function(e){return r[e]})).length>0)return p((function(e){return Object(M.a)({},r,{count:e.count+1})})),void Object.keys(r).forEach((function(e){console.dir(r[e]),r[e]&&b(Dn({form:"login",key:e}))}));b(An({username:n,password:t})),b(_n({form:"login"}))}),[b,c]);return Object(r.useEffect)((function(){if(i){console.dir("Login failed"),console.dir(i);var e={},t=i.response.data;return Object.keys(t).forEach((function(n){e=Object(M.a)({},e,Object(F.a)({},n,t[n]))})),void p(e)}o&&n.push("/")}),[n,o,i]),Object(r.useEffect)((function(){return function(){b(_n({form:"login"}))}}),[b]),a.a.createElement(Fo,{login:!0,onSubmit:v,onChange:m,form:c,error:d})})),Ko=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Un,null),a.a.createElement(Mo,null))},Zo=Object(p.f)((function(e){var n=e.history,t=Object(l.c)((function(e){var n=e.auth;return{form:n.register,auth:n.auth,authError:n.authError}})),c=t.form,o=t.auth,i=t.authError,b=Object(l.b)(),f=Object(r.useState)({username:"",password:"",passwordConfirm:""}),s=Object(u.a)(f,2),d=s[0],p=s[1],m=Object(r.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;""!==d[t]&&p((function(e){return Object(M.a)({},e,Object(F.a)({},t,""))})),b(Sn({form:"register",key:t,value:r}))}),[b,d]),v=Object(r.useCallback)((function(e){e.preventDefault();var n=c.username,t=c.password,r=Object.keys(c).reduce((function(e,n){return Object(M.a)({},e,Object(F.a)({},n,!1))}),{});Object.keys(r).filter((function(e){return""===c[e]})).forEach((function(e){r=Object(M.a)({},r,Object(F.a)({},e,"Required field"))}));var a=Yc.a.object().keys({username:Yc.a.string().max(80).email({minDomainAtoms:2}).required().error((function(){return{message:"Wrong format"}})),password:Yc.a.string().min(4).max(16).required().error((function(){return{message:"4 ~ 16 digits"}})),passwordConfirm:Yc.a.any().valid(Yc.a.ref("password")).required().error((function(){return{message:"Password mismatch"}}))}),o=Yc.a.validate(c,a,{abortEarly:!1});if(o.error&&o.error.details.forEach((function(e){r[e.path[0]]||(r=Object(M.a)({},r,Object(F.a)({},e.path[0],e.message)))})),Object.keys(r).filter((function(e){return r[e]})).length>0)return p((function(e){return Object(M.a)({},r,{count:e.count+1})})),void Object.keys(r).forEach((function(e){console.dir(r[e]),r[e]&&b(Dn({form:"register",key:e}))}));b(Nn({username:n,password:t})),b(_n({form:"register"}))}),[b,c]);return Object(r.useEffect)((function(){if(i){console.dir("Register failed"),console.dir(i);var e={},t=i.response.data;return Object.keys(t).forEach((function(n){e=Object(M.a)({},e,Object(F.a)({},n,t[n]))})),void p(e)}o&&n.push("/")}),[n,o,i]),Object(r.useEffect)((function(){return function(){b(_n({form:"register"}))}}),[b]),a.a.createElement(Fo,{register:!0,onSubmit:v,onChange:m,form:c,error:d})})),Bo=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Un,null),a.a.createElement(Zo,null))};function Go(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 200px;\n  font-size: 50px;\n"]);return Go=function(){return e},e}var qo=b.b.div(Go()),Wo=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.c,null,a.a.createElement(p.a,{component:qn,path:"/",exact:!0}),a.a.createElement(p.a,{component:Sc,path:"/game/:id",exact:!0}),a.a.createElement(p.a,{component:_c,path:"/record",exact:!0}),a.a.createElement(p.a,{component:Qc,path:"/community",exact:!0}),a.a.createElement(p.a,{component:Ko,path:"/login",exact:!0}),a.a.createElement(p.a,{component:Bo,path:"/register",exact:!0}),a.a.createElement(p.a,{render:function(e){e.location;return a.a.createElement(qo,null,a.a.createElement("h1",null,"404 Error"),a.a.createElement("p",null,"\uc694\uccad\ud55c \ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ho=t(44),Xo=t(186),Jo=N.a.mark(Qo);function Qo(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([xe(),zn(),Ac(),Bt(),dr(),Ma()]);case 2:case"end":return e.stop()}}),Jo)}var $o=Object(Ho.combineReducers)({room:Oe,auth:Vn,game:Nc,canvas:Wt,chat:pr,record:Za}),Yo=t(187),ei=Object(G.a)(),ni=Object(Ho.createStore)($o,Object(Yo.composeWithDevTools)(Object(Ho.applyMiddleware)(Xo.a,ei)));ei.run(Qo),o.a.render(a.a.createElement(l.a,{store:ni},a.a.createElement(f.a,null,a.a.createElement(Wo,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[190,1,2]]]);
//# sourceMappingURL=main.5d345499.chunk.js.map